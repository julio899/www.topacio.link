import{i as x,r as f,u as G,m as T,f as N,o as F,a as i,g as c,d as o,j as z,e as S,t as h,n as p,k as y,q as R,_ as V,s as j,F as I,v as A,c as E,x as J,h as O}from"./index-efef7872.js";const q="/img/polygon-matic-logo.svg",U="/img/update-meta.svg",X="/img/fly-svgrepo-com.svg",Y="/img/Tmine2.svg",H="/img/claim_.svg";const K={class:"header-card"},Q={class:"nft-number"},W=["href"],Z=o("img",{src:q,alt:"logo matic"},null,-1),aa=o("div",{class:"content-card"},[o("img",{src:X})],-1),ea={key:0,class:"footer-card"},ta={class:"nft-number nft-reward-tmine"},sa=o("img",{src:Y,alt:"tmine logo",class:"img-logo-tmine"},null,-1),na={key:1,class:"snippet","data-title":"dot-flashing"},la=o("div",{class:"stage"},[o("div",{class:"dot-flashing"})],-1),oa=[la],M={__name:"nftItemGallery",props:["nftId"],setup(B,{expose:L}){const P=B,_=x("getDataNFT"),r=x("getLinkNftScan"),d=x("syncBalance"),b=x("syncTmineBalance"),k=x("claimReward"),l=f(P.nftId),u=f(!1),n=f(null),a=G(),w=async()=>{u.value=!0;const e=parseInt(l.value),s=await _(e);s.id&&s.id===l.value&&(n.value=s,a.web3.nftLoad[e]=s),await d(),await b(),setTimeout(()=>{u.value=!1},2e3)},v=T(()=>{const e=parseInt(l.value);return a.web3.nftLoad[e]!==void 0}),C=async()=>{const e=parseInt(l.value);if(await k(e)===!0){await d(),await b(),console.log("* toClaim ok");const t=await _(e);t.id&&t.id===l.value&&(n.value=t,a.web3.nftLoad[e]=t)}},$=T(()=>{var s,t;const e=parseInt(l.value);return a.web3.nftLoad[e]!==void 0&&((t=(s=n==null?void 0:n.value)==null?void 0:s.metadata)!=null&&t.image)?`
	--crt:#fff;
    background-image: url(${n.value.metadata.image});
    background-position: center;
    background-repeat: no-repeat;
    background-size: 130% 100%;`:""}),g=e=>{const s=e.target,t=e.pageX-s.offsetLeft,m=e.pageY-s.offsetTop;s.style.setProperty("--x",t+"px"),s.style.setProperty("--y",m+"px")};return N(v,async e=>{if(e&&(console.log(e,"*existInLoad",a.web3.nftLoad[l.value]!==void 0,l.value,n.value),e&&!n.value)){const s=parseInt(l.value),t=await _(s);t.id&&t.id===l.value&&(n.value=t),console.log({resp:t})}}),N(()=>P.nftId,async function(e){if(l.value=e,n.value=null,console.log("w",e,v.value,a.web3.nftLoad[e]),!v.value&&!a.web3.nftLoad[e]){const s=parseInt(l.value);console.log("*startSearch");const t=await _(s);t.id&&t.id===l.value&&(n.value=t,a.web3.nftLoad[s]=t),console.log("* meta",n.value,{data:t})}a.web3.nftLoad[e],a.web3.nftLoad[e].id===e&&(n.value=a.web3.nftLoad[e])}),F(async()=>{const e=parseInt(l.value),s=await _(e);s.id&&s.id===l.value&&(n.value=s,a.web3.nftLoad[e]=s),s&&!a.web3.nftLoad[l.value]&&(n.value=s,a.web3.nftLoad[l.value]=s)}),L({nftId:l,existInLoad:v,mainStore:a,getBgNft:$,getLinkNftScan:r,moseMoveInCard:g,toClaim:C,loadRedresh:u,toRefresh:w}),(e,s)=>{var t;return i(),c("div",{class:p({"nft-item":!0,"loader-bg":!v.value}),style:R($.value),onMousemove:g},[o("div",K,[o("label",Q,[o("a",{href:z(r)(l.value),target:"_blank"},[S("# "+h(l.value)+" ",1),Z],8,W)]),o("img",{src:U,class:p({"icon-update-meta":!0,"loading-refresh":u.value}),onClick:w},null,2)]),aa,(t=n.value)!=null&&t.reward&&v.value&&!u.value?(i(),c("div",ea,[o("label",ta,[sa,S(" "+h(n.value.reward)+" TMINE ",1)]),o("img",{src:H,onClick:C,class:"icon-reward-claim"})])):y("",!0),!v.value||u.value?(i(),c("div",na,oa)):y("",!0)],38)}}};const ia={key:0,class:"paginator"},ca={key:0,class:"slot-btn"},ua={key:1,class:"slot-btn"},ra={class:"lbl-page"},da={key:0},va=["onClick"],ga={class:"txt-pages"},_a={key:1},fa=["onClick"],ma={key:2,class:"slot-btn _left"},pa={key:3,class:"slot-btn empty"},ya={key:1,class:"paginator"},ha={__name:"ContainerGallery",setup(B,{expose:L}){const P=new O,_=G(),r=f(1),d=f(!1),b=f(null),k=f(5),l=()=>{d.value=!d.value,d.value?k.value=14:k.value=5,a.value=n()},u=T(()=>n().elementosPagina),n=()=>{const g=JSON.parse(JSON.stringify(_.web3.nftTokensIds)),e=P.arrayPaginator(g,k.value,r.value);return b.value=e.totalPaginas,e},a=f(n()),w=g=>{r.value=parseInt(g),a.value=n(),console.log("toPage",r.value)},v=()=>{r.value<b.value&&(r.value++,a.value=n()),console.log("nextPage",r.value)},C=()=>{r.value>1&&(r.value--,a.value=n()),console.log("previusPage",r.value)};return N(()=>_.web3.nftTokensIds,g=>{g&&(a.value=n())}),L({data:[],mainStore:_,currentPage:a,nextPage:v,nftItemGallery:M,getCurrentTarget:u,multiGrid14:d,changeToMultigrid:l}),(g,e)=>{const s=j("key");return i(),c(I,null,[o("section",{class:p({content:!0,"multi-grid-14":d.value,lessMinimal:u.value&&u.value.length&&u.value.length<=4,"minimal-size":d.value&&u.value.length<=3})},[(i(!0),c(I,null,A(u.value,(t,m)=>(i(),E(M,{"nft-id":t,"v-key":m},null,8,["nft-id","v-key"]))),256))],2),a.value&&a.value.paginaActual?(i(),c("section",ia,[a.value.paginaActual>1?(i(),c("span",ca,[o("i",{class:p({"fas fa-th icon-grid":!0,active:d.value}),style:{color:"#ffffff"},onClick:l},null,2),o("button",{class:"btn btn-secundary",onClick:C},"previus")])):y("",!0),a.value.paginaActual==1?(i(),c("span",ua,[o("i",{class:p({"fas fa-th icon-grid":!0,active:d.value}),style:{color:"#ffffff"},onClick:l},null,2)])):y("",!0),o("label",ra,[a.value.totalPaginas>2?(i(),c("div",da,[(i(),c(I,null,A(3,(t,m)=>J(o("button",{class:p({"btn-pag":!0,active:a.value.paginaActual===t}),onClick:D=>w(t)},[S(h(t),1)],10,va),[[s,m]])),64))])):y("",!0),o("div",ga," page "+h(a.value.paginaActual)+" de "+h(a.value.totalPaginas),1),a.value.totalPaginas>=10?(i(),c("div",_a,[(i(!0),c(I,null,A(a.value.totalPaginas,(t,m)=>(i(),c(I,null,[a.value.totalPaginas>3&&m>=a.value.totalPaginas-3?(i(),c("button",{key:0,class:p({"btn-pag":!0,active:a.value.paginaActual===t}),onClick:D=>w(t)},h(t),11,fa)):y("",!0)],64))),256))])):y("",!0)]),a.value.totalPaginas!==a.value.paginaActual?(i(),c("span",ma,[o("button",{class:"btn btn-primary",onClick:v},"next")])):(i(),c("span",pa))])):(i(),c("section",ya))],64)}}},ka=V(ha,[["__scopeId","data-v-1974534a"]]);export{ka as C};
