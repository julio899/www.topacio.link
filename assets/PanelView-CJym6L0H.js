import{_ as C,a as T,b as $}from"./ButtomComponent-iApjI4Op.js";import{_ as I}from"./Tmine2-DhPnLw4a.js";import{_ as N,u as S,j as v,k as s,a as c,b as p,d as e,t as r,f,e as _,l as i,w as k,m as x,p as M,o as P,q as B}from"./index-BHCRGyVk.js";import{C as V}from"./ContainerGallery-B_hMUdMU.js";import"./index-DfpcZtYQ.js";import"./Paginator.vue_vue_type_style_index_0_lang-BwdixOhC.js";import"./Paginator.vue_vue_type_script_setup_true_lang-uYqG6XQG.js";import"./iconify-HmW8hJn6.js";const W="/img/Tmine2-w.svg",E={key:0,id:"list-options"},A={class:"balance-option"},U={class:"balance-option"},F={class:"lbl-left"},j={key:0},q=["src"],D={class:"balance-option"},G={class:"lbl-left"},K={class:"balance-option btn-tmine-container",style:{padding:"0 1em"}},L={key:0,class:"in-col p-1 li-sort"},R={class:"box-vertical-flex"},z={class:"p-1-lr"},H={__name:"SidebarPanel",setup(h,{expose:y}){const d=x(),t=S(),u=v.useToast(),b=()=>{var a;return(a=t==null?void 0:t.web3)!=null&&a.participantsInSorteo&&t.web3.participantsInSorteo.length==0?[]:t.web3.participantsInSorteo?t.web3.participantsInSorteo.flatMap(o=>o.substring(0,7)+"    ......    "+o.slice(-7)):[]},m=async()=>{var a,o,l,g,w;try{const n=await d.proxy.$w3AddMeToSorteo();console.log({r:n}),u.open({message:"Registro procesado satisfactoriamente.",type:"success",position:"top-right"})}catch(n){console.log({e:n}),n!=null&&n.reason?u.open({message:n.reason,type:"error",position:"top-right"}):(l=(o=(a=n==null?void 0:n.info)==null?void 0:a.error)==null?void 0:o.data)!=null&&l.message&&((w=(g=n==null?void 0:n.info)==null?void 0:g.error)==null?void 0:w.code)==-32603&&u.open({message:$t("general.titles.insufficient_gas"),type:"error",position:"top-right"})}};return y({instance:d,mainStore:t,registerInSorteo:m}),(a,o)=>{const l=C,g=T,w=$;return s(t).connected?(c(),p("ul",E,[e("li",null,[e("div",A,[o[0]||(o[0]=e("span",{class:"lbl-left"}," Total Supply TMINE ",-1)),e("label",null,r(s(t).web3.tmineTotalSupply),1)])]),e("li",null,[e("div",U,[e("label",F,r(s(t).web3.balanceFormat),1),s(t).web3.Network?(c(),p("span",j,[s(t).web3.Network.caipNetwork.assets.imageUrl?(c(),p("img",{key:0,src:s(t).web3.Network.caipNetwork.assets.imageUrl,alt:"matic-logo-banance",class:"matic-logo-banance"},null,8,q)):f("",!0),_(" "+r(s(t).web3.Network.caipNetwork.name),1)])):f("",!0)])]),e("li",null,[e("div",D,[e("label",G,r(s(t).web3.tmaineBalanceFormat),1),o[1]||(o[1]=e("span",null,[e("img",{src:W,alt:"tmine-logo-banance",class:"tmine-logo-banance"}),_(" BALANCE TMINE ")],-1))])]),e("li",null,[e("div",K,[i(l,{class:"bnt1",onClick:s(d).proxy.$MultiWalletWeb3.addTmineToWallet},{default:k(()=>[o[2]||(o[2]=e("img",{src:I,class:"tmine-logo-banance"},null,-1)),_(" "+r(a.$t("general.titles.add_tmine"))+"*** ",1)]),_:1},8,["onClick"])])]),s(t).web3.dateNextSorteo&&s(t).web3.dateNextSorteo>999?(c(),p("li",L,[e("div",R,[o[4]||(o[4]=e("span",null,"Proximo Sorteo",-1)),i(g,{dateTarget:s(t).web3.dateNextSorteo},null,8,["dateTarget"]),i(l,{class:"bnt1",onClick:m},{default:k(()=>o[3]||(o[3]=[_("Participar")])),_:1}),i(l,{class:"btn3 p-1 no-cursor"},{default:k(()=>[_("Participantes en dia: "+r(s(t).web3.participantsInSorteo.length),1)]),_:1})])])):f("",!0),e("li",z,[i(w,{title:"Participando para sorteo",items:b(),showKey:!0},null,8,["items"])])])):f("",!0)}}},J=N(H,[["__scopeId","data-v-a69aa0c0"]]),O={key:0,class:"panel-container"},Q={key:1},X=M({__name:"PanelView",setup(h){const y=S(),{proxy:d}=x(),t=async()=>{await d.$MultiWalletWeb3.refreshTokens(),console.log("update")};return P(async()=>{await t()}),B(async()=>{await t()}),(u,b)=>{var m,a;return((a=(m=s(y))==null?void 0:m.web3)==null?void 0:a.connected)===!0?(c(),p("section",O,[e("aside",null,[i(J)]),e("article",null,[i(V)])])):(c(),p("section",Q,b[0]||(b[0]=[e("h1",null,"Necesitas conexion web3",-1)])))}}}),it=N(X,[["__scopeId","data-v-7bb7dd73"]]);export{it as default};
