import{_ as j,i as q,j as l,u as J,r as w,f as L,o as O,k as U,a as r,g,l as o,d as t,e as c,t as i,m as p,c as P,n as G,p as K,b as z,q as Q,h as X}from"./index-e4c7b7e0.js";import{_ as Y}from"./Tmine2-c9d9ad17.js";import{C as B}from"./ContainerGallery-21abc2b8.js";import{_ as $,a as Z,b as N}from"./ScrollAreaComponent.vue_vue_type_style_index_0_lang-4cb24cf4.js";import"./Paginator.vue_vue_type_style_index_0_lang-b1ef3733.js";import"./Paginator.vue_vue_type_script_setup_true_lang-124f1bef.js";import"./iconify-4a565913.js";import"./index-41568031.js";const x="https://topaciotrade.github.io/community/img/Tmine2-w.svg",ee="https://topaciotrade.github.io/community/img/MATICTMIME.svg";const u=b=>(K("data-v-2c6d93b6"),b=b(),z(),b),te={class:"subscription"},se={key:0,class:"title"},oe={class:"title-left-section"},ae=u(()=>t("img",{src:x,alt:"tmine logo",class:"img-logo-tmine"},null,-1)),ne={key:0,class:"block-container"},ie={key:0,class:"text-rate"},ce={class:"halving-container"},le={class:"sidebar"},re={key:0,id:"list-options"},pe={class:"lbl-left"},de=u(()=>t("span",null,[t("img",{src:Q,alt:"matic-logo-banance",class:"matic-logo-banance"}),c(" MATIC ")],-1)),me={class:"lbl-left"},_e=u(()=>t("span",null,[t("img",{src:x,alt:"tmine-logo-banance",class:"tmine-logo-banance"}),c(" TMINE ")],-1)),ge={class:"lbl-left"},ue={class:"add-to-metamask"},be=u(()=>t("img",{src:Y,class:"tmine-logo-banance"},null,-1)),he={class:"p-1-lr"},fe=u(()=>t("li",{class:"container-pool"},[t("img",{src:ee,alt:"Liquidity Pool",class:"img-pool"})],-1)),we={__name:"DashboardView",setup(b,{expose:V}){const T=q.useToast(),y=l("syncTmineTotalSupply"),v=l("addTmineToMetamask");l("executeSelectWinner"),l("resetTimeEventDaily"),l("selectWinnerSorteo");const D=l("addMeToSorteo"),k=l("searchTmineRewardPerBlock"),S=l("searchHalving"),E=new X,e=J(),h=w(1),I=w(null),A=w(10),F=()=>{var s=1,a=confetti.shapeFromText({text:"ðŸ’Ž",scalar:s});confetti({particleCount:100,spread:180,shapes:[a]})},H=async()=>{var s,a,m,_,f;try{const n=await D();T.open({message:"Registro procesado satisfactoriamente.",type:"success",position:"top-right"})}catch(n){console.log({e:n}),n!=null&&n.reason?T.open({message:n.reason,type:"error",position:"top-right"}):(m=(a=(s=n==null?void 0:n.info)==null?void 0:s.error)==null?void 0:a.data)!=null&&m.message&&((f=(_=n==null?void 0:n.info)==null?void 0:_.error)==null?void 0:f.code)==-32603&&T.open({message:$t("general.titles.insufficient_gas"),type:"error",position:"top-right"})}},d=()=>{if(e.web3.nftTokensIds.length==0)return{elementosPagina:[],totalPaginas:1,paginaActual:1};const s=JSON.parse(JSON.stringify(e.web3.nftTokensIds)),a=E.arrayPaginator(s,A.value,h.value);return I.value=a.totalPaginas,console.log({dataFormat:a}),a},R=()=>{h.value<I.value&&(h.value++,M.value=d()),console.log("nextPage",h.value)},M=w(d()),C=()=>{var s;return(s=e==null?void 0:e.web3)!=null&&s.participantsInSorteo&&e.web3.participantsInSorteo.length==0?[]:e.web3.participantsInSorteo?e.web3.participantsInSorteo.flatMap(a=>a.substring(0,7)+"    ......    "+a.slice(-7)):[]};L(()=>e.web3.nftTokensIds,s=>{s&&(d(),y(),k(),S())});const W=[];return O(async()=>{await k(),await S(),y(),d(),console.log("onMounted",e.connected&&e.web3,e.connected,e.web3)}),U(()=>{k(),S(),y(),d()}),V({data:W,mainStore:e,currentPage:M,nextPage:R,ContainerGallery:B,addTmineToMetamask:v,shooterConfetti:F,CountdownComponent:$,ButtomComponent:Z,registerInSorteo:H,ScrollAreaComponent:N,formatWallets:C}),(s,a)=>{var m,_;return r(),g("main",te,[o(e).connected&&o(e).web3?(r(),g("h1",se,[t("span",oe,[c(" Tmine "),ae,c(" "+i(s.$t("general.titles.total_supply"))+": "+i(o(e).web3.tmineTotalSupply)+" ",1),(_=(m=o(e))==null?void 0:m.web3)!=null&&_.blockNumber?(r(),g("span",ne,i(s.$t("general.titles.block"))+": "+i(o(e).web3.blockNumber),1)):p("",!0)]),o(e).web3.rewardTmineBase?(r(),g("span",ie,i(s.$t("general.titles.rate"))+": "+i(o(e).web3.rewardTmineBase),1)):p("",!0),t("div",ce,[c(i(s.$t("general.titles.halving"))+": ",1),o(e).web3.halving?(r(),P($,{key:0,dateTarget:parseInt(o(e).web3.halving)},null,8,["dateTarget"])):p("",!0)]),c(" Topacio Nft's assets "+i(o(e).web3.nftBalance)+" ðŸ’Ž / Holders: "+i(o(e).web3.holdersCount),1)])):p("",!0),t("section",le,[o(e).connected?(r(),g("ul",re,[t("li",null,[t("label",pe,[c(i(o(e).web3.balanceFormat)+" ",1),de])]),t("li",null,[t("label",me,[c(i(o(e).web3.tmineBalance)+" ",1),_e])]),t("li",{onClick:a[0]||(a[0]=(...f)=>o(v)&&o(v)(...f))},[t("label",ge,[t("span",ue,[be,c(" "+i(s.$t("general.titles.add_tmine")),1)])])]),t("li",he,[G(N,{title:"Participando para sorteo",items:C(),showKey:!0},null,8,["items"])]),fe])):p("",!0)]),o(e).connected?(r(),P(B,{key:1})):p("",!0)])}}},Pe=j(we,[["__scopeId","data-v-2c6d93b6"]]);export{Pe as default};
