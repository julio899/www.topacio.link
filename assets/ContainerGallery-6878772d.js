import{i as I,r as m,u as z,m as S,f as B,o as V,a as i,g as c,d as o,j,e as M,t as h,n as p,k as y,q as E,_ as J,s as O,F as P,v as N,c as q,x as U,h as X}from"./index-57e34430.js";const Y="/img/polygon-matic-logo.svg",H="/img/update-meta.svg",K="/img/fly-svgrepo-com.svg",Q="/img/Tmine2.svg",W="/img/claim_.svg";const Z={class:"header-card"},ee={class:"nft-number"},ae=["href"],te=o("img",{src:Y,alt:"logo matic"},null,-1),se=o("div",{class:"content-card"},[o("img",{src:K})],-1),ne={key:0,class:"footer-card"},le={class:"nft-number nft-reward-tmine"},oe=o("img",{src:Q,alt:"tmine logo",class:"img-logo-tmine"},null,-1),ie={key:1,class:"snippet","data-title":"dot-flashing"},ce=o("div",{class:"stage"},[o("div",{class:"dot-flashing"})],-1),ue=[ce],F={__name:"nftItemGallery",props:["nftId"],setup(G,{expose:A}){const C=G,_=I("getDataNFT"),r=I("getLinkNftScan"),d=I("syncBalance"),k=I("syncTmineBalance"),w=I("claimReward"),l=m(C.nftId),u=m(!1),n=m(null),e=z(),x=async()=>{u.value=!0;const a=parseInt(l.value),t=await _(a);t.id&&t.id===l.value&&(n.value=t,e.web3.nftLoad[a]=t),await d(),await k(),setTimeout(()=>{u.value=!1},2e3)},v=S(()=>{const a=parseInt(l.value);return e.web3.nftLoad[a]!==void 0}),L=async()=>{const a=parseInt(l.value);if(await w(a)===!0){await d(),await k(),console.log("* toClaim ok");const s=await _(a);s.id&&s.id===l.value&&(n.value=s,e.web3.nftLoad[a]=s)}},T=S(()=>{var t,s;const a=parseInt(l.value);return e.web3.nftLoad[a]!==void 0&&((s=(t=n==null?void 0:n.value)==null?void 0:t.metadata)!=null&&s.image)?`
	--crt:#fff;
    background-image: url(${n.value.metadata.image});
    background-position: center;
    background-repeat: no-repeat;
    background-size: 130% 100%;`:""}),g=a=>{const t=a.target,s=a.pageX-t.offsetLeft,$=a.pageY-t.offsetTop;t.style.setProperty("--x",s+"px"),t.style.setProperty("--y",$+"px")};return B(v,async a=>{if(a&&(console.log(a,"*existInLoad",e.web3.nftLoad[l.value]!==void 0,l.value,n.value),a&&!n.value)){const t=parseInt(l.value),s=await _(t);s.id&&s.id===l.value&&(n.value=s),console.log({resp:s})}}),B(()=>C.nftId,async function(a){if(l.value=a,n.value=null,console.log("w",a,v.value,e.web3.nftLoad[a]),!v.value&&!e.web3.nftLoad[a]){const t=parseInt(l.value);console.log("*startSearch");const s=await _(t);s.id&&s.id===l.value&&(n.value=s,e.web3.nftLoad[t]=s),console.log("* meta",n.value,{data:s})}e.web3.nftLoad[a],e.web3.nftLoad[a].id===a&&(n.value=e.web3.nftLoad[a])}),V(async()=>{const a=parseInt(l.value),t=await _(a);t.id&&t.id===l.value&&(n.value=t,e.web3.nftLoad[a]=t),t&&!e.web3.nftLoad[l.value]&&(n.value=t,e.web3.nftLoad[l.value]=t)}),A({nftId:l,existInLoad:v,mainStore:e,getBgNft:T,getLinkNftScan:r,moseMoveInCard:g,toClaim:L,loadRedresh:u,toRefresh:x}),(a,t)=>{var s;return i(),c("div",{class:p({"nft-item":!0,"loader-bg":!v.value}),style:E(T.value),onMousemove:g},[o("div",Z,[o("label",ee,[o("a",{href:j(r)(l.value),target:"_blank"},[M("# "+h(l.value)+" ",1),te],8,ae)]),o("img",{src:H,class:p({"icon-update-meta":!0,"loading-refresh":u.value}),onClick:x},null,2)]),se,(s=n.value)!=null&&s.reward&&v.value&&!u.value?(i(),c("div",ne,[o("label",le,[oe,M(" "+h(n.value.reward)+" TMINE ",1)]),o("img",{src:W,onClick:L,class:"icon-reward-claim"})])):y("",!0),!v.value||u.value?(i(),c("div",ie,ue)):y("",!0)],38)}}};const re={key:0,class:"paginator"},de={key:0,class:"slot-btn"},ve={key:1,class:"slot-btn"},ge={class:"lbl-page"},_e={key:0},fe=["onClick"],me={class:"txt-pages"},pe={key:1},ye=["onClick"],be={key:2,class:"slot-btn _left"},he={key:3,class:"slot-btn empty"},ke={key:1,class:"paginator"},we={__name:"ContainerGallery",setup(G,{expose:A}){const C=new X,_=z(),r=m(1),d=m(!1),k=m(null),w=m(5),l=()=>{d.value=!d.value,d.value?w.value=14:w.value=5,e.value=n()},u=S(()=>n().elementosPagina),n=()=>{const g=JSON.parse(JSON.stringify(_.web3.nftTokensIds)),a=C.arrayPaginator(g,w.value,r.value);return k.value=a.totalPaginas,a},e=m(n()),x=g=>{r.value=parseInt(g),e.value=n(),console.log("toPage",r.value)},v=()=>{r.value<k.value&&(r.value++,e.value=n()),console.log("nextPage",r.value)},L=()=>{r.value>1&&(r.value--,e.value=n()),console.log("previusPage",r.value)};return B(()=>_.web3.nftTokensIds,g=>{g&&(e.value=n())}),A({data:[],mainStore:_,currentPage:e,nextPage:v,nftItemGallery:F,getCurrentTarget:u,multiGrid14:d,changeToMultigrid:l}),(g,a)=>{var s,$,D;const t=O("key");return i(),c(P,null,[o("section",{class:p({content:!0,"multi-grid-14":d.value,lessMinimal:u.value&&((s=u.value)==null?void 0:s.length)&&(($=u.value)==null?void 0:$.length)<=4,"minimal-size":d.value&&((D=u.value)==null?void 0:D.length)<=3})},[(i(!0),c(P,null,N(u.value,(f,b)=>(i(),q(F,{"nft-id":f,"v-key":b},null,8,["nft-id","v-key"]))),256))],2),e.value&&e.value.paginaActual?(i(),c("section",re,[e.value.paginaActual>1?(i(),c("span",de,[o("i",{class:p({"fas fa-th icon-grid":!0,active:d.value}),style:{color:"#ffffff"},onClick:l},null,2),o("button",{class:"btn btn-secundary",onClick:L},"previus")])):y("",!0),e.value.paginaActual==1?(i(),c("span",ve,[o("i",{class:p({"fas fa-th icon-grid":!0,active:d.value}),style:{color:"#ffffff"},onClick:l},null,2)])):y("",!0),o("label",ge,[e.value.totalPaginas>2?(i(),c("div",_e,[(i(),c(P,null,N(3,(f,b)=>U(o("button",{class:p({"btn-pag":!0,active:e.value.paginaActual===f}),onClick:R=>x(f)},[M(h(f),1)],10,fe),[[t,b]])),64))])):y("",!0),o("div",me," page "+h(e.value.paginaActual)+" de "+h(e.value.totalPaginas),1),e.value.totalPaginas>=10?(i(),c("div",pe,[(i(!0),c(P,null,N(e.value.totalPaginas,(f,b)=>(i(),c(P,null,[b&&e.value.totalPaginas>3&&b>=e.value.totalPaginas-3?(i(),c("button",{key:0,class:p({"btn-pag":!0,active:e.value.paginaActual===f}),onClick:R=>x(f)},h(f),11,ye)):y("",!0)],64))),256))])):y("",!0)]),e.value.totalPaginas!==e.value.paginaActual?(i(),c("span",be,[o("button",{class:"btn btn-primary",onClick:v},"next")])):(i(),c("span",he))])):(i(),c("section",ke))],64)}}},Ie=J(we,[["__scopeId","data-v-db607000"]]);export{Ie as C};
