import{_ as z,a as L}from"./CountdownComponent-D-oCUJqA.js";import{_ as P,j as F,a as i,b as r,k as f,l as V,u as M,m as I,r as S,p as B,q as s,d as t,t as g,f as u,e as h,w as T,s as D,v as E,S as G,x as K,y as O,h as U,o as W,z as Z,B as j,C as q,A as R}from"./index-Db0pDaok.js";import{_ as Y}from"./Tmine2-DhPnLw4a.js";import{C as H}from"./ContainerGallery-DTBWJEjg.js";import"./index-DmRUso9i.js";import"./Paginator.vue_vue_type_style_index_0_lang-DBbU78iC.js";import"./Paginator.vue_vue_type_script_setup_true_lang-dhMzjMwm.js";import"./iconify-DKIZ0UaV.js";const J="/img/Tmine2-w.svg",Q="/img/icons/airdrop.png",X={},ee={id:"animation-pick",viewBox:"0 0 346.609 346.609","shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","project-id":"ae6668dd2d304dd384210d2898c2f18f","export-id":"5d0b83196efe401197225ebeb2ad45bb",cached:"false",version:"1.1","sodipodi:docname":"animation-pick.svg","inkscape:version":"1.3.2 (091e20e, 2023-11-25, custom)","xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape","xmlns:sodipodi":"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd",xmlns:"http://www.w3.org/2000/svg","xmlns:svg":"http://www.w3.org/2000/svg"};function te(A,a){const v=F("sodipodi:namedview");return i(),r("svg",ee,[f(v,{id:"namedview1",pagecolor:"#505050",bordercolor:"#eeeeee",borderopacity:"1","inkscape:showpageshadow":"0","inkscape:pageopacity":"0","inkscape:pagecheckerboard":"0","inkscape:deskcolor":"#505050","inkscape:zoom":"1.8262653","inkscape:cx":"158.52023","inkscape:cy":"238.46481","inkscape:window-width":"1600","inkscape:window-height":"829","inkscape:window-x":"-8","inkscape:window-y":"-8","inkscape:window-maximized":"1","inkscape:current-layer":"animation-pick"}),a[0]||(a[0]=V('<defs id="defs1" data-v-d61fcdc2><linearGradient id="animation-pick-s-rect1-fill" x1="0.5" y1="0" x2="0.5" y2="1" spreadMethod="pad" gradientUnits="objectBoundingBox" gradientTransform="translate(0 0)" data-v-d61fcdc2><stop id="animation-pick-s-rect1-fill-0" offset="0%" stop-color="rgba(255,255,255,0)" data-v-d61fcdc2></stop><stop id="animation-pick-s-rect1-fill-1" offset="100%" stop-color="#010022" data-v-d61fcdc2></stop></linearGradient></defs><g id="animation-pick-s-g1_tr" transform="translate(80.118165,315.709748) rotate(-32.650812)" data-v-d61fcdc2><g id="animation-pick-s-g1" transform="translate(-70.935944,-256.668968)" data-v-d61fcdc2><path id="animation-pick-s-path1" d="M32.974,340.098c-.091.078-.173.156-.251.236l-1.845,1.847c-.381.143-.753.319-1.097.551-7.401,4.882-17.855,3.832-24.168-2.478-6.401-6.399-7.454-16.535-2.499-24.1.221-.341.383-.699.496-1.081L228.05,90.635l13.654,13.653l13.224,13.217C162.42,210.332,37.001,336.06,32.974,340.098Z" transform="matrix(.735873 0 0 0.722708 60.476257 15.982034)" data-v-d61fcdc2></path><path id="animation-pick-s-path2" d="M343.942,222.405l-77.04-108.028c-.174-.241-.369-.467-.579-.677L231.856,79.232c-.384-.38-.818-.703-1.291-.95l-50.39-26.581-10.431-15.068L180.837,0.816l12.892,2.575l98.727,83.688l54.153,134.255-2.667,1.071Z" transform="translate(-15.469981-12.213137)" data-v-d61fcdc2></path></g></g><g id="animation-pick-u-stone-pile-svgrepo-com_to" transform="translate(280.35358,284.7341)" data-v-d61fcdc2><path id="animation-pick-u-stone-pile-svgrepo-com" d="m 317.727,108.904 -95.192,96.592 -26.93,86.815 17.54,36.723 20.417,9.287 33.182,-55.082 11.297,-3.61 61.75,26.85 20.26,-12.998 4.47,-43.7 11.42,53.634 -10.622,14.162 3.772,1.64 5.238,6.5 6.832,34.343 55.977,-66.775 13.98,0.23 22.397,28.575 -9.453,-52.244 L 434.01,166.81 317.73,108.904 Z M 123.61,120.896 94.08,173 l -4.603,27.62 25.98,-8.442 11.704,7.377 0.084,0.634 28.295,59.865 13.773,-4.543 10.94,4.668 3.922,8.21 19.517,-62.917 -1.074,-33.336 -40.15,-0.522 -29.732,-23.78 34.06,10.888 42.49,-7.727 26.034,15.88 36.282,-36.815 c -2.777,-1.18 -5.615,-2.356 -8.58,-3.52 l -79.58,10.126 -3.528,-0.25 -56.307,-15.52 z m 249.33,36.422 47.058,66.02 2.107,62.51 L 396.822,226.15 331.5,165.746 Z m -262.2,55.32 -64.234,20.876 -16.71,78.552 50.794,5.582 0.596,-7.14 37.662,-36.707 -8.108,-61.16 z m 56.688,62.45 -36.44,12.016 -31.644,30.84 22.588,30.867 57.326,1.74 16.5,-16.16 -28.33,-59.302 z m 110.666,24.19 -44.307,73.546 -0.033,57.14 97.264,12.216 44.242,-19.528 -17.666,-88.806 -79.5,-34.567 z m 165.706,14.082 -46.843,55.876 0.287,1.774 65.147,13.887 25.78,-14.926 -44.37,-56.613 z m -138.382,15.89 39.23,22.842 13.41,50.658 -26.82,23.838 -45.015,-2.553 38.562,-28.242 2.483,-39.23 -21.85,-27.312 z m -238.37,53.838 -8.77,28.51 13.152,48.498 91.037,-11.91 1.32,-26.418 -62.582,-31.995 -34.156,-6.684 z" transform="matrix(0.279254,0,0,0.279254,220,220)" data-v-d61fcdc2></path></g>',3))])}const $=P(X,[["render",te],["__scopeId","data-v-d61fcdc2"]]),oe={key:0,id:"list-options"},se={class:"balance-option"},ae={class:"lbl-left"},ne={class:"balance-option"},ie={class:"lbl-left"},re=["src"],ce={key:0},le=["src"],pe={class:"balance-option"},de={class:"lbl-left"},me={class:"balance-option btn-tmine-container",style:{padding:"0 1em"}},fe={key:0,class:"in-col p-1 li-sort"},ue={class:"box-vertical-flex"},ge={key:1,style:{padding:"0 1em"}},_e={key:0,class:"button-hat",src:"https://assets.codepen.io/4175254/santa-hat-test-9.png",alt:""},we={key:1,class:"button-hat airdrop-move",src:Q,alt:""},be={key:2},ke={class:"p-1-lr"},he={__name:"SidebarPanel",setup(A,{expose:a}){const v="TSTONE",c=E(),e=M(),x=I.useToast(),p=S(!1),l=S(!0),d=B(()=>!!(e.web3&&(e.web3.nftBalance==0||e.web3.nftBalance=="0"))),_=B(()=>new Date().getUTCMonth()===11),w=async()=>{p.value||(await e.requestAirdrop(),x.open({message:"Airdrop testnet procesado satisfactoriamente.",type:"success",position:"top-right",timeout:7e3}),G.fire({position:"bottom-end",icon:"success",title:"The Airdrop mint may take a few seconds.⏱️",timerProgressBar:!0,showConfirmButton:!1,timer:2e4}),setTimeout(()=>{l.value=!1},21e3)),p.value=!0},y=()=>{var m;return(m=e==null?void 0:e.web3)!=null&&m.participantsInSorteo&&e.web3.participantsInSorteo.length==0?[]:e.web3.participantsInSorteo?e.web3.participantsInSorteo.flatMap(o=>o.substring(0,7)+"    ......    "+o.slice(-7)):[]},b=async()=>{var m,o,k,C,N;try{const n=await c.proxy.$w3AddMeToSorteo();console.log({r:n}),x.open({message:"Registro procesado satisfactoriamente.",type:"success",position:"top-right"})}catch(n){console.log({e:n}),n!=null&&n.reason?x.open({message:n.reason,type:"error",position:"top-right"}):(k=(o=(m=n==null?void 0:n.info)==null?void 0:m.error)==null?void 0:o.data)!=null&&k.message&&((N=(C=n==null?void 0:n.info)==null?void 0:C.error)==null?void 0:N.code)==-32603&&x.open({message:$t("general.titles.insufficient_gas"),type:"error",position:"top-right"})}};return a({instance:c,mainStore:e,registerInSorteo:b,airdrop:w,clickedAirdrop:p,enabledAirdrop:d,PickAnimation:$,isDiciembre:_}),(m,o)=>{const k=K,C=z,N=L;return s(e).connected?(i(),r("ul",oe,[t("li",null,[t("div",se,[t("span",ae," Total Supply "+g(s(v)),1),t("label",null,g(s(e).web3.tmineTotalSupply),1)])]),t("li",null,[t("div",ne,[t("span",ie,[m.$getConnectedState()&&m.$getImgBlockchain()?(i(),r("img",{key:0,src:m.$getImgBlockchain(),alt:"logo blockchain",width:"25px",height:"25px",class:"icon-blockchain"},null,8,re)):u("",!0),o[0]||(o[0]=h(" BALANCE "))]),t("label",null,g(s(e).web3.balanceFormat),1),s(e).web3.Network?(i(),r("span",ce,[s(e).web3.Network.caipNetwork.assets.imageUrl?(i(),r("img",{key:0,src:s(e).web3.Network.caipNetwork.assets.imageUrl,alt:"matic-logo-banance",class:"matic-logo-banance"},null,8,le)):u("",!0),h(" "+g(s(e).web3.Network.caipNetwork.name),1)])):u("",!0)])]),t("li",null,[t("div",pe,[t("label",de,g(s(e).web3.tmaineBalanceFormat),1),t("span",null,[o[1]||(o[1]=t("img",{src:J,alt:"tmine-logo-banance",class:"tmine-logo-banance"},null,-1)),h(" BALANCE "+g(s(v)),1)])])]),t("li",null,[t("div",me,[f(k,{class:"bnt1",onClick:s(c).proxy.$MultiWalletWeb3.addTmineToWallet},{default:T(()=>[o[2]||(o[2]=t("img",{src:Y,class:"tmine-logo-banance"},null,-1)),h(" "+g(s(e).web3.TOKEN_SYMBOL_NAME),1)]),_:1},8,["onClick"])])]),s(e).web3.dateNextSorteo&&s(e).web3.dateNextSorteo>999?(i(),r("li",fe,[t("div",ue,[o[4]||(o[4]=t("span",null,"Proximo Sorteo",-1)),f(C,{dateTarget:s(e).web3.dateNextSorteo},null,8,["dateTarget"]),f(k,{class:"bnt1",onClick:b},{default:T(()=>o[3]||(o[3]=[h("Participar")])),_:1}),f(k,{class:"btn3 p-1 no-cursor"},{default:T(()=>[h("Participantes en dia: "+g(s(e).web3.participantsInSorteo.length),1)]),_:1})])])):u("",!0),l.value&&d.value?(i(),r("li",ge,[f(k,{class:D({airdroptBtn:!0,bnt1:!0,clicked:p.value}),onClick:w},{default:T(()=>[o[5]||(o[5]=h(" Get Airdrop ")),_.value?(i(),r("img",_e)):u("",!0),_.value?u("",!0):(i(),r("img",we))]),_:1},8,["class"])])):u("",!0),p.value&&!s(e).web3.airdorpProccesed?(i(),r("li",be,[f($)])):u("",!0),t("li",ke,[f(N,{title:"Participando para sorteo",items:y(),showKey:!0},null,8,["items"])])])):u("",!0)}}},ve=P(he,[["__scopeId","data-v-c845fabc"]]),xe={key:0,class:"panel-container"},ye={key:1},Ce={__name:"PanelView",setup(A){const a=M(),v="0x71517AE53cFe97A139709f7Eec0Ae535FC8445E0",c=E(),{t:e}=O(),x=I.useToast();return U(()=>a.web3.signer,function(p){var l,d;(d=(l=c==null?void 0:c.appContext)==null?void 0:l.config)!=null&&d.globalProperties&&(c.appContext.config.globalProperties.$refreshTokens(),c.appContext.config.globalProperties.$getFragments())}),W(async()=>{var p,l;if((p=a==null?void 0:a.web3)!=null&&p.nftContract){const{walletProvider:d}=Z("eip155"),w=await new j(d).getSigner(),y=new q(v,R,w);((l=a==null?void 0:a.web3)==null?void 0:l.walletName)==="MetaMask"&&(y.on("NewMint",b=>{console.log("NewMint",{w:b}),c.appContext.config.globalProperties.$refreshTokens(),(w==null?void 0:w.address)==b&&(a.proccesedAirdrop(),confetti({particleCount:100,spread:180,scalar:.8}),setTimeout(function(){confetti({particleCount:150,spread:180,scalar:.5,shapes:[confetti.shapeFromText({text:"💎",scalar:1.25})]})},350),setTimeout(function(){confetti({particleCount:150,spread:180,scalar:.5})},500),x.open({message:e("general.success.airdrop_completed"),type:"success",position:"top-left"}))}),y.on("Transfer",b=>{console.log("Transfer",{e:b}),c.appContext.config.globalProperties.$refreshTokens()}))}}),(p,l)=>{var d,_;return((_=(d=s(a))==null?void 0:d.web3)==null?void 0:_.connected)===!0?(i(),r("section",xe,[t("aside",null,[f(ve)]),t("article",null,[f(H)])])):(i(),r("section",ye,l[0]||(l[0]=[t("h1",null,"Necesitas conexion web3",-1)])))}}},Ie=P(Ce,[["__scopeId","data-v-fe465e5b"]]);export{Ie as default};
