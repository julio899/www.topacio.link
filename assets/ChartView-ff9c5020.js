import{r as H,o as Pe,D as Ja,a as F,g as O,F as Ra,d as a,h as pa,u as ga,f as k,k as Qa,_ as ba,y as x,E as va,e as me,l as K,n as Re,G as et,H as at,I as We,A as Ee,t as Y,v as tt,J as it,m as J,c as Te,p as st,b as lt}from"./index-0946c29d.js";import{u as ue,T as _a,p as ot}from"./processDivergence-dd2ca019.js";import{_ as ua}from"./Selector-434eae3a.js";function za(j,o){let m=null;const t=typeof o=="number"?o:function(L){const[u,G="ms"]=String(L).split(/(ms|s)/i);return Number(u)*{ms:1,s:1e3}[G]}(o),f=function(){for(var L=arguments.length,u=new Array(L),G=0;G<L;G++)u[G]=arguments[G];const I=()=>{m=null,j.apply(this,u)};clearTimeout(m),m=setTimeout(I,t),m||j.apply(this,u)};return f.cancel=()=>{clearTimeout(m),m=null},f}const rt=a("div",{id:"chart-rsi"},[a("div",{class:"vertical-cursor"})],-1),nt=a("div",{id:"chart-macd"},null,-1),Wa={__name:"ChartRsi",setup(j,{expose:o}){const m=new pa,t=ue();let f=[];const L=H(null);let u;return Pe(()=>{f=t.chart.data.flatMap(z=>{let S={value:z.rsi,time:z.time};return z.rsi>75&&(S.color="#f70776"),z.rsi<25&&(S.color="#e0ffcd"),S});const e=document.querySelector("#chart-rsi");let s=m.getConfigChart(e.offsetWidth,e.offsetHeight);s.priceLineVisible=!1,s.priceLineColor="transparent",s.lastValueVisible=!1,s.localization={priceFormatter:z=>parseFloat(z).toFixed(2),timeFormatter:z=>{const S="DD-MM-YYYY HH:mm:ss";return Ja(new Date(z)).format(S)}},L.value=_a(e,s),u=L.value.addLineSeries({color:"rgba(4, 111, 232, 1)",lineWidth:1,priceLineVisible:!1}),u.setData(f),console.log("dataRsi l:",f.length)}),o({chart:L,updateAndRecalculate:()=>{f=t.chart.data.flatMap(e=>{if(!e.rsi)return[];let s={value:e.rsi,time:e.time};return e.rsi>75&&(s.color="#f70776"),e.rsi<25&&(s.color="#e0ffcd"),s}),u.setData(f)},update:e=>{u.update(e),L.value.applyOptions({watermark:{color:"rgba(255, 255, 255, 1)",visible:!0,text:`RSI 14 SMA ${e.value}`,fontSize:11,horzAlign:"left",vertAlign:"top"}})}}),(e,s)=>(F(),O(Ra,null,[rt,nt],64))}},Ea={__name:"ChartMacd",props:["chartInfoVisible"],emits:["resizeChart","syncCrosshair"],setup(j,{expose:o,emit:m}){const t=j,f=m,L=ue(),u=ga(),G=new pa,I=H(null);let e=null,s=null,z=null,S=null,y=[],X=[],te=[],P=[];k(()=>t.chartInfoVisible,function(V){d(V)});const Se=(V,A)=>{if(A){const N=y.filter(p=>p.time===A.time);N[0]&&s&&e.setCrosshairPosition(N[0],A.time,s);return}e.clearCrosshairPosition()},d=V=>{var A,N;(A=V==null?void 0:V.visibleLogicalRange)!=null&&A.to&&((N=V==null?void 0:V.visibleLogicalRange)!=null&&N.from)&&(V.visibleLogicalRange.to=parseInt(V.visibleLogicalRange.to),V.visibleLogicalRange.from=parseInt(V.visibleLogicalRange.from),e.timeScale().setVisibleLogicalRange({to:V.visibleLogicalRange.to,from:V.visibleLogicalRange.from}))},R=async()=>{const V=document.getElementById("chart-macd"),A=parseInt(u.w/1.005),N=parseInt(V.offsetHeight);console.log({w:A,h:N});let p=G.getConfigChart(A,N);p.timeScale.visible=!1,p.timeScale.timeVisible=!1,p.localization.priceFormatter=Q=>parseFloat(Q).toFixed(4),e=await _a(V,p),s=e.addHistogramSeries({color:"#26a69a"}),z=e.addLineSeries({color:"#8bffff",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),S=e.addLineSeries({color:"#f07810",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),s.applyOptions({lastValueVisible:!1,priceLineVisible:!1}),e.applyOptions({watermark:{color:"#00ff11",visible:!0,text:"MACD  - Fast [10] * Slow [20]",fontSize:14,horzAlign:"left",vertAlign:"top"}})},ae=()=>{L.chart.data.flatMap(p=>p.high);function V(p,Q){return p.time<Q.time?-1:p.time>Q.time?1:0}let A=[];L.chart.data.forEach((p,Q)=>{if(L.chart.data[Q-1]){let M=L.chart.data[Q-1];M.macd.MACD=parseFloat(parseFloat(M.macd.MACD).toFixed(5)),M.macd.histogram=parseFloat(parseFloat(M.macd.histogram).toFixed(5)),M.macd.signal=parseFloat(parseFloat(M.macd.signal).toFixed(5)),p.macd.MACD=parseFloat(parseFloat(p.macd.MACD).toFixed(5)),p.macd.histogram=parseFloat(parseFloat(p.macd.histogram).toFixed(5)),p.macd.signal=parseFloat(parseFloat(p.macd.signal).toFixed(5)),p.macd.signal>p.macd.MACD&&M.macd.MACD>M.macd.signal&&(A[p.time]=!0,P.push({time:M.time,position:"inBar",color:"orange",shape:"circle"})),p.macd.signal<p.macd.MACD&&M.macd.signal>M.macd.MACD&&(A[p.time]=!0,P.push({time:M.time,position:"inBar",color:"aqua",shape:"circle"}))}}),y=L.chart.data.flatMap((p,Q)=>{let M={value:p.macd.histogram,time:p.time};M.color=p.macd.histogram<0?"#c3195d":"#2ba71e70";let ie=L.chart.data[Q-1];return ie&&(ie.macd.histogram<0&&p.macd.histogram<0&&p.macd.histogram>ie.macd.histogram&&(M.color="pink"),ie.macd.histogram>0&&p.macd.histogram>0&&p.macd.histogram<ie.macd.histogram&&(M.color="#e0ffcd")),M}),y=y.sort(V),P=P.sort(V),te=L.chart.data.flatMap(p=>({value:p.macd.signal,time:p.time})),te=te.sort(V),X=L.chart.data.flatMap(p=>({value:p.macd.MACD,time:p.time})),X=X.sort(V),s&&z&&S&&(s.setData(y),z.setData(X),S.setData(te),S.setMarkers(P))};return Pe(async()=>{f("resizeChart"),await R(),ae(),e.subscribeCrosshairMove(V=>{const A=L.chart.data.filter(N=>N.time===V.time);A&&A[0]&&A[0].time&&f("syncCrosshair",A[0])})}),Qa(async()=>{f("resizeChart")}),o({processData:ae,histogramSeries:s,syncCrosshair:Se}),(V,A)=>(F(),O("div",{id:"chart-macd",class:"container-macd",ref_key:"chartMacd",ref:I},null,512))}},ct="/img/config.svg";const dt={name:"MenuIndicadores",props:["displaymenu"],setup(j){return{indicators:ue()}}},ht={class:"menu-list"},mt={class:"menu-item"},ut=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),ft=a("span",null,"Bandas de Bollinger",-1),pt=[ut,ft],gt={class:"menu-item"},bt=va('<button class="menu-button"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="800px" height="800px" viewBox="0 0 20 20" version="1.1"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Dribbble-Light-Preview" transform="translate(-380.000000, -7079.000000)" fill="#898c94"><g id="icons" transform="translate(56.000000, 160.000000)"><path d="M325.998,6919 C324.893,6919 324,6919.895 324,6921 L324,6926 C324,6926.552 324.447,6927 324.999,6927 C325.552,6927 326,6926.552 326,6926 L326,6923.621 C326,6923.176 326.538,6922.953 326.853,6923.268 L329.877,6926.293 C330.268,6926.683 330.901,6926.683 331.291,6926.293 C331.682,6925.902 331.681,6925.269 331.291,6924.879 L328.266,6921.854 C327.951,6921.539 328.174,6921 328.619,6921 L330.998,6921 C331.55,6921 331.998,6920.552 331.998,6920 C331.998,6919.448 331.55,6919 330.998,6919 L325.998,6919 L325.998,6919 Z M344,6932 C344,6931.448 343.551,6931 342.999,6931 C342.447,6931 342,6931.448 342,6932 L342,6934.379 C342,6934.824 341.46,6935.047 341.145,6934.732 L338.12,6931.707 C337.729,6931.317 337.096,6931.317 336.705,6931.707 C336.315,6932.098 336.315,6932.731 336.705,6933.121 L339.73,6936.146 C340.045,6936.461 339.822,6937 339.377,6937 L336.998,6937 C336.446,6937 335.998,6937.448 335.998,6938 C335.998,6938.552 336.446,6939 336.998,6939 L341.998,6939 C343.103,6939 344,6938.105 344,6937 L344,6932 L344,6932 Z" id="arrow_up-[#234]"></path></g></g></g></svg><span>Hull</span><span class="r-30">Ocilador</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg></button>',1),vt={class:"menu-sub-list"},_t={class:"menu-item"},wt=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),Lt=a("span",null,"10 periodos ",-1),Vt=[wt,Lt],xt={class:"menu-item"},kt=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),yt=a("span",null,"20 periodos ",-1),Ct=[kt,yt],St={class:"menu-item"},Dt=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),Mt=a("span",null,"55 periodos ",-1),At=[Dt,Mt],Ft={class:"menu-item"},It=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),Bt=a("span",null,"89 periodos ",-1),zt=[It,Bt],Wt={class:"menu-item"},Et=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),Rt=a("span",null,"233 periodos",-1),Tt=[Et,Rt],Pt={class:"menu-item"},Ht=va('<button class="menu-button"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="800px" height="800px" viewBox="0 0 20 20" version="1.1"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Dribbble-Light-Preview" transform="translate(-380.000000, -7079.000000)" fill="#898c94"><g id="icons" transform="translate(56.000000, 160.000000)"><path d="M325.998,6919 C324.893,6919 324,6919.895 324,6921 L324,6926 C324,6926.552 324.447,6927 324.999,6927 C325.552,6927 326,6926.552 326,6926 L326,6923.621 C326,6923.176 326.538,6922.953 326.853,6923.268 L329.877,6926.293 C330.268,6926.683 330.901,6926.683 331.291,6926.293 C331.682,6925.902 331.681,6925.269 331.291,6924.879 L328.266,6921.854 C327.951,6921.539 328.174,6921 328.619,6921 L330.998,6921 C331.55,6921 331.998,6920.552 331.998,6920 C331.998,6919.448 331.55,6919 330.998,6919 L325.998,6919 L325.998,6919 Z M344,6932 C344,6931.448 343.551,6931 342.999,6931 C342.447,6931 342,6931.448 342,6932 L342,6934.379 C342,6934.824 341.46,6935.047 341.145,6934.732 L338.12,6931.707 C337.729,6931.317 337.096,6931.317 336.705,6931.707 C336.315,6932.098 336.315,6932.731 336.705,6933.121 L339.73,6936.146 C340.045,6936.461 339.822,6937 339.377,6937 L336.998,6937 C336.446,6937 335.998,6937.448 335.998,6938 C335.998,6938.552 336.446,6939 336.998,6939 L341.998,6939 C343.103,6939 344,6938.105 344,6937 L344,6932 L344,6932 Z" id="arrow_up-[#234]"></path></g></g></g></svg><span>EMAS</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg></button>',1),Ot={class:"menu-sub-list"},jt={class:"menu-item"},Nt=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),qt=a("span",null,"10 periodos ",-1),Ut=[Nt,qt],Zt={class:"menu-item"},$t=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),Yt=a("span",null,"20 periodos",-1),Kt=[$t,Yt],Gt={class:"menu-item"},Xt=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),Jt=a("span",null,"55 periodos ",-1),Qt=[Xt,Jt],ei={class:"menu-item"},ai=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),ti=a("span",null,"89 periodos ",-1),ii=[ai,ti],si={class:"menu-item"},li=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),oi=a("span",null,"100 periodos ",-1),ri=[li,oi],ni={class:"menu-item"},ci=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),di=a("span",null,"200 periodos ",-1),hi=[ci,di],mi={class:"menu-item"},ui=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),fi=a("span",null,"233 periodos ",-1),pi=[ui,fi],gi={class:"menu-item"},bi=va('<button class="menu-button"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="800px" height="800px" viewBox="0 0 20 20" version="1.1"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Dribbble-Light-Preview" transform="translate(-380.000000, -7079.000000)" fill="#898c94"><g id="icons" transform="translate(56.000000, 160.000000)"><path d="M325.998,6919 C324.893,6919 324,6919.895 324,6921 L324,6926 C324,6926.552 324.447,6927 324.999,6927 C325.552,6927 326,6926.552 326,6926 L326,6923.621 C326,6923.176 326.538,6922.953 326.853,6923.268 L329.877,6926.293 C330.268,6926.683 330.901,6926.683 331.291,6926.293 C331.682,6925.902 331.681,6925.269 331.291,6924.879 L328.266,6921.854 C327.951,6921.539 328.174,6921 328.619,6921 L330.998,6921 C331.55,6921 331.998,6920.552 331.998,6920 C331.998,6919.448 331.55,6919 330.998,6919 L325.998,6919 L325.998,6919 Z M344,6932 C344,6931.448 343.551,6931 342.999,6931 C342.447,6931 342,6931.448 342,6932 L342,6934.379 C342,6934.824 341.46,6935.047 341.145,6934.732 L338.12,6931.707 C337.729,6931.317 337.096,6931.317 336.705,6931.707 C336.315,6932.098 336.315,6932.731 336.705,6933.121 L339.73,6936.146 C340.045,6936.461 339.822,6937 339.377,6937 L336.998,6937 C336.446,6937 335.998,6937.448 335.998,6938 C335.998,6938.552 336.446,6939 336.998,6939 L341.998,6939 C343.103,6939 344,6938.105 344,6937 L344,6932 L344,6932 Z" id="arrow_up-[#234]"></path></g></g></g></svg><span>SMA</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg></button>',1),vi={class:"menu-sub-list"},_i={class:"menu-item"},wi=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),Li=a("span",null,"10 periodos ",-1),Vi=[wi,Li],xi={class:"menu-item"},ki=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),yi=a("span",null,"20 periodos",-1),Ci=[ki,yi],Si={class:"menu-item"},Di=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),Mi=a("span",null,"55 periodos ",-1),Ai=[Di,Mi],Fi={class:"menu-item"},Ii=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),Bi=a("span",null,"89 periodos ",-1),zi=[Ii,Bi],Wi={class:"menu-item"},Ei=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),Ri=a("span",null,"100 periodos ",-1),Ti=[Ei,Ri],Pi={class:"menu-item"},Hi=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),Oi=a("span",null,"200 periodos ",-1),ji=[Hi,Oi],Ni={class:"menu-item"},qi=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),Ui=a("span",null,"233 periodos ",-1),Zi=[qi,Ui],$i={class:"menu-list"},Yi={class:"menu-item"},Ki=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),Gi=a("span",null,"Divergencias",-1),Xi=a("span",{class:"sub-title-label"},"Divergence",-1),Ji=[Ki,Gi,Xi],Qi={class:"menu-list"},es={class:"menu-item"},as=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),ts=a("span",null,"Heikin Ashi",-1),is=a("span",{class:"sub-title-label"},"Formato de velas",-1),ss=[as,ts,is],ls={class:"menu-item"},os=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),rs=a("span",null,"PSAR",-1),ns=[os,rs],cs={class:"menu-item"},ds=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),hs=a("span",null,"MACD",-1),ms=[ds,hs],us={class:"menu-item"},fs=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),ps=a("span",null,"Kernel Channel",-1),gs=[fs,ps],bs={class:"menu-item"},vs=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),_s=a("span",null,"Impulso CCI",-1),ws=[vs,_s],Ls={class:"menu-item"},Vs=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),xs=a("span",null,[me("SR Dynamic "),a("i",{class:"fa-solid fa-flask-vial color-experiment"}),me(" (Alpha)")],-1),ks=[Vs,xs];function ys(j,o,m,t,f,L){return F(),O("div",{class:x({"menu settings":!0,displaymenu:t.indicators.isOpenMenu,oculto:!t.indicators.isOpenMenu})},[a("ul",ht,[a("li",mt,[a("button",{class:x({"menu-button custom-indicator":!0,active:t.indicators.getIndicators.bb}),onClick:o[0]||(o[0]=u=>t.indicators.chart.indicators.bb=!t.indicators.chart.indicators.bb)},pt,2)]),a("li",gt,[bt,a("ul",vt,[a("li",_t,[a("button",{class:x({"menu-button custom-indicator":!0,active:t.indicators.getIndicators.hma10}),onClick:o[1]||(o[1]=u=>t.indicators.chart.indicators.hma10=!t.indicators.chart.indicators.hma10)},Vt,2)]),a("li",xt,[a("button",{class:x({"menu-button custom-indicator":!0,active:t.indicators.getIndicators.hma20}),onClick:o[2]||(o[2]=u=>t.indicators.chart.indicators.hma20=!t.indicators.chart.indicators.hma20)},Ct,2)]),a("li",St,[a("button",{class:x({"menu-button custom-indicator":!0,active:t.indicators.getIndicators.hma55}),onClick:o[3]||(o[3]=u=>t.indicators.chart.indicators.hma55=!t.indicators.chart.indicators.hma55)},At,2)]),a("li",Ft,[a("button",{class:x({"menu-button custom-indicator":!0,active:t.indicators.getIndicators.hma89}),onClick:o[4]||(o[4]=u=>t.indicators.chart.indicators.hma89=!t.indicators.chart.indicators.hma89)},zt,2)]),a("li",Wt,[a("button",{class:x({"menu-button custom-indicator":!0,active:t.indicators.getIndicators.hma233}),onClick:o[5]||(o[5]=u=>t.indicators.chart.indicators.hma233=!t.indicators.chart.indicators.hma233)},Tt,2)])])]),a("li",Pt,[Ht,a("ul",Ot,[a("li",jt,[a("button",{class:x({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.ema10}),onClick:o[6]||(o[6]=u=>t.indicators.chart.indicators.ema10=!t.indicators.chart.indicators.ema10)},Ut,2)]),a("li",Zt,[a("button",{class:x({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.ema20}),onClick:o[7]||(o[7]=u=>t.indicators.chart.indicators.ema20=!t.indicators.chart.indicators.ema20)},Kt,2)]),a("li",Gt,[a("button",{class:x({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.ema55}),onClick:o[8]||(o[8]=u=>t.indicators.chart.indicators.ema55=!t.indicators.chart.indicators.ema55)},Qt,2)]),a("li",ei,[a("button",{class:x({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.ema89}),onClick:o[9]||(o[9]=u=>t.indicators.chart.indicators.ema89=!t.indicators.chart.indicators.ema89)},ii,2)]),a("li",si,[a("button",{class:x({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.ema100}),onClick:o[10]||(o[10]=u=>t.indicators.chart.indicators.ema100=!t.indicators.chart.indicators.ema100)},ri,2)]),a("li",ni,[a("button",{class:x({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.ema200}),onClick:o[11]||(o[11]=u=>t.indicators.chart.indicators.ema200=!t.indicators.chart.indicators.ema200)},hi,2)]),a("li",mi,[a("button",{class:x({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.ema233}),onClick:o[12]||(o[12]=u=>t.indicators.chart.indicators.ema233=!t.indicators.chart.indicators.ema233)},pi,2)])])]),a("li",gi,[bi,a("ul",vi,[a("li",_i,[a("button",{class:x({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.sma10}),onClick:o[13]||(o[13]=u=>t.indicators.chart.indicators.sma10=!t.indicators.chart.indicators.sma10)},Vi,2)]),a("li",xi,[a("button",{class:x({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.sma20}),onClick:o[14]||(o[14]=u=>t.indicators.chart.indicators.sma20=!t.indicators.chart.indicators.sma20)},Ci,2)]),a("li",Si,[a("button",{class:x({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.sma55}),onClick:o[15]||(o[15]=u=>t.indicators.chart.indicators.sma55=!t.indicators.chart.indicators.sma55)},Ai,2)]),a("li",Fi,[a("button",{class:x({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.sma89}),onClick:o[16]||(o[16]=u=>t.indicators.chart.indicators.sma89=!t.indicators.chart.indicators.sma89)},zi,2)]),a("li",Wi,[a("button",{class:x({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.sma100}),onClick:o[17]||(o[17]=u=>t.indicators.chart.indicators.sma100=!t.indicators.chart.indicators.sma100)},Ti,2)]),a("li",Pi,[a("button",{class:x({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.sma200}),onClick:o[18]||(o[18]=u=>t.indicators.chart.indicators.sma200=!t.indicators.chart.indicators.sma200)},ji,2)]),a("li",Ni,[a("button",{class:x({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.sma233}),onClick:o[19]||(o[19]=u=>t.indicators.chart.indicators.sma233=!t.indicators.chart.indicators.sma233)},Zi,2)])])])]),a("ul",$i,[a("li",Yi,[a("button",{class:x({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.divergences}),onClick:o[20]||(o[20]=u=>t.indicators.chart.indicators.divergences=!t.indicators.chart.indicators.divergences)},Ji,2)])]),a("ul",Qi,[a("li",es,[a("button",{class:x({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.heikinAshi}),onClick:o[21]||(o[21]=u=>t.indicators.chart.indicators.heikinAshi=!t.indicators.chart.indicators.heikinAshi)},ss,2)]),a("li",ls,[a("button",{class:x({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.psar}),onClick:o[22]||(o[22]=u=>t.indicators.chart.indicators.psar=!t.indicators.chart.indicators.psar)},ns,2)]),a("li",cs,[a("button",{class:x({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.macd}),onClick:o[23]||(o[23]=u=>t.indicators.chart.indicators.macd=!t.indicators.chart.indicators.macd)},ms,2)]),a("li",us,[a("button",{class:x({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.kernelChannel}),onClick:o[24]||(o[24]=u=>t.indicators.chart.indicators.kernelChannel=!t.indicators.chart.indicators.kernelChannel)},gs,2)]),a("li",bs,[a("button",{class:x({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.cci}),onClick:o[25]||(o[25]=u=>t.indicators.chart.indicators.cci=!t.indicators.chart.indicators.cci)},ws,2)]),a("li",Ls,[a("button",{class:x({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.srDinamic}),onClick:o[26]||(o[26]=u=>t.indicators.chart.indicators.srDinamic=!t.indicators.chart.indicators.srDinamic)},ks,2)])])],2)}const Cs=ba(dt,[["render",ys]]);const Ss=a("svg",{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"css-i6dzq1"},[a("circle",{cx:"12",cy:"12",r:"3"}),a("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})],-1),Ds=[Ss],Ms={__name:"ActivadorIndicator",setup(j,{expose:o}){const m=ue(),t=()=>{m.chart.customOption=!m.chart.customOption,m.chart.customOption?(m.chart.indicators.bb=!0,m.chart.indicators.hma10=!0,m.chart.indicators.hma20=!0,m.chart.indicators.divergences=!0,m.chart.indicators.kernelChannel=!0,m.chart.indicators.srDinamic=!0,m.chart.indicators.macd=!0):(m.chart.indicators.bb=!1,m.chart.indicators.hma10=!1,m.chart.indicators.hma20=!1,m.chart.indicators.divergences=!1,m.chart.indicators.kernelChannel=!1,m.chart.indicators.srDinamic=!1,m.chart.indicators.macd=!1)};return o({indicators:m,toogleCustomOptions:t}),(f,L)=>(F(),O(Ra,null,[a("div",{class:x({"activador-indicadores":!0}),onClick:L[0]||(L[0]=u=>K(m).chart.menuOpen=!K(m).chart.menuOpen)},Ds),a("img",{src:ct,alt:"custom options",class:x({customOptions:!0,"active-custom":K(m).chart.customOption}),onClick:t},null,2),Re(Cs)],64))}};const As={class:"container-volumen"},Fs=a("canvas",{id:"order-book-chart",width:"300",height:"300"},null,-1),Is=[Fs],Bs={__name:"FloatingVolume",setup(j){const o=ue(),m=new WebSocket(`wss://stream.binance.com:9443/ws/${String(o.chart.symbols).toLowerCase()}@depth`);let t={type:"bar",data:{labels:[],datasets:[{label:"Bids",data:[],backgroundColor:"rgba(75, 192, 75, 0.7)"},{label:"Asks",data:[],backgroundColor:"rgba(192, 75, 75, 0.7)"}]},options:{indexAxis:"y",scales:{x:{grid:{color:()=>"transparent",drawOnChartArea:!1},border:{display:!1},ticks:{display:!1}},y:{grid:{color:()=>"transparent",drawOnChartArea:!1},border:{display:!1},ticks:{color:"white"}}},elements:{bar:{borderWidth:0}},responsive:!0,plugins:{legend:{position:"right",color:"white",display:!1},title:{display:!0,text:"Flujo de Volume (Real-Time)",color:"white"}}}};return Pe(async()=>{const f=new Chart(document.getElementById("order-book-chart").getContext("2d"),t);let L=await o.searchDataOrderBook(o.chart.symbols);const u=L.bids.map(s=>parseFloat(s[0]).toFixed(4)),G=L.asks.map(s=>parseFloat(s[0]).toFixed(4)),I=L.bids.map(s=>s[1]),e=L.asks.map(s=>s[1]);f.data.datasets[0].data=I,f.data.datasets[1].data=e,f.data.labels=[].concat(u,G).slice(0,10),f.update(),m.onerror=s=>{console.error("WebSocket Error:",s)},m.onclose=()=>{console.log("WebSocket Connection Closed")},m.onmessage=s=>{const z=JSON.parse(s.data),S=z.b.map(P=>P[1]),y=z.b.map(P=>parseFloat(P[0]).toFixed(4)),X=z.a.map(P=>P[1]),te=z.a.map(P=>parseFloat(P[0]).toFixed(4));f.data.labels=[].concat(y,te),f.data.datasets[0].data=S,f.data.datasets[1].data=X,f.update()}}),(f,L)=>(F(),O("div",As,Is))}};const oe=j=>(st("data-v-b0f0dc6c"),j=j(),lt(),j),zs={class:"target-selector"},Ws={class:"panelTarget"},Es={class:"selectors-areas"},Rs={class:"target-symbols"},Ts={class:"target-temporality"},Ps={class:"legend"},Hs={class:"l-hma10"},Os={key:0,id:"hma10-label"},js={class:"l-hma20"},Ns={key:0,id:"hma20-label"},qs={class:"l-ema200"},Us={key:0,id:"ema200-label"},Zs={class:"details"},$s={key:0,class:"d-price"},Ys=oe(()=>a("p",null,"Price:",-1)),Ks={key:1,class:"d-high"},Gs=oe(()=>a("p",null,"High:",-1)),Xs={key:2,class:"d-low"},Js=oe(()=>a("p",null,"Low:",-1)),Qs={key:3,class:"d-close"},el=oe(()=>a("p",null,"Close:",-1)),al={key:4,class:"d-rsi"},tl=oe(()=>a("p",null,"RSI",-1)),il={key:5,class:"d-move"},sl=oe(()=>a("p",null,"move",-1)),ll={key:6,class:"d-ps"},ol=oe(()=>a("b",null,"PS ",-1)),rl={class:"timer-counter"},nl=oe(()=>a("span",null,"Left time",-1)),fa="#chart-main",cl={__name:"ChartMobile",emits:["refresh"],setup(j,{expose:o,emit:m}){var Ia,Ba;const t=m,f=et(),L=at(),u=f.params&&f.params&&f.params.symbol?f.params.symbol.toString().toUpperCase():"BTCUSDT",G=f.params&&f.params&&f.params.temporality?f.params.temporality.toString().toLocaleLowerCase():"4h",I=ga(),e=ue(),s=new pa,z=H(null),S=H(null),y=H(null),X=H(null),te=H(!1),P=H(!1),Se=H(null);let d,R;const ae=H(0),V=H(0),A=H("15m");let N,p,Q,M,ie,De,Me,He,Oe,je,Ne,qe,fe,pe,ge,be,ve,Ae,re,_e,we,Le,Ve,xe,Fe,ne,Ue="#e0ffcd",Ze="#f96d00",$e="#ff347f",Ye="#a393eb",Ke="#35bcbf",Ge="#8ed6ff",Xe="#b6cdbd",Je="#cbf078",Qe="#0092ca",ea="#e84a5f",aa="#a393eb",ta="#defcf9",ia="#35bcbf",sa="#93deff",la,ke;const oa=H(null),le=We({bajista:[],alcista:[]}),ee=We({resistencia:null,soporte:null});let ce=[],ye=[],Ie=0,ra=null;const de=We({alcistas:[],bajistas:[]}),h=We({price:null,close:null,high:null,low:null,rsi:null,rsih:null,higl:null,ps:null}),Ta=H([{value:"1m",label:"1m"},{value:"5m",label:"5m"},{value:"15m",label:"15m"},{value:"30m",label:"30m"},{value:"1h",label:"1h"},{value:"2h",label:"2h"},{value:"4h",label:"4h"},{value:"1d",label:"1d"},{value:"3d",label:"3d"},{value:"1w",label:"1w"}].flatMap(l=>G==l.label?{value:l.value,label:l.label,selected:!0}:{value:l.value,label:l.label}));(Ia=f==null?void 0:f.params)!=null&&Ia.symbol?e.chart.symbols=String(f.params.symbol).toUpperCase():e.chart.symbols=u,(Ba=f==null?void 0:f.params)!=null&&Ba.temporality?e.chart.temporality=f.params.temporality:e.chart.temporality=G;const wa=H([]),na=H(!1);function Be(){const l=new Date().getTime()+oa.value*1e3-Date.parse(new Date),n=Math.floor(l/1e3%60),r=Math.floor(l/1e3/60%60),c=Math.floor(l/(1e3*60*60)%24),g=Math.floor(l/(1e3*60*60*24));return{total:l,days:g<10?"0"+g:g,hours:c<10?"0"+c:c,minutes:r<10?"0"+r:r,seconds:n<10?"0"+n:n}}const La=Ee(()=>Be().seconds),Va=Ee(()=>Be().minutes),Pa=Ee(()=>Be().hours),Ha=Ee(()=>Be().days),ze=()=>{var r;const l=document.querySelector(fa);l!=null&&l.offsetHeight&&(d!=null&&d.resize)&&d.resize(parseInt(I.w/1.008),parseInt(l.offsetHeight));const n=document.querySelector("div#chart-rsi>div.vertical-cursor");(r=S==null?void 0:S.value)!=null&&r.chart&&n&&S.value.chart.resize(parseInt(document.querySelector("div.tv-lightweight-charts").offsetWidth),parseInt(document.querySelector("div#chart-rsi>div.vertical-cursor").offsetHeight))},xa=()=>{const n=s.kernelChannel(e.chart.data,89,3.5),r=n.flatMap(v=>({time:v.time,value:parseFloat(parseFloat(v.upperChannel).toFixed(4))})),c=n.flatMap(v=>({time:v.time,value:parseFloat(parseFloat(v.lowerChannel).toFixed(4))})),g=n.flatMap((v,W)=>{const D=parseFloat(v.smoothedData)<e.chart.data[W].close?"#A6FF96":"#DA0C81";return{time:v.time,value:parseFloat(parseFloat(v.smoothedData).toFixed(4)),color:D}});N.setData(g),p.setData(r),Q.setData(c)};k(()=>I.w,function(l){ze()}),k(()=>I.h,function(l){ze()});const Oa=za(function(l){P.value=!0;let n=e.chart.data[0].time;s.searchData({exchange:e.getExchange,interval:e.getTemporality,symbolsPairs:e.getSymbol,limit:500,cci:e.chart.indicators.cci,endTime:n}).then(r=>{r.pop(),console.log({previusData:r});const c=[...r,...e.chart.data];c.sort((g,v)=>parseInt(g.time)-parseInt(v.time)),e.chart.data=c,R.setData(c),l(),e.chart.indicators.macd&&y.value.processData(),S.value&&S.value.updateAndRecalculate()}).finally(function(){P.value=!1})},1e3),ja=()=>{var l;if((l=e==null?void 0:e.chart)!=null&&l.data&&e.chart.data.length>100){const n=e.chart.data.flatMap(r=>r.close);s.calculoRSI(n.slice(-100)).then(r=>{var c;V.value=r.pop(),S.value&&((c=e==null?void 0:e.chart)!=null&&c.data)&&e.chart.data.length>0&&e.chart.data[e.chart.data.length-1]&&(e.chart.data[e.chart.data.length-1].rsi=V,e.chart.indicators.rsi&&e.chart.data&&e.chart.data.length>0&&S.value.update({value:V,time:e.chart.data[e.chart.data.length-1].time}))})}},Na=za(async()=>{const l=String(e.getSymbol).toLowerCase();X.value=await new WebSocket(`wss://fstream.binance.com/ws/${l}@kline_${e.getTemporality}`),X.value.addEventListener("message",async function(n){var c,g,v,W;if(na.value&&na.value==!0||I.loading)return;const r=JSON.parse(n.data);if(n&&(r!=null&&r.s)&&r.result==null&&(r!=null&&r.k)&&(r==null?void 0:r.k)!=null&&((c=r==null?void 0:r.k)==null?void 0:c.i)==e.getTemporality&&e.chart.data.length&&String(r.s).toUpperCase()==String(e.getSymbol).toUpperCase()){const D=parseFloat(r.k.c),B=r.k.T?parseInt(r.k.T):null,q=r.k.x?r.k.x:!1,C=r.k.V?parseFloat(r.k.V):null;ke&&ke.update({value:C,time:B,color:"#d1e1e159"}),ae.value=D,h.price=D>100?parseFloat(D).toFixed(2):D;const _={time:parseInt(r.k.T),open:parseFloat(r.k.o),high:parseFloat(r.k.h),low:parseFloat(r.k.l),close:D,value:D,volume:C};if(e.chart.data[e.chart.data.length-1].time=_.time,e.chart.data[e.chart.data.length-1].open=_.open,e.chart.data[e.chart.data.length-1].high=_.high,e.chart.data[e.chart.data.length-1].low=_.low,e.chart.data[e.chart.data.length-1].close=_.close,e.chart.data[e.chart.data.length-1].value=_.value,e.chart.data[e.chart.data.length-1].volume=_.volume,ja(),q&&((g=e==null?void 0:e.chart)!=null&&g.data)&&(await Ua(),console.log("xClosed")),!te.value&&((v=e==null?void 0:e.chart)!=null&&v.data)&&e.chart.data.length>2&&e.chart.data[e.chart.data.length-1].high)if(e.chart.data[e.chart.data.length-1].high=_.high,e.chart.data[e.chart.data.length-1].low=_.low,e.chart.data[e.chart.data.length-1].close=_.close,e.chart.data[e.chart.data.length-1].volume=_.volume,e.chart.data[e.chart.data.length-1].value=_.value,(W=e==null?void 0:e.getIndicators)!=null&&W.heikinAshi){let Ce=s.calculoNextHeikinAskiCandle(e.chart.data,e.chart.data[e.chart.data.length-1]);Ce.time=_.time,R.update(Ce)}else R.update(_);oa.value=parseInt((_.time-new Date().getTime())/1e3)}else if(r.s&&String(r.s).toUpperCase()!=String(e.getSymbol).toUpperCase()){const B=`${String(r.s).toLowerCase()}@kline_${e.getTemporality}`;X.value.send(JSON.stringify({method:"UNSUBSCRIBE",params:[B],id:new Date().getTime()})),console.log("* UNSUBSCRIBE",{dtJson:r,evt:n,previusSocket:B,s:e.getSymbol},e.getSymbol,n.currentTarget,r.s===e.getSymbol),X.value.send(JSON.stringify({method:"LIST_SUBSCRIPTIONS",id:new Date().getTime()}))}}),console.log("openSocket")}),qa=async l=>{e.chart.temporality=l.value,ka({value:String(e.getSymbol)})},ka=l=>{I.loading=!0,na.value=!0,ra=l.value;const r=`${String(e.getSymbol).toLowerCase()}@kline_${e.getTemporality}`;if(e.chart.symbols=String(ra).toUpperCase(),L.push({name:"alpha:data",params:{symbol:String(ra).toLowerCase(),temporality:e.chart.temporality}}),X.value)return X.value.send(JSON.stringify({method:"UNSUBSCRIBE",params:[r],id:1})),X.value.send(JSON.stringify({method:"SUBSCRIBE",params:[`${String(e.getSymbol).toLowerCase()}@kline_${e.getTemporality}`],id:1})),t("refresh")},Ua=async(l=!0)=>{te.value=l,s.recalculeIndicators(e.chart.data).then(n=>{var g;e.chart.data[e.chart.data.length-1]=n.last;const r=e.chart.data[e.chart.data.length-1].time-e.chart.data[e.chart.data.length-2].time;console.log({dataUpdate:n});const c={open:n.last.close,close:n.last.close,high:n.last.close,low:n.last.close,time:n.last.time+r,macd:n.last.macd,volume:(g=n==null?void 0:n.last)!=null&&g.volume?n.last.volume:0,bb:{middle:n.last.bb.middle,upper:n.last.bb.upper,lower:n.last.bb.lower,pb:n.last.bb.pb},rsi:n.last.bb.rsi,hma10:n.last.hma10,hma20:n.last.hma20,value:n.last.value};e.chart.data.push(c),ca(),te.value=!1}),e.chart.indicators.macd&&y.value&&y.value.processData()},Za=()=>{d&&(M=d.addLineSeries({color:"#f6483e33",lineWidth:2,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:2}),ie=d.addLineSeries({color:"#f6483e33",lineWidth:7,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),De=d.addLineSeries({color:"#f0f8ff8f",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:2}),Me=d.addLineSeries({color:"#00ffa521",lineWidth:7,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),la=d.addLineSeries({color:"yellow",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:3}),d.addLineSeries({color:"yellow",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:2}),He=d.addLineSeries({color:"#84ff3d8a",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),Oe=d.addLineSeries({color:"orange",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),je=d.addLineSeries({color:"#f70776",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),Ne=d.addLineSeries({color:"#00bbf0",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),qe=d.addLineSeries({color:"#bae8e8",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),fe=d.addLineSeries({color:Je,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),pe=d.addLineSeries({color:Qe,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),ge=d.addLineSeries({color:ea,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),be=d.addLineSeries({color:aa,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),ve=d.addLineSeries({color:ta,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),Ae=d.addLineSeries({color:ia,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),re=d.addLineSeries({color:sa,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),_e=d.addLineSeries({color:Ue,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),we=d.addLineSeries({color:Ze,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),Le=d.addLineSeries({color:$e,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),Ve=d.addLineSeries({color:Ye,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),xe=d.addLineSeries({color:Ke,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),Fe=d.addLineSeries({color:Ge,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),ne=d.addLineSeries({color:Xe,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),N=d.addLineSeries({color:"yellow",lineWidth:4,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:1}),p=d.addLineSeries({color:"#c1c1c1",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:1}),Q=d.addLineSeries({color:"#c1c1c1",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:1}))},ya=()=>{const n=e.chart.data.flatMap(b=>b).sort((b,T)=>parseInt(T.time)-parseInt(b.time));let r=25,c=0,g=0,v=[],W=[],D=[],B=[];for(var q=0;q<n.length;q++)if(c++,c==r){const b=n.slice(parseInt(g*r),parseInt(g*r)+r),T=b.flatMap($=>$),da=b.flatMap($=>$),E=T.sort(($,ma)=>parseFloat(ma.high)-parseFloat($.high)),ha=da.sort(($,ma)=>parseFloat($.low)-parseFloat(ma.low));if(!E||!E[0])return;const Z=E[0];if((W.length==0&&Z||Z!=null&&Z.high&&W[W.length-1].high<Z.high)&&W.push(Z),v.length==0&&Z?(v.push(Z),B.push({linea:[Z]})):Z!=null&&Z.high&&v[v.length-1].high>Z.high&&v.push(Z),ha&&ha[0]){const $=ha[0];(D.length==0&&$||$!=null&&$.low&&D[D.length-1].low>$.low)&&D.push($)}c=0,g++}console.log({highDescend:W,highAccend:v,lowDescend:D,marcaciones_leneas_asc:B});const _=e.chart.data.slice(-89).sort((b,T)=>T.high===b.high?parseInt(T.time)-parseInt(b.time):parseFloat(b.high)-parseFloat(T.high));_.sort((b,T)=>parseInt(b.time)-parseInt(T.time)),_.flatMap(b=>b).sort((b,T)=>parseFloat(T.high)-parseFloat(b.high));let i=null;for(var q=_.length-1;q>=0;q--)i?_[q].high>i.high&&(i=_[q]):i=_[q];v.flatMap(b=>({time:b.time,value:b.high,color:"#EC8F5E"})),d.addLineSeries({color:"#EC8F5E",lineWidth:3,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,crosshairMarkerVisible:!1,lineStyle:1});const w=W.flatMap(b=>({time:b.time,value:b.high,color:"olive"}));ee.resistencia&&d&&ee.resistencia.setData([]),ee.soporte&&d&&ee.soporte.setData([]),ee.resistencia=d.addLineSeries({color:"olive",lineWidth:3,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,crosshairMarkerVisible:!1,lineStyle:1}),ee.soporte=d.addLineSeries({color:"#fff",lineWidth:3,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,crosshairMarkerVisible:!1,lineStyle:1});const U=w.flatMap(b=>b);U.sort((b,T)=>parseInt(b.time)-parseInt(T.time)),ee.resistencia.setData(U);const se=D.flatMap(b=>({time:b.time,value:b.low,color:"#fff"}));ee.soporte.setData(se.sort((b,T)=>parseInt(b.time)-parseInt(T.time))),console.log("lineaTendenciaAlcista::..")},Ca=()=>{if(ie.setData([]),Me.setData([]),De.setData([]),!e.chart.indicators.bb)return;const l=e.chart.data.flatMap(c=>{let g={value:c.bb.upper,time:c.time};return c.high>c.bb.upper&&(g.color="#f443369e"),g}),n=e.chart.data.flatMap(c=>{let g={value:c.bb.lower,time:c.time};return c.low<c.bb.lower&&(g.color="#00ffa58a"),g}),r=e.chart.data.flatMap(c=>({value:c.bb.middle,time:c.time}));l.sort((c,g)=>c.time-g.time),n.sort((c,g)=>c.time-g.time),r.sort((c,g)=>c.time-g.time),ie.setData(l),Me.setData(n),De.setData(r)},he=()=>{if(e.chart.data=e.chart.data.sort((l,n)=>l.time<n.time?-1:l.time>n.time?1:0),e.chart.indicators.hma10){const l=e.chart.data.flatMap(n=>({value:n.hma10,time:n.time}));He.setData(l)}if(e.chart.indicators.hma20){const l=e.chart.data.flatMap(n=>({value:n.hma20,time:n.time}));Oe.setData(l)}if(e.chart.indicators.hma55){const l=s.calculateHMA(e.chart.data,55,"#f70776");je.setData(l)}if(e.chart.indicators.hma89){const l=s.calculateHMA(e.chart.data,89,"#9896f1");Ne.setData(l)}if(e.chart.indicators.hma233){const l=s.calculateHMA(e.chart.data,233,"#00bbf0");qe.setData(l)}},Sa=()=>{if(!e.chart.indicators.psar){M.setData([]);return}const l=e.chart.data.flatMap(g=>g.high),n=e.chart.data.flatMap(g=>g.low),c=s.calculoPSAR(n,l).flatMap((g,v)=>({value:g,time:e.chart.data[v].time,color:e.chart.data[v].close>g?"aqua":"red"}));M.setData(c)},$a=()=>{_e.setData([]),we.setData([]),Le.setData([]),Ve.setData([]),xe.setData([]),Fe.setData([]),ne.setData([]),e.chart.indicators.sma10&&_e.setData(s.calculateEMA(e.chart.data,10,Ue)),e.chart.indicators.sma20&&we.setData(s.calculateEMA(e.chart.data,20,Ze)),e.chart.indicators.sma55&&Le.setData(s.calculateEMA(e.chart.data,55,$e)),e.chart.indicators.sma89&&Ve.setData(s.calculateEMA(e.chart.data,89,Ye)),e.chart.indicators.sma100&&xe.setData(s.calculateEMA(e.chart.data,100,Ke)),e.chart.indicators.sma200&&ne.setData(s.calculateEMA(e.chart.data,200,Ge)),e.chart.indicators.sma233&&ne.setData(s.calculateEMA(e.chart.data,233,Xe))},Ya=()=>{fe.setData([]),pe.setData([]),ge.setData([]),be.setData([]),ve.setData([]),Ae.setData([]),re.setData([]),e.chart.indicators.ema10&&fe.setData(s.calculateEMA(e.chart.data,10,Je)),e.chart.indicators.ema20&&pe.setData(s.calculateEMA(e.chart.data,20,Qe)),e.chart.indicators.ema55&&ge.setData(s.calculateEMA(e.chart.data,55,ea)),e.chart.indicators.ema89&&be.setData(s.calculateEMA(e.chart.data,89,aa)),e.chart.indicators.ema100&&ve.setData(s.calculateEMA(e.chart.data,100,ta)),e.chart.indicators.ema200&&re.setData(s.calculateEMA(e.chart.data,200,ia)),e.chart.indicators.ema233&&re.setData(s.calculateEMA(e.chart.data,233,sa))},Da=()=>{const l=new ot(e.chart.data);return new Promise((n,r)=>{l.agregarCallback(c=>{le.alcista=c.alcista,le.bajista=c.bajista}),n(l.iniciarProceso())})},Ma=()=>{setTimeout(function(){new Promise((l,n)=>{le.bajista.length>0&&le.bajista.forEach(r=>{let c=d.addLineSeries({color:"#fff",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,crosshairMarkerVisible:!1,lineStyle:0});c.setData(r),de.bajistas.push(c)}),le.alcista.length>0&&le.alcista.forEach(r=>{let c=d.addLineSeries({color:"#fff",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,crosshairMarkerVisible:!1,lineStyle:0});c.setData(r),de.alcistas.push(c)}),l(!0)})},0)},Aa=async()=>{const l=await s.calculoVelasHeikinAshi(e.chart.data);R.setData(l)},ca=()=>{var l,n;Ca(),he(),Ya(),$a(),Sa(),(l=e==null?void 0:e.getIndicators)!=null&&l.heikinAshi&&e.getIndicators.heikinAshi==!0&&Aa(),(n=e==null?void 0:e.getIndicators)!=null&&n.divergences&&setTimeout(function(){Promise.resolve(Da()).then(Ma())},0),e.chart.indicators.kernelChannel&&xa(),e.chart.indicators.srDinamic&&ya(),Xa()},Ka=()=>{const l=new Date().toLocaleString();ae&&ae.value&&ae.value!=null&&ae.value>0&&!isNaN(ae.value)&&""+parseFloat(ae.value).toFixed(4),d.applyOptions({watermark:{color:"#00ff11",visible:!0,text:`Topacio ${String(e.getSymbol).toUpperCase()}  ${e.getTemporality}  ${l}`,fontSize:14,horzAlign:"left",vertAlign:"top"}})},Ga=l=>{l.flatMap(C=>C).sort((C,_)=>C.value-_.value).slice(-7).flatMap(C=>C.time);const c=l.map(C=>C.value),g=c.reduce((C,_)=>C+_,0)/c.length,v={};c.forEach(C=>{v[C]=(v[C]||0)+1}),Object.keys(v).reduce((C,_)=>v[C]>v[_]?C:_);const W=c.slice().sort((C,_)=>C-_),D=Math.floor(W.length/2);W.length%2===0?(W[D-1]+W[D])/2:W[D];const B=parseInt(g*2.5);return l.flatMap(C=>(C.value>=B&&(C.color="#96EFFF"),C))},Xa=()=>{const l=e.chart.data.flatMap(r=>({time:r.time,value:r.volume,color:"#d1e1e159"})),n=Ga(l);ke.setData(n)};Pe(async()=>{I.loading=!0,I.openMenuMobile=!1;const l=document.querySelector(fa),n=parseInt(I.w/1.005),r=parseInt(l.offsetHeight),c=s.getConfigChart(n,r),g=s.getConfigVelasTransparentes();e.chart.data=await s.searchData({exchange:e.getExchange,interval:e.getTemporality,symbolsPairs:e.getSymbol,limit:500,cci:e.chart.indicators.cci});const v=document.querySelector(fa);console.log({configChart:c},e.chart.data),d=_a(v,c),R=d.addCandlestickSeries(g),R.setData(e.chart.data),ke=d.addHistogramSeries({lastValueVisible:!1,priceLineVisible:!1,priceFormat:{type:"volume"},priceScaleId:"volumen"}),ke.priceScale().applyOptions({priceFormat:{type:"volume"},scaleMargins:{top:.85,bottom:0}});const D=(await e.searchSymbolsFutures()).flatMap(i=>e.chart.symbols!=i.symbol?{label:i.symbol,value:i.symbol}:{label:i.symbol,value:i.symbol,selected:!0});wa.value=D.filter(i=>i.value.includes("USDT")),Za(),ca(),Ka();let B=d.timeScale().getVisibleLogicalRange(),q=B&&(B!=null&&B.from)?parseInt(B.from):null;function C(i){var U,se,b,T;const w=document.querySelector("div#chart-rsi>div.vertical-cursor");if(i!=null&&i.time&&d){const da=d.timeScale().getVisibleLogicalRange(),E=parseInt(i.logical);(U=i==null?void 0:i.point)!=null&&U.x&&w&&(S.value.chart.timeScale().setVisibleLogicalRange(da),w.style=`transform:translateX(${i.point.x}px)`),e.chart.data[E]&&(h.rsi=e.chart.data[E].rsi,h.low=e.chart.data[E].low,h.high=e.chart.data[E].high,h.close=e.chart.data[E].close,h.move=s.calculatePercentageBetweenValues(h.high,h.low),h.ps=null,h.hma10=(se=e.chart.data[E])!=null&&se.hma10?parseFloat(e.chart.data[E].hma10).toFixed(4):null,h.hma20=(b=e.chart.data[E])!=null&&b.hma20?parseFloat(e.chart.data[E].hma20).toFixed(4):null,e.chart.data[E].bb&&h.high>e.chart.data[E].bb.upper&&(h.ps=s.calculatePercentageBetweenValues(h.high,e.chart.data[E].bb.upper)),e.chart.data[E].bb&&h.low<e.chart.data[E].bb.lower&&(h.ps=s.calculatePercentageBetweenValues(e.chart.data[E].bb.lower,h.low))),B=d.timeScale().getVisibleLogicalRange(),q=B!=null&&B.from?parseInt(B.from):null,q&&q<250&&!P.value&&Oa(ca)}else w&&(w.style="display:none"),h.rsi=null,h.ps=null,h.move=null,h.low=null,h.high=null,h.close=null,h.ema200=null,h.hma10=null,h.hma20=null;(T=i==null?void 0:i.point)!=null&&T.y&&(Ie=R.coordinateToPrice(i.point.y))}d.subscribeCrosshairMove(C),document.addEventListener("keydown",i=>{if(ce[i.key]=!0,ce.Alt&&i.key=="h"){const w=R.createPriceLine({price:Ie,color:"#FFF"});ye.push(w)}if(ce.Alt&&i.key=="s"){const w=R.createPriceLine({price:Ie,color:"#ff006e",title:"Short"});ye.push(w)}if(ce.Alt&&i.key=="l"){const w=R.createPriceLine({price:Ie,color:"#00ff11",title:"Long"});ye.push(w)}(ce.Alt&&i.key=="r"||i.key=="c")&&(console.log("* Cleaning Lines"),ye.map(w=>R.removePriceLine(w)),ye=[])}),document.addEventListener("keyup",i=>{delete ce[i.key]}),document.querySelector("div.container-chart").addEventListener("click",i=>{var w;if((w=window==null?void 0:window.visualViewport)!=null&&w.width){const U=window.visualViewport.width,se=parseInt(U)*.2;i.x>se&&e.chart.menuOpen===!0&&(e.chart.menuOpen=!1)}}),setTimeout(function(){ze()},1e3),Na(),I.loading=!1,k(()=>e.chart.indicators.srDinamic,i=>{!i&&ee.resistencia&&ee.soporte?(ee.resistencia.setData([]),ee.soporte.setData([])):ya()}),k(()=>e.chart.indicators.cci,async i=>{const w=await s.searchData({exchange:e.getExchange,interval:e.getTemporality,symbolsPairs:e.getSymbol,limit:500,cci:e.chart.indicators.cci});w.sort((U,se)=>parseInt(U.time)-parseInt(se.time)),e.chart.data=w,R.setData(w),console.log("newValue",i,{allData:w})}),k(()=>e.chart.indicators.psar,i=>{i?Sa():M.setData([])}),k(()=>e.chart.indicators.kernelChannel,i=>{i?xa():(N.setData([]),p.setData([]),Q.setData([]))}),k(()=>e.chart.indicators.bb,i=>{i?Ca():(ie.setData([]),Me.setData([]),De.setData([]))}),k(()=>e.chart.indicators.hma10,i=>{i?he():He.setData([])}),k(()=>e.chart.indicators.hma20,i=>{i?he():Oe.setData([])}),k(()=>e.chart.indicators.hma55,i=>{i?he():je.setData([])}),k(()=>e.chart.indicators.hma89,i=>{i?he():Ne.setData([])}),k(()=>e.chart.indicators.hma233,i=>{i?he():qe.setData([])}),k(()=>e.chart.indicators.heikinAshi,i=>{i?Aa():R.setData(e.chart.data)}),k(()=>e.chart.indicators.ema10,i=>{i?fe.setData(s.calculateEMA(e.chart.data,10,Je)):fe.setData([])}),k(()=>e.chart.indicators.ema20,i=>{i?pe.setData(s.calculateEMA(e.chart.data,20,Qe)):pe.setData([])}),k(()=>e.chart.indicators.ema55,i=>{i?ge.setData(s.calculateEMA(e.chart.data,55,ea)):ge.setData([])}),k(()=>e.chart.indicators.ema89,i=>{i?be.setData(s.calculateEMA(e.chart.data,89,aa)):be.setData([])}),k(()=>e.chart.indicators.ema100,i=>{i?ve.setData(s.calculateEMA(e.chart.data,100,ta)):ve.setData([])}),k(()=>e.chart.indicators.ema200,i=>{i?(la.setData([]),Ae.setData(s.calculateEMA(e.chart.data,200,ia))):(la.setData([]),Ae.setData([]))}),k(()=>e.chart.indicators.ema233,i=>{i?re.setData(s.calculateEMA(e.chart.data,233,sa)):re.setData([])}),k(()=>e.chart.indicators.sma10,i=>{i?_e.setData(s.calcularSMA(e.chart.data,10,Ue)):_e.setData([])}),k(()=>e.chart.indicators.sma20,i=>{i?we.setData(s.calcularSMA(e.chart.data,20,Ze)):we.setData([])}),k(()=>e.chart.indicators.sma55,i=>{i?Le.setData(s.calcularSMA(e.chart.data,55,$e)):Le.setData([])}),k(()=>e.chart.indicators.sma89,i=>{i?Ve.setData(s.calcularSMA(e.chart.data,89,Ye)):Ve.setData([])}),k(()=>e.chart.indicators.sma100,i=>{i?xe.setData(s.calcularSMA(e.chart.data,100,Ke)):xe.setData([])}),k(()=>e.chart.indicators.sma200,i=>{i?Fe.setData(s.calcularSMA(e.chart.data,200,Ge)):Fe.setData([])}),k(()=>e.chart.indicators.sma233,i=>{i?ne.setData(s.calcularSMA(e.chart.data,233,Xe)):ne.setData([])}),k(()=>e.chart.indicators.divergences,i=>{i?Promise.resolve(Da()).then(Ma()):(de.alcistas.forEach(function(w){w.setData([])}),de.bajistas.forEach(function(w){w.setData([])}),de.alcistas=[],de.bajistas=[],le.alcista=[],le.bajista=[])});function _(i){var b;const w=d.timeScale().getVisibleLogicalRange(),U=d.timeScale().getVisibleRange(),se=parseInt(d.timeScale().scrollPosition());Se.value={visibleLogicalRange:w,visibleRange:U,scrollPosition:se,t:Date.now()},y!=null&&y.value&&((b=y==null?void 0:y.value)!=null&&b.timeScale)&&y.value.timeScale().setVisibleLogicalRange(i)}const Ce=(i,w)=>w.time&&w.seriesData.get(i)||null;d.subscribeCrosshairMove(i=>{var U;const w=Ce(R,i);y!=null&&y.value&&((U=y==null?void 0:y.value)!=null&&U.syncCrosshair)&&y.value.syncCrosshair(R,w)}),d.timeScale().subscribeVisibleLogicalRangeChange(_)});const Fa=l=>{d.setCrosshairPosition(l,l.time,R)};return o({mainStore:I,chartStore:e,lastPrice:ae,details:h,leftTime:oa,getSegundsLeft:La,getMinLeft:Va,getDaysLeft:Ha,Selector:ua,ChartRsi:Wa,ChartMacd:Ea,chartMacd:y,lastRSI:V,syncCrosshairMACD:Fa}),(l,n)=>(F(),O("div",{class:x({"container-chart":!0,"graphic-macd":K(e).chart.indicators.macd})},[a("div",zs,[a("div",Ws,[a("p",null,"[ FUTURES: "+Y(K(e).getExchange),1),a("div",Es,[a("div",Rs,[Re(ua,{opciones:wa.value,onlyLabel:!1,lblPorDefecto:K(e).chart.symbols,onActionChange:ka},null,8,["opciones","lblPorDefecto"])]),a("div",Ts,[Re(ua,{lblPorDefecto:K(e).getTemporality,opciones:Ta.value,onlyLabel:!1,modelValue:A.value,"onUpdate:modelValue":n[0]||(n[0]=r=>A.value=r),onActionChange:qa},null,8,["lblPorDefecto","opciones","modelValue"])])])])]),tt(a("div",{id:"chart-main",ref_key:"chartElement",ref:z},[a("div",Ps,[a("span",Hs,[me("HMA10 "),h.hma10?(F(),O("label",Os,Y(h.hma10),1)):J("",!0)]),a("span",js,[me("HMA20 "),h.hma10?(F(),O("label",Ns,Y(h.hma20),1)):J("",!0)]),a("span",qs,[me("EMA200 --- "),h.ema200?(F(),O("label",Us,Y(h.ema200),1)):J("",!0)])]),a("div",Zs,[h.price?(F(),O("span",$s,[Ys,a("b",null,Y(h.price),1),a("b",null,"RSI "+Y(V.value),1)])):J("",!0),h.high?(F(),O("span",Ks,[Gs,a("p",null,Y(h.high),1)])):J("",!0),h.low?(F(),O("span",Xs,[Js,a("p",null,Y(h.low),1)])):J("",!0),h.close?(F(),O("span",Qs,[el,a("p",null,Y(h.close),1)])):J("",!0),h.rsi?(F(),O("span",al,[tl,a("p",null,Y(h.rsi),1)])):J("",!0),h.move?(F(),O("span",il,[sl,a("p",null,Y(h.move)+"%",1)])):J("",!0),h.ps?(F(),O("span",ll,[ol,a("p",null,Y(h.ps)+"%",1)])):J("",!0)]),a("div",rl,[nl,me(" "+Y(Pa.value)+":"+Y(Va.value)+":"+Y(La.value),1)]),K(e).chart.symbols=="BTCUSDT"?(F(),Te(Bs,{key:0})):J("",!0)],512),[[it,!K(I).loading]]),K(e).chart.data.length>0&&!K(I).loading&&K(e).chart.indicators.rsi?(F(),Te(Wa,{key:0,ref_key:"chartRsi",ref:S},null,512)):J("",!0),!K(I).loading&&K(e).chart.data.length>0&&K(e).chart.indicators.macd?(F(),Te(Ea,{key:1,chartInfoVisible:Se.value,onResizeChart:ze,onSyncCrosshair:Fa,ref_key:"chartMacd",ref:y},null,8,["chartInfoVisible"])):J("",!0),Re(Ms)],2))}},dl=ba(cl,[["__scopeId","data-v-b0f0dc6c"]]);const hl={class:"charts"},ml={__name:"ChartView",setup(j,{expose:o}){ga();const m=H(!1),t=()=>{m.value=!0,console.log("reloadChart"),setTimeout(function(){m.value=!1},100)};return o({isRefresh:m}),(f,L)=>(F(),O("main",hl,[m.value?J("",!0):(F(),Te(dl,{key:0,onRefresh:t}))]))}},bl=ba(ml,[["__scopeId","data-v-6123f56f"]]);export{bl as default};
