import{_ as z,j as c,r as p,u as E,A as B,f as N,o as P,a as v,g,d as i,k as m,e as T,t as S,m as C,w as M,l as F,B as A,y as $,p as j,b as D,F as R,C as G,c as H}from"./index-19f9dff0.js";import{e as y,_ as X}from"./Paginator.vue_vue_type_style_index_0_lang-04a37992.js";import{_ as Y}from"./Tmine2-25d51798.js";const x=u=>(j("data-v-ab9156b5"),u=u(),D(),u),q={class:"header-card"},J=["href"],K=x(()=>i("img",{class:"img-link-polygon",src:X,alt:"logo matic"},null,-1)),O={key:0,class:"footer-card"},Q={class:"nft-number nft-reward-tmine"},U=x(()=>i("img",{src:Y,alt:"tmine logo",class:"img-logo-tmine"},null,-1)),W={key:0,class:"snippet","data-title":"dot-flashing"},Z=x(()=>i("div",{class:"stage"},[i("div",{class:"dot-flashing"})],-1)),ee=[Z],te={__name:"nftItemBoveda",props:["nftId","grid","target","h"],setup(u,{expose:b}){const d=u,_=c("getDataNFT"),h=c("getLinkNftScan"),w=c("toVault");c("syncBalance"),c("syncTmineBalance"),c("claimReward"),c("transferNFT"),c("refreshTokens");const n=p(d.nftId),f=p(!1),e=p(null);p(null);const o=E(),r=B(()=>{const t=parseInt(n.value);return o.web3.nftLoad[t]!==void 0}),I=B(()=>{var a,s,l,L;const t=parseInt(n.value);return(s=(a=e==null?void 0:e.value)==null?void 0:a.metadata)!=null&&s.image&&console.log("* img",e.value.metadata.image),o.web3.nftLoad[t]!==void 0&&((L=(l=e==null?void 0:e.value)==null?void 0:l.metadata)!=null&&L.image)?`
	--crt:#fff;
    background-image: url(${e.value.metadata.image});
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
    display: flex;
    flex-flow: column;
    justify-content: space-between;
    `:""}),k=t=>{const a=t.target,s=t.pageX-a.offsetLeft,l=t.pageY-a.offsetTop;a.style.setProperty("--x",s+"px"),a.style.setProperty("--y",l+"px")};return N(r,async t=>{if(t&&(console.log(t,"*existInLoad",o.web3.nftLoad[n.value]!==void 0,n.value,e.value),t&&!e.value)){const a=parseInt(n.value),s=await _(a);s.id&&s.id===n.value&&(e.value=s),console.log({resp:s})}}),N(()=>d.nftId,async function(t){var a;if(n.value=t,e.value=null,console.log("w",t,r.value,o.web3.nftLoad[t]),!r.value&&!o.web3.nftLoad[t]){const s=parseInt(n.value);console.log("*startSearch");const l=await _(s);l.id&&l.id===n.value&&(e.value=l,o.web3.nftLoad[s]=l),console.log("* meta",e.value,{data:l})}o.web3.nftLoad[t],((a=o.web3.nftLoad[t])==null?void 0:a.id)===t&&(e.value=o.web3.nftLoad[t])}),P(async()=>{const t=parseInt(n.value),a=await _(t);a.id&&a.id===n.value&&o.web3.nftLoad[t]&&(e.value=a,o.web3.nftLoad[t]=a),a&&!o.web3.nftLoad[n.value]&&(e.value=a,o.web3.nftLoad[n.value]=a)}),b({nftId:n,existInLoad:r,mainStore:o,getBgNft:I,getLinkNftScan:h,moseMoveInCard:k,loadRedresh:f,Popper:y,toVault:w}),(t,a)=>(v(),g("div",{class:$({"nft-item":!0,"loader-bg":!r.value}),style:A(`height: ${d.h}px;`),onMousemove:k},[i("div",{class:"content-card",style:A(I.value)},[i("div",q,[i("a",{href:m(h)(n.value),target:"_blank"},[T("# "+S(n.value)+" ",1),C(m(y),{content:"Examinar en Polygonscan",arrow:!0,hover:!0},{default:M(()=>[K]),_:1})],8,J)]),C(m(y),{content:"Exatraer Fragmento",arrow:!1,hover:!0,zIndex:"10000"},{default:M(()=>{var s;return[(s=e.value)!=null&&s.reward&&r.value&&!f.value?(v(),g("div",O,[i("label",Q,[U,T(" "+S(e.value.reward)+" TMINE ",1)])])):F("",!0)]}),_:1})],4),!r.value||f.value?(v(),g("div",W,ee)):F("",!0)],38))}},V=z(te,[["__scopeId","data-v-ab9156b5"]]);const ae={class:"content container-items"},oe={__name:"ContainerBoveda",setup(u,{expose:b}){const d=E(),_=p(!1),h=c("getNFTsBoveda"),w=[];function n(e,o){return e=Math.ceil(e),o=Math.floor(o),Math.floor(Math.random()*(o-e+1))+e}const f=()=>n(280,500);return P(async()=>{await h(),console.log("tokens",d.web3.bovedaTokens)}),b({data:w,getHeight:f,nftItemBoveda:V,multiGrid14:_}),(e,o)=>(v(),g("main",ae,[(v(!0),g(R,null,G(m(d).web3.bovedaTokens,r=>(v(),H(V,{grid:_.value,target:m(d).web3.bovedaTokens,"nft-id":r,h:f()},null,8,["grid","target","nft-id","h"]))),256))]))}},re=z(oe,[["__scopeId","data-v-65224e95"]]);export{re as default};
