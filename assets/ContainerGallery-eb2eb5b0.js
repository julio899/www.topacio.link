import{i as x,r as m,u as G,m as T,f as N,o as F,a as i,g as c,d as o,j as z,e as S,t as b,n as p,k as y,q as R,_ as V,s as j,F as I,v as A,c as E,x as J,h as O}from"./index-c70bf2fb.js";const q="/img/polygon-matic-logo.svg",U="/img/update-meta.svg",X="/img/fly-svgrepo-com.svg",Y="/img/Tmine2.svg",H="/img/claim_.svg";const K={class:"header-card"},Q={class:"nft-number"},W=["href"],Z=o("img",{src:q,alt:"logo matic"},null,-1),ee=o("div",{class:"content-card"},[o("img",{src:X})],-1),ae={key:0,class:"footer-card"},te={class:"nft-number nft-reward-tmine"},se=o("img",{src:Y,alt:"tmine logo",class:"img-logo-tmine"},null,-1),ne={key:1,class:"snippet","data-title":"dot-flashing"},le=o("div",{class:"stage"},[o("div",{class:"dot-flashing"})],-1),oe=[le],M={__name:"nftItemGallery",props:["nftId"],setup(B,{expose:L}){const P=B,f=x("getDataNFT"),r=x("getLinkNftScan"),d=x("syncBalance"),h=x("syncTmineBalance"),k=x("claimReward"),l=m(P.nftId),u=m(!1),n=m(null),e=G(),w=async()=>{u.value=!0;const a=parseInt(l.value),s=await f(a);s.id&&s.id===l.value&&(n.value=s,e.web3.nftLoad[a]=s),await d(),await h(),setTimeout(()=>{u.value=!1},2e3)},v=T(()=>{const a=parseInt(l.value);return e.web3.nftLoad[a]!==void 0}),C=async()=>{const a=parseInt(l.value);if(await k(a)===!0){await d(),await h(),console.log("* toClaim ok");const t=await f(a);t.id&&t.id===l.value&&(n.value=t,e.web3.nftLoad[a]=t)}},$=T(()=>{var s,t;const a=parseInt(l.value);return e.web3.nftLoad[a]!==void 0&&((t=(s=n==null?void 0:n.value)==null?void 0:s.metadata)!=null&&t.image)?`
	--crt:#fff;
    background-image: url(${n.value.metadata.image});
    background-position: center;
    background-repeat: no-repeat;
    background-size: 130% 100%;`:""}),g=a=>{const s=a.target,t=a.pageX-s.offsetLeft,_=a.pageY-s.offsetTop;s.style.setProperty("--x",t+"px"),s.style.setProperty("--y",_+"px")};return N(v,async a=>{if(a&&(console.log(a,"*existInLoad",e.web3.nftLoad[l.value]!==void 0,l.value,n.value),a&&!n.value)){const s=parseInt(l.value),t=await f(s);t.id&&t.id===l.value&&(n.value=t),console.log({resp:t})}}),N(()=>P.nftId,async function(a){if(l.value=a,n.value=null,console.log("w",a,v.value,e.web3.nftLoad[a]),!v.value&&!e.web3.nftLoad[a]){const s=parseInt(l.value);console.log("*startSearch");const t=await f(s);t.id&&t.id===l.value&&(n.value=t,e.web3.nftLoad[s]=t),console.log("* meta",n.value,{data:t})}e.web3.nftLoad[a],e.web3.nftLoad[a].id===a&&(n.value=e.web3.nftLoad[a])}),F(async()=>{const a=parseInt(l.value),s=await f(a);s.id&&s.id===l.value&&(n.value=s,e.web3.nftLoad[a]=s),s&&!e.web3.nftLoad[l.value]&&(n.value=s,e.web3.nftLoad[l.value]=s)}),L({nftId:l,existInLoad:v,mainStore:e,getBgNft:$,getLinkNftScan:r,moseMoveInCard:g,toClaim:C,loadRedresh:u,toRefresh:w}),(a,s)=>{var t;return i(),c("div",{class:p({"nft-item":!0,"loader-bg":!v.value}),style:R($.value),onMousemove:g},[o("div",K,[o("label",Q,[o("a",{href:z(r)(l.value),target:"_blank"},[S("# "+b(l.value)+" ",1),Z],8,W)]),o("img",{src:U,class:p({"icon-update-meta":!0,"loading-refresh":u.value}),onClick:w},null,2)]),ee,(t=n.value)!=null&&t.reward&&v.value&&!u.value?(i(),c("div",ae,[o("label",te,[se,S(" "+b(n.value.reward)+" TMINE ",1)]),o("img",{src:H,onClick:C,class:"icon-reward-claim"})])):y("",!0),!v.value||u.value?(i(),c("div",ne,oe)):y("",!0)],38)}}};const ie={key:0,class:"paginator"},ce={key:0,class:"slot-btn"},ue={key:1,class:"slot-btn"},re={class:"lbl-page"},de={key:0},ve=["onClick"],ge={class:"txt-pages"},fe={key:1},_e=["onClick"],me={key:2,class:"slot-btn _left"},pe={key:3,class:"slot-btn empty"},ye={key:1,class:"paginator"},be={__name:"ContainerGallery",setup(B,{expose:L}){const P=new O,f=G(),r=m(1),d=m(!1),h=m(null),k=m(5),l=()=>{d.value=!d.value,d.value?k.value=14:k.value=5,e.value=n()},u=T(()=>n().elementosPagina),n=()=>{const g=JSON.parse(JSON.stringify(f.web3.nftTokensIds)),a=P.arrayPaginator(g,k.value,r.value);return h.value=a.totalPaginas,a},e=m(n()),w=g=>{r.value=parseInt(g),e.value=n(),console.log("toPage",r.value)},v=()=>{r.value<h.value&&(r.value++,e.value=n()),console.log("nextPage",r.value)},C=()=>{r.value>1&&(r.value--,e.value=n()),console.log("previusPage",r.value)};return N(()=>f.web3.nftTokensIds,g=>{g&&(e.value=n())}),L({data:[],mainStore:f,currentPage:e,nextPage:v,nftItemGallery:M,getCurrentTarget:u,multiGrid14:d,changeToMultigrid:l}),(g,a)=>{const s=j("key");return i(),c(I,null,[o("section",{class:p({content:!0,"multi-grid-14":d.value,lessMinimal:u.value&&u.value.length&&u.value.length<=4,"minimal-size":d.value&&u.value.length<=3})},[(i(!0),c(I,null,A(u.value,(t,_)=>(i(),E(M,{"nft-id":t,"v-key":_},null,8,["nft-id","v-key"]))),256))],2),e.value&&e.value.paginaActual?(i(),c("section",ie,[e.value.paginaActual>1?(i(),c("span",ce,[o("i",{class:p({"fas fa-th icon-grid":!0,active:d.value}),style:{color:"#ffffff"},onClick:l},null,2),o("button",{class:"btn btn-secundary",onClick:C},"previus")])):y("",!0),e.value.paginaActual==1?(i(),c("span",ue,[o("i",{class:p({"fas fa-th icon-grid":!0,active:d.value}),style:{color:"#ffffff"},onClick:l},null,2)])):y("",!0),o("label",re,[e.value.totalPaginas>2?(i(),c("div",de,[(i(),c(I,null,A(3,(t,_)=>J(o("button",{class:p({"btn-pag":!0,active:e.value.paginaActual===t}),onClick:D=>w(t)},[S(b(t),1)],10,ve),[[s,_]])),64))])):y("",!0),o("div",ge," page "+b(e.value.paginaActual)+" de "+b(e.value.totalPaginas),1),e.value.totalPaginas>=10?(i(),c("div",fe,[(i(!0),c(I,null,A(e.value.totalPaginas,(t,_)=>(i(),c(I,null,[_&&e.value.totalPaginas>3&&_>=e.value.totalPaginas-3?(i(),c("button",{key:0,class:p({"btn-pag":!0,active:e.value.paginaActual===t}),onClick:D=>w(t)},b(t),11,_e)):y("",!0)],64))),256))])):y("",!0)]),e.value.totalPaginas!==e.value.paginaActual?(i(),c("span",me,[o("button",{class:"btn btn-primary",onClick:v},"next")])):(i(),c("span",pe))])):(i(),c("section",ye))],64)}}},ke=V(be,[["__scopeId","data-v-db416fc4"]]);export{ke as C};
