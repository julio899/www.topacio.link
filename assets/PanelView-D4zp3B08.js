import{_ as C,a as $,b as I}from"./ButtomComponent-Dj4HIyBE.js";import{_ as T}from"./Tmine2-DhPnLw4a.js";import{_ as h,u as N,j as v,k as s,a as i,b as l,d as e,t as p,f as u,e as d,l as r,w as y,m as S,p as B,o as M,q as P}from"./index-D0zx4FVo.js";import{C as A}from"./ContainerGallery-BAuuNsKf.js";import"./index-CoaiGLlK.js";import"./Paginator.vue_vue_type_style_index_0_lang-DVIccOQK.js";import"./Paginator.vue_vue_type_script_setup_true_lang-D3sAggbD.js";import"./iconify-xJ4hLu4E.js";const E="/img/Tmine2-w.svg",V={key:0,id:"list-options"},W={class:"balance-option"},U={class:"balance-option"},F={class:"lbl-left"},L=["src"],j={key:0},q=["src"],D={class:"balance-option"},G={class:"lbl-left"},K={class:"balance-option btn-tmine-container",style:{padding:"0 1em"}},R={key:0,class:"in-col p-1 li-sort"},z={class:"box-vertical-flex"},H={class:"p-1-lr"},J={__name:"SidebarPanel",setup(x,{expose:k}){const m=S(),t=N(),b=v.useToast(),g=()=>{var n;return(n=t==null?void 0:t.web3)!=null&&n.participantsInSorteo&&t.web3.participantsInSorteo.length==0?[]:t.web3.participantsInSorteo?t.web3.participantsInSorteo.flatMap(o=>o.substring(0,7)+"    ......    "+o.slice(-7)):[]},_=async()=>{var n,o,c,w,f;try{const a=await m.proxy.$w3AddMeToSorteo();console.log({r:a}),b.open({message:"Registro procesado satisfactoriamente.",type:"success",position:"top-right"})}catch(a){console.log({e:a}),a!=null&&a.reason?b.open({message:a.reason,type:"error",position:"top-right"}):(c=(o=(n=a==null?void 0:a.info)==null?void 0:n.error)==null?void 0:o.data)!=null&&c.message&&((f=(w=a==null?void 0:a.info)==null?void 0:w.error)==null?void 0:f.code)==-32603&&b.open({message:$t("general.titles.insufficient_gas"),type:"error",position:"top-right"})}};return k({instance:m,mainStore:t,registerInSorteo:_}),(n,o)=>{const c=C,w=$,f=I;return s(t).connected?(i(),l("ul",V,[e("li",null,[e("div",W,[o[0]||(o[0]=e("span",{class:"lbl-left"}," Total Supply TMINE ",-1)),e("label",null,p(s(t).web3.tmineTotalSupply),1)])]),e("li",null,[e("div",U,[e("span",F,[n.$getConnectedState()&&n.$getImgBlockchain()?(i(),l("img",{key:0,src:n.$getImgBlockchain(),alt:"logo blockchain",width:"25px",height:"25px",class:"icon-blockchain"},null,8,L)):u("",!0),o[1]||(o[1]=d(" BALANCE "))]),e("label",null,p(s(t).web3.balanceFormat),1),s(t).web3.Network?(i(),l("span",j,[s(t).web3.Network.caipNetwork.assets.imageUrl?(i(),l("img",{key:0,src:s(t).web3.Network.caipNetwork.assets.imageUrl,alt:"matic-logo-banance",class:"matic-logo-banance"},null,8,q)):u("",!0),d(" "+p(s(t).web3.Network.caipNetwork.name),1)])):u("",!0)])]),e("li",null,[e("div",D,[e("label",G,p(s(t).web3.tmaineBalanceFormat),1),o[2]||(o[2]=e("span",null,[e("img",{src:E,alt:"tmine-logo-banance",class:"tmine-logo-banance"}),d(" BALANCE TMINE ")],-1))])]),e("li",null,[e("div",K,[r(c,{class:"bnt1",onClick:s(m).proxy.$MultiWalletWeb3.addTmineToWallet},{default:y(()=>[o[3]||(o[3]=e("img",{src:T,class:"tmine-logo-banance"},null,-1)),d(" "+p(n.$t("general.titles.add_tmine")),1)]),_:1},8,["onClick"])])]),s(t).web3.dateNextSorteo&&s(t).web3.dateNextSorteo>999?(i(),l("li",R,[e("div",z,[o[5]||(o[5]=e("span",null,"Proximo Sorteo",-1)),r(w,{dateTarget:s(t).web3.dateNextSorteo},null,8,["dateTarget"]),r(c,{class:"bnt1",onClick:_},{default:y(()=>o[4]||(o[4]=[d("Participar")])),_:1}),r(c,{class:"btn3 p-1 no-cursor"},{default:y(()=>[d("Participantes en dia: "+p(s(t).web3.participantsInSorteo.length),1)]),_:1})])])):u("",!0),e("li",H,[r(f,{title:"Participando para sorteo",items:g(),showKey:!0},null,8,["items"])])])):u("",!0)}}},O=h(J,[["__scopeId","data-v-e0d75f25"]]),Q={key:0,class:"panel-container"},X={key:1},Y=B({__name:"PanelView",setup(x){const k=N(),{proxy:m}=S(),t=async()=>{await m.$MultiWalletWeb3.refreshTokens(),console.log("update")};return M(async()=>{await t()}),P(async()=>{await t()}),(b,g)=>{var _,n;return((n=(_=s(k))==null?void 0:_.web3)==null?void 0:n.connected)===!0?(i(),l("section",Q,[e("aside",null,[r(O)]),e("article",null,[r(A)])])):(i(),l("section",X,g[0]||(g[0]=[e("h1",null,"Necesitas conexion web3",-1)])))}}}),lt=h(Y,[["__scopeId","data-v-7bb7dd73"]]);export{lt as default};
