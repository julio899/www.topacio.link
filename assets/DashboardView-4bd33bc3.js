import{_ as J,i as O,j as c,u as R,r as f,f as U,o as q,k as K,a as l,g as b,l as s,d as t,e as i,t as r,m as d,c as B,n as h,w as N,p as L,b as z,q as Q,h as X}from"./index-e3053b11.js";import{_ as Y}from"./Tmine2-25d51798.js";import{C as V}from"./ContainerGallery-a6d63930.js";import{_ as S,a as v,b as D}from"./ScrollAreaComponent.vue_vue_type_style_index_0_lang-35c83a97.js";import"./Paginator.vue_vue_type_style_index_0_lang-bb8de9c7.js";import"./Paginator.vue_vue_type_script_setup_true_lang-426923af.js";const E="/img/Tmine2-w.svg";const _=m=>(L("data-v-4319485f"),m=m(),z(),m),Z={class:"subscription"},ee={key:0,class:"title"},te={class:"title-left-section"},se=_(()=>t("img",{src:E,alt:"tmine logo",class:"img-logo-tmine"},null,-1)),ae={key:0},oe={class:"halving-container"},ne={class:"sidebar"},ie={key:0,id:"list-options"},re={class:"lbl-left"},ce=_(()=>t("span",null,[t("img",{src:Q,alt:"matic-logo-banance",class:"matic-logo-banance"}),i(" MATIC ")],-1)),le={class:"lbl-left"},pe=_(()=>t("span",null,[t("img",{src:E,alt:"tmine-logo-banance",class:"tmine-logo-banance"}),i(" TMINE ")],-1)),de=_(()=>t("label",{class:"lbl-left"},[t("span",{class:"add-to-metamask"},[t("img",{src:Y,class:"tmine-logo-banance"}),i(" Add TMine ")])],-1)),_e=[de],me={class:"in-col p-1 li-sort"},ue=_(()=>t("span",null,"Proximo Sorteo",-1)),ge={class:"p-1-lr"},fe={__name:"DashboardView",setup(m,{expose:$}){const w=O.useToast(),T=c("syncTmineTotalSupply"),y=c("addTmineToMetamask");c("executeSelectWinner"),c("resetTimeEventDaily"),c("selectWinnerSorteo");const A=c("addMeToSorteo"),F=new X,e=R(),u=f(1),k=f(null),W=f(10),j=()=>{var o=1,a=confetti.shapeFromText({text:"ðŸ’Ž",scalar:o});confetti({particleCount:100,spread:180,shapes:[a]})},x=async()=>{var o,a,g,P,M;try{const n=await A();w.open({message:"Registro procesado satisfactoriamente.",type:"success",position:"top-right"})}catch(n){console.log({e:n}),n!=null&&n.reason?w.open({message:n.reason,type:"error",position:"top-right"}):(g=(a=(o=n==null?void 0:n.info)==null?void 0:o.error)==null?void 0:a.data)!=null&&g.message&&((M=(P=n==null?void 0:n.info)==null?void 0:P.error)==null?void 0:M.code)==-32603&&w.open({message:"Gas insuficiente",type:"error",position:"top-right"})}},p=()=>{if(e.web3.nftTokensIds.length==0)return{elementosPagina:[],totalPaginas:1,paginaActual:1};const o=JSON.parse(JSON.stringify(e.web3.nftTokensIds)),a=F.arrayPaginator(o,W.value,u.value);return k.value=a.totalPaginas,console.log({dataFormat:a}),a},G=()=>{u.value<k.value&&(u.value++,C.value=p()),console.log("nextPage",u.value)},C=f(p()),I=()=>{var o;return(o=e==null?void 0:e.web3)!=null&&o.participantsInSorteo&&e.web3.participantsInSorteo.length==0?[]:e.web3.participantsInSorteo?e.web3.participantsInSorteo.flatMap(a=>a.substring(0,7)+"    ......    "+a.slice(-7)):[]};U(()=>e.web3.nftTokensIds,o=>{o&&(p(),T())});const H=[];return q(()=>{T(),p()}),K(()=>{T(),p()}),$({data:H,mainStore:e,currentPage:C,nextPage:G,ContainerGallery:V,addTmineToMetamask:y,shooterConfetti:j,CountdownComponent:S,ButtomComponent:v,registerInSorteo:x,ScrollAreaComponent:D,formatWallets:I}),(o,a)=>(l(),b("main",Z,[s(e).connected&&s(e).web3?(l(),b("h1",ee,[t("span",te,[i(" Tmine "),se,i(" Existencia Total: "+r(s(e).web3.tmineTotalSupply),1)]),s(e).web3.rewardTmineBase?(l(),b("span",ae,"Rate: "+r(s(e).web3.rewardTmineBase),1)):d("",!0),t("div",oe,[i(" Halving: "),s(e).web3.halving?(l(),B(S,{key:0,dateTarget:s(e).web3.halving},null,8,["dateTarget"])):d("",!0)]),i(" Topacio Nft's assets "+r(s(e).web3.nftBalance)+" ðŸ’Ž / Holders: "+r(s(e).web3.holdersCount),1)])):d("",!0),t("section",ne,[s(e).connected?(l(),b("ul",ie,[t("li",null,[t("label",re,[i(r(s(e).web3.balanceFormat)+" ",1),ce])]),t("li",null,[t("label",le,[i(r(s(e).web3.tmineBalance)+" ",1),pe])]),t("li",{onClick:a[0]||(a[0]=(...g)=>s(y)&&s(y)(...g))},_e),t("li",me,[ue,h(S,{dateTarget:s(e).web3.dateNextSorteo},null,8,["dateTarget"]),h(v,{class:"bnt1",onClick:x},{default:N(()=>[i("Participar")]),_:1}),h(v,{class:"btn3 p-1 no-cursor"},{default:N(()=>[i("Participantes en dia: "+r(s(e).web3.participantsInSorteo.length),1)]),_:1})]),t("li",ge,[h(D,{title:"Participando para sorteo",items:I(),showKey:!0},null,8,["items"])])])):d("",!0)]),s(e).connected?(l(),B(V,{key:1})):d("",!0)]))}},ve=J(fe,[["__scopeId","data-v-4319485f"]]);export{ve as default};
