import{g as Ha,_ as Ie,t as Oa,r as O,h as Le,i as A,o as ye,a as T,f as N,d as a,n as D,F as sa,j as ja,k as q,l as G,m as Na,u as na,q as oa,s as Ua,v as $,x as Ee,y as qa,z as Ya,A as Be,B as Za,C as $a,e as Ka,c as Fe,p as Ga,b as Xa}from"./index-8c23cd9d.js";import{u as fe,Y as ra}from"./chart-c4f46509.js";class Qa{constructor(i){this.callbacks=[],this.acu=0,this.data=i,this.divergencias={bajista:[],alcista:[]}}agregarCallback(i){this.callbacks.push(i)}procesarDivergencias(){console.time();const i=30;this.data.forEach((y,t)=>{if(this.data[t-i]!=null){const p=this.data.slice(t,t+(i-1)),x=parseInt(p.length/2),u=p.slice(0,x),b=p.slice(x+1,p.length);if(u.length>0&&b.length>0){let e=u.map(v=>v).sort((v,s)=>s.high-v.high)[0],l=b.map(v=>v).sort((v,s)=>s.high-v.high)[0],L=u.map(v=>v).sort((v,s)=>v.low-s.low)[0],_=b.map(v=>v).sort((v,s)=>v.low-s.low)[0];if(e.high<l.high&&e.rsi>l.rsi&&(l.close>l.hma10||l.high>l.bbh89)){let v=l.high-e.high,s=p.filter(n=>n.time>=e.time&&n.time<=l.time);const m=s.length;v=v/m;let h=e.high,w=s.flatMap(n=>(h+=v,{time:n.time,value:h,color:"pink"}));this.divergencias.bajista.push(w)}if(L.low>_.low&&L.rsi<_.rsi&&_.close<_.hma10&&_.close<_.hma20){let v=p.filter(n=>n.time>=L.time&&n.time<=_.time),s=_.low-L.low;const m=v.length;s=s/m;let h=L.low,w=v.flatMap(n=>(h+=s,{time:n.time,value:h,color:"#19f5eb"}));this.divergencias.alcista.push(w)}}}}),console.timeEnd()}iniciarProceso(){const i=this;return Promise.resolve(i.procesarDivergencias()).then(function(){i.callbacks.forEach(y=>{y(i.divergencias),i.callbacks=[]})})}}var la={exports:{}};(function(F,i){(function(y,t){t(i)})(Ha,function(y){function t(s,m){return function(h){if(Array.isArray(h))return h}(s)||function(h,w){var n=h==null?null:typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(n!=null){var E,g,B=[],P=!0,f=!1;try{for(n=n.call(h);!(P=(E=n.next()).done)&&(B.push(E.value),!w||B.length!==w);P=!0);}catch(W){f=!0,g=W}finally{try{P||n.return==null||n.return()}finally{if(f)throw g}}return B}}(s,m)||function(h,w){if(h){if(typeof h=="string")return p(h,w);var n=Object.prototype.toString.call(h).slice(8,-1);if(n==="Object"&&h.constructor&&(n=h.constructor.name),n==="Map"||n==="Set")return Array.from(h);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(h,w)}}(s,m)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function p(s,m){(m==null||m>s.length)&&(m=s.length);for(var h=0,w=new Array(m);h<m;h++)w[h]=s[h];return w}function x(s,m){var h,w,n,E,g=null,B=typeof m=="number"?m:(h=t(String(m).split(/(ms|s)/i),2),w=h[0],n=h[1],E=n===void 0?"ms":n,Number(w)*{ms:1,s:1e3}[E]),P=function(){for(var f=this,W=arguments.length,S=new Array(W),H=0;H<W;H++)S[H]=arguments[H];var J=function(){g=null,s.apply(f,S)};clearTimeout(g),(g=setTimeout(J,B))||s.apply(this,S)};return P.cancel=function(){clearTimeout(g),g=null},P}function u(s){return s.map(function(m){return m.toLowerCase()})}function b(s,m){var h,w=s?s["debounce-events"]:[];return w&&w.length>0?Array.isArray(w)?u(w):u(w.split(",")):u((h=m,Array.isArray(h)?h:h==null?[]:[h]))}function e(s){return s===""}function l(s,m){return s==="Enter"&&(!m.lock||m.unlock)}function L(s,m,h){return e(s)&&h.fireonempty&&(m==="Enter"||m===" ")}function _(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=s.lock,h=m!==void 0&&m,w=s.listenTo,n=w===void 0?"keyup":w,E=s.defaultTime,g=E===void 0?"300ms":E,B=s.fireOnEmpty,P=B!==void 0&&B,f=s.cancelOnEmpty,W=f!==void 0&&f,S=s.trim,H=S!==void 0&&S;return{bind:function(J,K,ne){var ae=K.value,te=K.arg,re=te===void 0?g:te,ce=K.modifiers,Y=Object.assign({lock:h,trim:H,fireonempty:P,cancelonempty:W},ce),ie=b(ne.data.attrs,n),Z=x(function(C){ae(C.target.value,C)},re);function le(C){var X=Y.trim?C.target.value.trim():C.target.value;e(X)&&Y.cancelonempty?Z.cancel():l(C.key,Y)||L(X,C.key,Y)?(Z.cancel(),ae(C.target.value,C)):Z(C)}ie.forEach(function(C){J.addEventListener(C,le)})}}}var v={install:function(s){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s.directive("debounce",_(m))}};y.debounce=x,y.default=v,y.vue3Debounce=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=s.lock,h=m!==void 0&&m,w=s.listenTo,n=w===void 0?"keyup":w,E=s.defaultTime,g=E===void 0?"300ms":E,B=s.fireOnEmpty,P=B!==void 0&&B,f=s.cancelOnEmpty,W=f!==void 0&&f,S=s.trim,H=S!==void 0&&S;return{created:function(J,K,ne){var ae=K.value,te=K.arg,re=te===void 0?g:te,ce=K.modifiers,Y=Object.assign({lock:h,trim:H,fireonempty:P,cancelonempty:W},ce),ie=b(ne.props,n),Z=x(function(C){ae(C.target.value,C)},re);function le(C){var X=Y.trim?C.target.value.trim():C.target.value;e(X)&&Y.cancelonempty?Z.cancel():l(C.key,Y)||L(X,C.key,Y)?(Z.cancel(),ae(C.target.value,C)):Z(C)}ie.forEach(function(C){J.addEventListener(C,le)})}}},Object.defineProperty(y,"__esModule",{value:!0})})})(la,la.exports);var ya=la.exports;const Ja={name:"Selector",props:["opciones","onlyLabel"],setup(F,{emit:i}){const{opciones:y,lblPorDefecto:t,onlyLabel:p}=Oa(F),x=O(!1),u=O(""),b=y.value.filter(s=>s.selected),e=Le({label:b&&b[0]&&b[0].label?b[0].label:"SYMBOL",value:b&&b[0]&&b[0].value?b[0].value:""}),l=Le({data:[]}),L=()=>{x.value=!x.value};A(y,s=>{const m=s.filter(h=>h.selected);m&&m[0]&&(u.value=m[0].label)}),l.data=y.value;const _=s=>{const m=s.target.value.toUpperCase();u.value=m,e.label="SYMBOL",l.data=F.opciones.filter(h=>h.label.includes(m)),x.value=!0},v=s=>{x.value=!1,e.label=s.label,e.value=s.value,u.value=p&&p.value==!0?s.label:s.value,!(!s||!s.value)&&i("actionChange",s)};return b&&b[0]&&(e.value=b[0].value,e.label=b[0].label,u.value=b[0].label),ye(async()=>{F.opciones&&F.opciones[0]!=null&&!b[0]&&(e.label=F.opciones[0].label,e.value=F.opciones[0].value,u.value=F.opciones[0].value)}),{open:x,controllerText:_,clickOption:v,defaultOption:e,txtValue:u,opcionesData:l,porDefault:b,abrir:L}}},et={key:0,class:"container-selector"},at=["value","placeholder"],tt=["onClick"];function it(F,i,y,t,p,x){return y.opciones&&y.opciones.length>0&&y.opciones[0].label?(T(),N("div",et,[a("form",null,[a("input",{class:"chosen-value",type:"text",value:t.txtValue,placeholder:t.porDefault,onInput:i[0]||(i[0]=(...u)=>t.controllerText&&t.controllerText(...u)),onClick:i[1]||(i[1]=(...u)=>t.abrir&&t.abrir(...u))},null,40,at),a("ul",{class:D({"value-list":!0,open:t.open})},[(T(!0),N(sa,null,ja(t.opcionesData.data,u=>(T(),N("li",{onClick:b=>t.clickOption(u)},q(u.label),9,tt))),256))],2)])])):G("",!0)}const ta=Ie(Ja,[["render",it],["__scopeId","data-v-e5b46d83"]]);const lt=a("div",{id:"chart-rsi"},[a("div",{class:"vertical-cursor"})],-1),st=a("div",{id:"chart-macd"},null,-1),Va={__name:"ChartRsi",setup(F,{expose:i}){const y=new na,t=fe();let p=[];const x=O(null);let u;return ye(()=>{p=t.chart.data.flatMap(_=>{let v={value:_.rsi,time:_.time};return _.rsi>75&&(v.color="#f70776"),_.rsi<25&&(v.color="#e0ffcd"),v});const l=document.querySelector("#chart-rsi");let L=y.getConfigChart(l.offsetWidth,l.offsetHeight);L.priceLineVisible=!1,L.priceLineColor="transparent",L.lastValueVisible=!1,L.localization={priceFormatter:_=>parseFloat(_).toFixed(2),timeFormatter:_=>{const v="DD-MM-YYYY HH:mm:ss";return Na(new Date(_)).format(v)}},x.value=ra(l,L),u=x.value.addLineSeries({color:"rgba(4, 111, 232, 1)",lineWidth:1,priceLineVisible:!1}),u.setData(p),console.log("dataRsi l:",p.length)}),i({chart:x,updateAndRecalculate:()=>{p=t.chart.data.flatMap(l=>{if(!l.rsi)return[];let L={value:l.rsi,time:l.time};return l.rsi>75&&(L.color="#f70776"),l.rsi<25&&(L.color="#e0ffcd"),L}),u.setData(p)},update:l=>{u.update(l),x.value.applyOptions({watermark:{color:"rgba(255, 255, 255, 1)",visible:!0,text:`RSI 14 SMA ${l.value}`,fontSize:11,horzAlign:"left",vertAlign:"top"}})}}),(l,L)=>(T(),N(sa,null,[lt,st],64))}},ka={__name:"ChartMacd",props:["chartInfoVisible"],emits:["resizeChart"],setup(F,{expose:i,emit:y}){const t=F,p=fe(),x=oa(),u=new na,b=O(null);let e=null,l=null,L=null,_=null,v=[],s=[],m=[],h=[];A(()=>t.chartInfoVisible,function(g){w(g)});const w=g=>{var B,P;(B=g==null?void 0:g.visibleLogicalRange)!=null&&B.to&&((P=g==null?void 0:g.visibleLogicalRange)!=null&&P.from)&&(g.visibleLogicalRange.to=parseInt(g.visibleLogicalRange.to),g.visibleLogicalRange.from=parseInt(g.visibleLogicalRange.from),e.timeScale().setVisibleLogicalRange({to:g.visibleLogicalRange.to,from:g.visibleLogicalRange.from}))},n=async()=>{const g=document.getElementById("chart-macd"),B=parseInt(x.w/1.005),P=parseInt(g.offsetHeight);let f=u.getConfigChart(B,P);f.timeScale.visible=!1,f.timeScale.timeVisible=!1,f.localization.priceFormatter=W=>parseFloat(W).toFixed(4),e=await ra(g,f),l=e.addHistogramSeries({color:"#26a69a"}),L=e.addLineSeries({color:"#8bffff",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),_=e.addLineSeries({color:"#f07810",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),l.applyOptions({lastValueVisible:!1,priceLineVisible:!1})},E=()=>{p.chart.data.flatMap(f=>f.high);function g(f,W){return f.time<W.time?-1:f.time>W.time?1:0}let B=[];p.chart.data.forEach((f,W)=>{if(p.chart.data[W-1]){let S=p.chart.data[W-1];S.macd.MACD=parseFloat(parseFloat(S.macd.MACD).toFixed(5)),S.macd.histogram=parseFloat(parseFloat(S.macd.histogram).toFixed(5)),S.macd.signal=parseFloat(parseFloat(S.macd.signal).toFixed(5)),f.macd.MACD=parseFloat(parseFloat(f.macd.MACD).toFixed(5)),f.macd.histogram=parseFloat(parseFloat(f.macd.histogram).toFixed(5)),f.macd.signal=parseFloat(parseFloat(f.macd.signal).toFixed(5)),f.macd.signal>f.macd.MACD&&S.macd.MACD>S.macd.signal&&(B[f.time]=!0,h.push({time:S.time,position:"inBar",color:"orange",shape:"circle"})),f.macd.signal<f.macd.MACD&&S.macd.signal>S.macd.MACD&&(B[f.time]=!0,h.push({time:S.time,position:"inBar",color:"aqua",shape:"circle"}))}}),v=p.chart.data.flatMap((f,W)=>{let S={value:f.macd.histogram,time:f.time};S.color=f.macd.histogram<0?"#c3195d":"#2ba71e70";let H=p.chart.data[W-1];return H&&(H.macd.histogram<0&&f.macd.histogram<0&&f.macd.histogram>H.macd.histogram&&(S.color="pink"),H.macd.histogram>0&&f.macd.histogram>0&&f.macd.histogram<H.macd.histogram&&(S.color="#e0ffcd")),S}),v=v.sort(g),h=h.sort(g),m=p.chart.data.flatMap(f=>({value:f.macd.signal,time:f.time})),m=m.sort(g),s=p.chart.data.flatMap(f=>({value:f.macd.MACD,time:f.time})),s=s.sort(g),l&&L&&_&&(l.setData(v),L.setData(s),_.setData(m),_.setMarkers(h))};return ye(async()=>{y("resizeChart"),await n(),E()}),Ua(async()=>{y("resizeChart")}),i({processData:E}),(g,B)=>(T(),N("div",{id:"chart-macd",class:"container-macd",ref_key:"chartMacd",ref:b},null,512))}};const nt={name:"MenuIndicadores",props:["displaymenu"],setup(F){return{indicators:fe()}}},ot={class:"menu-list"},rt={class:"menu-item"},ct=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),dt=a("span",null,"Bandas de Bollinger",-1),ht=[ct,dt],ut={class:"menu-item"},mt=a("button",{class:"menu-button"},[a("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"800px",height:"800px",viewBox:"0 0 20 20",version:"1.1"},[a("g",{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[a("g",{id:"Dribbble-Light-Preview",transform:"translate(-380.000000, -7079.000000)",fill:"#898c94"},[a("g",{id:"icons",transform:"translate(56.000000, 160.000000)"},[a("path",{d:"M325.998,6919 C324.893,6919 324,6919.895 324,6921 L324,6926 C324,6926.552 324.447,6927 324.999,6927 C325.552,6927 326,6926.552 326,6926 L326,6923.621 C326,6923.176 326.538,6922.953 326.853,6923.268 L329.877,6926.293 C330.268,6926.683 330.901,6926.683 331.291,6926.293 C331.682,6925.902 331.681,6925.269 331.291,6924.879 L328.266,6921.854 C327.951,6921.539 328.174,6921 328.619,6921 L330.998,6921 C331.55,6921 331.998,6920.552 331.998,6920 C331.998,6919.448 331.55,6919 330.998,6919 L325.998,6919 L325.998,6919 Z M344,6932 C344,6931.448 343.551,6931 342.999,6931 C342.447,6931 342,6931.448 342,6932 L342,6934.379 C342,6934.824 341.46,6935.047 341.145,6934.732 L338.12,6931.707 C337.729,6931.317 337.096,6931.317 336.705,6931.707 C336.315,6932.098 336.315,6932.731 336.705,6933.121 L339.73,6936.146 C340.045,6936.461 339.822,6937 339.377,6937 L336.998,6937 C336.446,6937 335.998,6937.448 335.998,6938 C335.998,6938.552 336.446,6939 336.998,6939 L341.998,6939 C343.103,6939 344,6938.105 344,6937 L344,6932 L344,6932 Z",id:"arrow_up-[#234]"})])])])]),a("span",null,"Hull"),a("span",{class:"r-30"},"Ocilador"),a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-chevron-right"},[a("polyline",{points:"9 18 15 12 9 6"})])],-1),ft={class:"menu-sub-list"},pt={class:"menu-item"},vt=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),gt=a("span",null,"10 periodos ",-1),bt=[vt,gt],_t={class:"menu-item"},wt=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),Lt=a("span",null,"20 periodos ",-1),yt=[wt,Lt],Vt={class:"menu-item"},kt=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),xt=a("span",null,"55 periodos ",-1),St=[kt,xt],Ct={class:"menu-item"},Mt=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),Dt=a("span",null,"89 periodos ",-1),At=[Mt,Dt],Bt={class:"menu-item"},Et=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),Ft=a("span",null,"233 periodos",-1),It=[Et,Ft],Wt={class:"menu-item"},zt=a("button",{class:"menu-button"},[a("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"800px",height:"800px",viewBox:"0 0 20 20",version:"1.1"},[a("g",{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[a("g",{id:"Dribbble-Light-Preview",transform:"translate(-380.000000, -7079.000000)",fill:"#898c94"},[a("g",{id:"icons",transform:"translate(56.000000, 160.000000)"},[a("path",{d:"M325.998,6919 C324.893,6919 324,6919.895 324,6921 L324,6926 C324,6926.552 324.447,6927 324.999,6927 C325.552,6927 326,6926.552 326,6926 L326,6923.621 C326,6923.176 326.538,6922.953 326.853,6923.268 L329.877,6926.293 C330.268,6926.683 330.901,6926.683 331.291,6926.293 C331.682,6925.902 331.681,6925.269 331.291,6924.879 L328.266,6921.854 C327.951,6921.539 328.174,6921 328.619,6921 L330.998,6921 C331.55,6921 331.998,6920.552 331.998,6920 C331.998,6919.448 331.55,6919 330.998,6919 L325.998,6919 L325.998,6919 Z M344,6932 C344,6931.448 343.551,6931 342.999,6931 C342.447,6931 342,6931.448 342,6932 L342,6934.379 C342,6934.824 341.46,6935.047 341.145,6934.732 L338.12,6931.707 C337.729,6931.317 337.096,6931.317 336.705,6931.707 C336.315,6932.098 336.315,6932.731 336.705,6933.121 L339.73,6936.146 C340.045,6936.461 339.822,6937 339.377,6937 L336.998,6937 C336.446,6937 335.998,6937.448 335.998,6938 C335.998,6938.552 336.446,6939 336.998,6939 L341.998,6939 C343.103,6939 344,6938.105 344,6937 L344,6932 L344,6932 Z",id:"arrow_up-[#234]"})])])])]),a("span",null,"EMAS"),a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-chevron-right"},[a("polyline",{points:"9 18 15 12 9 6"})])],-1),Rt={class:"menu-sub-list"},Tt={class:"menu-item"},Pt=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),Ht=a("span",null,"10 periodos ",-1),Ot=[Pt,Ht],jt={class:"menu-item"},Nt=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),Ut=a("span",null,"20 periodos",-1),qt=[Nt,Ut],Yt={class:"menu-item"},Zt=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),$t=a("span",null,"55 periodos ",-1),Kt=[Zt,$t],Gt={class:"menu-item"},Xt=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),Qt=a("span",null,"89 periodos ",-1),Jt=[Xt,Qt],ei={class:"menu-item"},ai=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),ti=a("span",null,"100 periodos ",-1),ii=[ai,ti],li={class:"menu-item"},si=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),ni=a("span",null,"200 periodos ",-1),oi=[si,ni],ri={class:"menu-item"},ci=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),di=a("span",null,"233 periodos ",-1),hi=[ci,di],ui={class:"menu-item"},mi=a("button",{class:"menu-button"},[a("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"800px",height:"800px",viewBox:"0 0 20 20",version:"1.1"},[a("g",{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[a("g",{id:"Dribbble-Light-Preview",transform:"translate(-380.000000, -7079.000000)",fill:"#898c94"},[a("g",{id:"icons",transform:"translate(56.000000, 160.000000)"},[a("path",{d:"M325.998,6919 C324.893,6919 324,6919.895 324,6921 L324,6926 C324,6926.552 324.447,6927 324.999,6927 C325.552,6927 326,6926.552 326,6926 L326,6923.621 C326,6923.176 326.538,6922.953 326.853,6923.268 L329.877,6926.293 C330.268,6926.683 330.901,6926.683 331.291,6926.293 C331.682,6925.902 331.681,6925.269 331.291,6924.879 L328.266,6921.854 C327.951,6921.539 328.174,6921 328.619,6921 L330.998,6921 C331.55,6921 331.998,6920.552 331.998,6920 C331.998,6919.448 331.55,6919 330.998,6919 L325.998,6919 L325.998,6919 Z M344,6932 C344,6931.448 343.551,6931 342.999,6931 C342.447,6931 342,6931.448 342,6932 L342,6934.379 C342,6934.824 341.46,6935.047 341.145,6934.732 L338.12,6931.707 C337.729,6931.317 337.096,6931.317 336.705,6931.707 C336.315,6932.098 336.315,6932.731 336.705,6933.121 L339.73,6936.146 C340.045,6936.461 339.822,6937 339.377,6937 L336.998,6937 C336.446,6937 335.998,6937.448 335.998,6938 C335.998,6938.552 336.446,6939 336.998,6939 L341.998,6939 C343.103,6939 344,6938.105 344,6937 L344,6932 L344,6932 Z",id:"arrow_up-[#234]"})])])])]),a("span",null,"SMA"),a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-chevron-right"},[a("polyline",{points:"9 18 15 12 9 6"})])],-1),fi={class:"menu-sub-list"},pi={class:"menu-item"},vi=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),gi=a("span",null,"10 periodos ",-1),bi=[vi,gi],_i={class:"menu-item"},wi=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),Li=a("span",null,"20 periodos",-1),yi=[wi,Li],Vi={class:"menu-item"},ki=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),xi=a("span",null,"55 periodos ",-1),Si=[ki,xi],Ci={class:"menu-item"},Mi=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),Di=a("span",null,"89 periodos ",-1),Ai=[Mi,Di],Bi={class:"menu-item"},Ei=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),Fi=a("span",null,"100 periodos ",-1),Ii=[Ei,Fi],Wi={class:"menu-item"},zi=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),Ri=a("span",null,"200 periodos ",-1),Ti=[zi,Ri],Pi={class:"menu-item"},Hi=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),Oi=a("span",null,"233 periodos ",-1),ji=[Hi,Oi],Ni={class:"menu-list"},Ui={class:"menu-item"},qi=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),Yi=a("span",null,"Divergencias",-1),Zi=a("span",{class:"sub-title-label"},"Divergence",-1),$i=[qi,Yi,Zi],Ki={class:"menu-list"},Gi={class:"menu-item"},Xi=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),Qi=a("span",null,"Heikin Ashi",-1),Ji=a("span",{class:"sub-title-label"},"Formato de velas",-1),el=[Xi,Qi,Ji],al={class:"menu-item"},tl=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),il=a("span",null,"PSAR",-1),ll=[tl,il],sl={class:"menu-item"},nl=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),ol=a("span",null,"MACD",-1),rl=[nl,ol],cl={class:"menu-item"},dl=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),hl=a("span",null,"Kernel Channel",-1),ul=[dl,hl];function ml(F,i,y,t,p,x){return T(),N("div",{class:D({"menu settings":!0,displaymenu:t.indicators.isOpenMenu,oculto:!t.indicators.isOpenMenu})},[a("ul",ot,[a("li",rt,[a("button",{class:D({"menu-button custom-indicator":!0,active:t.indicators.getIndicators.bb}),onClick:i[0]||(i[0]=u=>t.indicators.chart.indicators.bb=!t.indicators.chart.indicators.bb)},ht,2)]),a("li",ut,[mt,a("ul",ft,[a("li",pt,[a("button",{class:D({"menu-button custom-indicator":!0,active:t.indicators.getIndicators.hma10}),onClick:i[1]||(i[1]=u=>t.indicators.chart.indicators.hma10=!t.indicators.chart.indicators.hma10)},bt,2)]),a("li",_t,[a("button",{class:D({"menu-button custom-indicator":!0,active:t.indicators.getIndicators.hma20}),onClick:i[2]||(i[2]=u=>t.indicators.chart.indicators.hma20=!t.indicators.chart.indicators.hma20)},yt,2)]),a("li",Vt,[a("button",{class:D({"menu-button custom-indicator":!0,active:t.indicators.getIndicators.hma55}),onClick:i[3]||(i[3]=u=>t.indicators.chart.indicators.hma55=!t.indicators.chart.indicators.hma55)},St,2)]),a("li",Ct,[a("button",{class:D({"menu-button custom-indicator":!0,active:t.indicators.getIndicators.hma89}),onClick:i[4]||(i[4]=u=>t.indicators.chart.indicators.hma89=!t.indicators.chart.indicators.hma89)},At,2)]),a("li",Bt,[a("button",{class:D({"menu-button custom-indicator":!0,active:t.indicators.getIndicators.hma233}),onClick:i[5]||(i[5]=u=>t.indicators.chart.indicators.hma233=!t.indicators.chart.indicators.hma233)},It,2)])])]),a("li",Wt,[zt,a("ul",Rt,[a("li",Tt,[a("button",{class:D({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.ema10}),onClick:i[6]||(i[6]=u=>t.indicators.chart.indicators.ema10=!t.indicators.chart.indicators.ema10)},Ot,2)]),a("li",jt,[a("button",{class:D({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.ema20}),onClick:i[7]||(i[7]=u=>t.indicators.chart.indicators.ema20=!t.indicators.chart.indicators.ema20)},qt,2)]),a("li",Yt,[a("button",{class:D({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.ema55}),onClick:i[8]||(i[8]=u=>t.indicators.chart.indicators.ema55=!t.indicators.chart.indicators.ema55)},Kt,2)]),a("li",Gt,[a("button",{class:D({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.ema89}),onClick:i[9]||(i[9]=u=>t.indicators.chart.indicators.ema89=!t.indicators.chart.indicators.ema89)},Jt,2)]),a("li",ei,[a("button",{class:D({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.ema100}),onClick:i[10]||(i[10]=u=>t.indicators.chart.indicators.ema100=!t.indicators.chart.indicators.ema100)},ii,2)]),a("li",li,[a("button",{class:D({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.ema200}),onClick:i[11]||(i[11]=u=>t.indicators.chart.indicators.ema200=!t.indicators.chart.indicators.ema200)},oi,2)]),a("li",ri,[a("button",{class:D({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.ema233}),onClick:i[12]||(i[12]=u=>t.indicators.chart.indicators.ema233=!t.indicators.chart.indicators.ema233)},hi,2)])])]),a("li",ui,[mi,a("ul",fi,[a("li",pi,[a("button",{class:D({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.sma10}),onClick:i[13]||(i[13]=u=>t.indicators.chart.indicators.sma10=!t.indicators.chart.indicators.sma10)},bi,2)]),a("li",_i,[a("button",{class:D({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.sma20}),onClick:i[14]||(i[14]=u=>t.indicators.chart.indicators.sma20=!t.indicators.chart.indicators.sma20)},yi,2)]),a("li",Vi,[a("button",{class:D({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.sma55}),onClick:i[15]||(i[15]=u=>t.indicators.chart.indicators.sma55=!t.indicators.chart.indicators.sma55)},Si,2)]),a("li",Ci,[a("button",{class:D({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.sma89}),onClick:i[16]||(i[16]=u=>t.indicators.chart.indicators.sma89=!t.indicators.chart.indicators.sma89)},Ai,2)]),a("li",Bi,[a("button",{class:D({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.sma100}),onClick:i[17]||(i[17]=u=>t.indicators.chart.indicators.sma100=!t.indicators.chart.indicators.sma100)},Ii,2)]),a("li",Wi,[a("button",{class:D({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.sma200}),onClick:i[18]||(i[18]=u=>t.indicators.chart.indicators.sma200=!t.indicators.chart.indicators.sma200)},Ti,2)]),a("li",Pi,[a("button",{class:D({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.sma233}),onClick:i[19]||(i[19]=u=>t.indicators.chart.indicators.sma233=!t.indicators.chart.indicators.sma233)},ji,2)])])])]),a("ul",Ni,[a("li",Ui,[a("button",{class:D({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.divergences}),onClick:i[20]||(i[20]=u=>t.indicators.chart.indicators.divergences=!t.indicators.chart.indicators.divergences)},$i,2)])]),a("ul",Ki,[a("li",Gi,[a("button",{class:D({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.heikinAshi}),onClick:i[21]||(i[21]=u=>t.indicators.chart.indicators.heikinAshi=!t.indicators.chart.indicators.heikinAshi)},el,2)]),a("li",al,[a("button",{class:D({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.psar}),onClick:i[22]||(i[22]=u=>t.indicators.chart.indicators.psar=!t.indicators.chart.indicators.psar)},ll,2)]),a("li",sl,[a("button",{class:D({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.macd}),onClick:i[23]||(i[23]=u=>t.indicators.chart.indicators.macd=!t.indicators.chart.indicators.macd)},rl,2)]),a("li",cl,[a("button",{class:D({"menu-button custom-indicator":!0,active:t.indicators.chart.indicators.kernelChannel}),onClick:i[24]||(i[24]=u=>t.indicators.chart.indicators.kernelChannel=!t.indicators.chart.indicators.kernelChannel)},ul,2)])])],2)}const fl=Ie(nt,[["render",ml]]);const pl=a("svg",{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"css-i6dzq1"},[a("circle",{cx:"12",cy:"12",r:"3"}),a("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})],-1),vl=[pl],gl={__name:"ActivadorIndicator",setup(F,{expose:i}){const y=fe();return i({indicators:y}),(t,p)=>(T(),N(sa,null,[a("div",{class:D({"activador-indicadores":!0}),onClick:p[0]||(p[0]=x=>$(y).chart.menuOpen=!$(y).chart.menuOpen)},vl),Ee(fl)],64))}};const bl={class:"container-volumen"},_l=a("canvas",{id:"order-book-chart",width:"300",height:"300"},null,-1),wl=[_l],Ll={__name:"FloatingVolume",setup(F){const i=fe(),y=new WebSocket(`wss://stream.binance.com:9443/ws/${String(i.chart.symbols).toLowerCase()}@depth`);let t={type:"bar",data:{labels:[],datasets:[{label:"Bids",data:[],backgroundColor:"rgba(75, 192, 75, 0.7)"},{label:"Asks",data:[],backgroundColor:"rgba(192, 75, 75, 0.7)"}]},options:{indexAxis:"y",scales:{x:{grid:{color:()=>"transparent",drawOnChartArea:!1},border:{display:!1},ticks:{display:!1}},y:{grid:{color:()=>"transparent",drawOnChartArea:!1},border:{display:!1},ticks:{color:"white"}}},elements:{bar:{borderWidth:0}},responsive:!0,plugins:{legend:{position:"right",color:"white",display:!1},title:{display:!0,text:"Flujo de Volume (Real-Time)",color:"white"}}}};return ye(async()=>{const p=new Chart(document.getElementById("order-book-chart").getContext("2d"),t);let x=await i.searchDataOrderBook(i.chart.symbols);const u=x.bids.map(L=>parseFloat(L[0]).toFixed(4)),b=x.asks.map(L=>parseFloat(L[0]).toFixed(4)),e=x.bids.map(L=>L[1]),l=x.asks.map(L=>L[1]);p.data.datasets[0].data=e,p.data.datasets[1].data=l,p.data.labels=[].concat(u,b).slice(0,10),p.update(),y.onerror=L=>{console.error("WebSocket Error:",L)},y.onclose=()=>{console.log("WebSocket Connection Closed")},y.onmessage=L=>{const _=JSON.parse(L.data),v=_.b.map(w=>w[1]),s=_.b.map(w=>parseFloat(w[0]).toFixed(4)),m=_.a.map(w=>w[1]),h=_.a.map(w=>parseFloat(w[0]).toFixed(4));p.data.labels=[].concat(s,h),p.data.datasets[0].data=v,p.data.datasets[1].data=m,p.update()}}),(p,x)=>(T(),N("div",bl,wl))}};const se=F=>(Ga("data-v-f7baa370"),F=F(),Xa(),F),yl={class:"target-selector"},Vl={class:"panelTarget"},kl={class:"selectors-areas"},xl={class:"target-symbols"},Sl={class:"target-temporality"},Cl=se(()=>a("div",{class:"legend"},[a("span",{class:"l-hma10"},"HMA10"),a("span",{class:"l-hma20"},"HMA20"),a("span",{class:"l-ema200"},"EMA200 --- ")],-1)),Ml={class:"details"},Dl={key:0,class:"d-price"},Al=se(()=>a("p",null,"Price:",-1)),Bl={key:1,class:"d-high"},El=se(()=>a("p",null,"High:",-1)),Fl={key:2,class:"d-low"},Il=se(()=>a("p",null,"Low:",-1)),Wl={key:3,class:"d-close"},zl=se(()=>a("p",null,"Close:",-1)),Rl={key:4,class:"d-rsi"},Tl=se(()=>a("p",null,"RSI",-1)),Pl={key:5,class:"d-move"},Hl=se(()=>a("p",null,"move",-1)),Ol={key:6,class:"d-ps"},jl=se(()=>a("b",null,"PS ",-1)),Nl={class:"timer-counter"},Ul=se(()=>a("span",null,"Left time",-1)),ia="#chart-main",ql={__name:"ChartMobile",emits:["refresh"],setup(F,{expose:i,emit:y}){var wa,La;const t=qa(),p=Ya(),x=t.params&&t.params&&t.params.symbol?t.params.symbol.toString().toUpperCase():"BTCUSDT",u=t.params&&t.params&&t.params.temporality?t.params.temporality.toString().toLocaleLowerCase():"4h",b=oa(),e=fe(),l=new na,L=O(null),_=O(null),v=O(null),s=O(null),m=O(!1),h=O(!1),w=O(null);let n,E;const g=O(0),B=O(0),P=O("15m");let f,W,S,H,J,K,ne,ae,te,re,ce,Y,ie,Z,le,C,X,Ve,de,pe,ve,ge,be,_e,ke,he,We="#e0ffcd",ze="#f96d00",Re="#ff347f",Te="#a393eb",Pe="#35bcbf",He="#8ed6ff",Oe="#b6cdbd",je="#cbf078",Ne="#0092ca",Ue="#e84a5f",qe="#a393eb",Ye="#defcf9",Ze="#35bcbf",$e="#93deff",ca,Ke;const Ge=O(null),oe=Le({bajista:[],alcista:[]});let xe=[],Xe=[],da=0,Qe=null;const ue=Le({alcistas:[],bajistas:[]}),V=Le({price:null,close:null,high:null,low:null,rsi:null,rsih:null,higl:null,ps:null}),xa=O([{value:"1m",label:"1m"},{value:"5m",label:"5m"},{value:"15m",label:"15m"},{value:"30m",label:"30m"},{value:"1h",label:"1h"},{value:"4h",label:"4h"},{value:"1d",label:"1d"},{value:"3d",label:"3d"},{value:"1w",label:"1w"}].flatMap(r=>u==r.label?{value:r.value,label:r.label,selected:!0}:{value:r.value,label:r.label}));(wa=t==null?void 0:t.params)!=null&&wa.symbol?e.chart.symbols=String(t.params.symbol).toUpperCase():e.chart.symbols=x,(La=t==null?void 0:t.params)!=null&&La.temporality?e.chart.temporality=t.params.temporality:e.chart.temporality=u;const Je=O([]),ea=O(!1);function Se(){const r=new Date().getTime()+Ge.value*1e3-Date.parse(new Date),c=Math.floor(r/1e3%60),d=Math.floor(r/1e3/60%60),k=Math.floor(r/(1e3*60*60)%24),z=Math.floor(r/(1e3*60*60*24));return{total:r,days:z<10?"0"+z:z,hours:k<10?"0"+k:k,minutes:d<10?"0"+d:d,seconds:c<10?"0"+c:c}}const ha=Be(()=>Se().seconds),ua=Be(()=>Se().minutes),Sa=Be(()=>Se().hours),Ca=Be(()=>Se().days),Ce=()=>{var d;const r=document.querySelector(ia);r!=null&&r.offsetHeight&&(n!=null&&n.resize)&&n.resize(parseInt(b.w/1.008),parseInt(r.offsetHeight));const c=document.querySelector("div#chart-rsi>div.vertical-cursor");(d=_==null?void 0:_.value)!=null&&d.chart&&c&&_.value.chart.resize(parseInt(document.querySelector("div.tv-lightweight-charts").offsetWidth),parseInt(document.querySelector("div#chart-rsi>div.vertical-cursor").offsetHeight))},ma=()=>{const c=l.kernelChannel(e.chart.data,89,3.5),d=c.flatMap(R=>({time:R.time,value:parseFloat(parseFloat(R.upperChannel).toFixed(4))})),k=c.flatMap(R=>({time:R.time,value:parseFloat(parseFloat(R.lowerChannel).toFixed(4))})),z=c.flatMap((R,ee)=>{const M=parseFloat(R.smoothedData)<e.chart.data[ee].close?"#A6FF96":"#DA0C81";return{time:R.time,value:parseFloat(parseFloat(R.smoothedData).toFixed(4)),color:M}});f.setData(z),W.setData(d),S.setData(k)};A(()=>b.w,function(r){Ce()}),A(()=>b.h,function(r){Ce()});const Ma=ya.debounce(function(r){h.value=!0;let c=e.chart.data[0].time;l.searchData({exchange:e.getExchange,interval:e.getTemporality,symbolsPairs:e.getSymbol,limit:500,endTime:c}).then(d=>{d.pop();const k=[...d,...e.chart.data];e.chart.data=k,E.setData(k),r(),e.chart.indicators.macd&&v.value.processData(),_.value&&_.value.updateAndRecalculate()}).finally(function(){h.value=!1})},1e3),Da=()=>{var r;if((r=e==null?void 0:e.chart)!=null&&r.data&&e.chart.data.length>100){const c=e.chart.data.flatMap(d=>d.close);l.calculoRSI(c.slice(-100)).then(d=>{var k;B.value=d.pop(),_.value&&((k=e==null?void 0:e.chart)!=null&&k.data)&&e.chart.data.length>0&&e.chart.data[e.chart.data.length-1]&&(e.chart.data[e.chart.data.length-1].rsi=B,e.chart.indicators.rsi&&e.chart.data&&e.chart.data.length>0&&_.value.update({value:B,time:e.chart.data[e.chart.data.length-1].time}))})}},Aa=ya.debounce(async()=>{const r=String(e.getSymbol).toLowerCase();s.value=await new WebSocket(`wss://fstream.binance.com/ws/${r}@kline_${e.getTemporality}`),s.value.addEventListener("message",async function(c){var k,z,R,ee;if(ea.value&&ea.value==!0||b.loading)return;const d=JSON.parse(c.data);if(c&&(d!=null&&d.s)&&d.result==null&&(d!=null&&d.k)&&(d==null?void 0:d.k)!=null&&((k=d==null?void 0:d.k)==null?void 0:k.i)==e.getTemporality&&e.chart.data.length&&String(d.s).toUpperCase()==String(e.getSymbol).toUpperCase()){const M=parseFloat(d.k.c);d.k.T&&parseInt(d.k.T);const I=d.k.x?d.k.x:!1,we=d.k.V?parseFloat(d.k.V):null;g.value=M,V.price=M>100?parseFloat(M).toFixed(2):M;const j={time:parseInt(d.k.T),open:parseFloat(d.k.o),high:parseFloat(d.k.h),low:parseFloat(d.k.l),close:M,value:M,volume:we};if(e.chart.data[e.chart.data.length-1].time=j.time,e.chart.data[e.chart.data.length-1].open=j.open,e.chart.data[e.chart.data.length-1].high=j.high,e.chart.data[e.chart.data.length-1].low=j.low,e.chart.data[e.chart.data.length-1].close=j.close,e.chart.data[e.chart.data.length-1].value=j.value,e.chart.data[e.chart.data.length-1].volume=j.volume,Da(),I&&((z=e==null?void 0:e.chart)!=null&&z.data)&&(Ea(),console.log("xClosed")),!m.value&&((R=e==null?void 0:e.chart)!=null&&R.data)&&e.chart.data.length>2&&e.chart.data[e.chart.data.length-1].high)if(e.chart.data[e.chart.data.length-1].high=j.high,e.chart.data[e.chart.data.length-1].low=j.low,e.chart.data[e.chart.data.length-1].close=j.close,e.chart.data[e.chart.data.length-1].volume=j.volume,e.chart.data[e.chart.data.length-1].value=j.value,(ee=e==null?void 0:e.getIndicators)!=null&&ee.heikinAshi){let Me=l.calculoNextHeikinAskiCandle(e.chart.data,e.chart.data[e.chart.data.length-1]);Me.time=j.time,E.update(Me)}else E.update(j);Ge.value=parseInt((j.time-new Date().getTime())/1e3)}else if(d.s&&String(d.s).toUpperCase()!=String(e.getSymbol).toUpperCase()){const I=`${String(d.s).toLowerCase()}@kline_${e.getTemporality}`;s.value.send(JSON.stringify({method:"UNSUBSCRIBE",params:[I],id:new Date().getTime()})),console.log("* UNSUBSCRIBE",{dtJson:d,evt:c},e.getSymbol),s.value.send(JSON.stringify({method:"LIST_SUBSCRIPTIONS",id:new Date().getTime()}))}}),console.log("openSocket")}),Ba=async r=>{e.chart.temporality=r.value,fa({value:String(e.getSymbol)})},fa=r=>{b.loading=!0,ea.value=!0,Qe=r.value;const d=`${String(e.getSymbol).toLowerCase()}@kline_${e.getTemporality}`;if(e.chart.symbols=String(Qe).toUpperCase(),p.push({name:"alpha:data",params:{symbol:String(Qe).toLowerCase(),temporality:e.chart.temporality}}),s.value)return s.value.send(JSON.stringify({method:"UNSUBSCRIBE",params:[d],id:1})),s.value.send(JSON.stringify({method:"SUBSCRIBE",params:[`${String(e.getSymbol).toLowerCase()}@kline_${e.getTemporality}`],id:1})),y("refresh")},Ea=async(r=!0)=>{m.value=r,l.recalculeIndicators(e.chart.data).then(c=>{e.chart.data[e.chart.data.length-1]=c.last;const d=e.chart.data[e.chart.data.length-1].time-e.chart.data[e.chart.data.length-2].time,k={open:c.last.close,close:c.last.close,high:c.last.close,low:c.last.close,time:c.last.time+d,macd:c.last.macd,volume:0,bb:{middle:c.last.bb.middle,upper:c.last.bb.upper,lower:c.last.bb.lower,pb:c.last.bb.pb},rsi:c.last.bb.rsi,hma10:c.last.hma10,hma20:c.last.hma20,value:c.last.value};e.chart.data.push(k);function z(ee,M){return ee.time<M.time?-1:ee.time>M.time?1:0}const R=e.chart.data.sort(z);e.chart.data=R,aa(),m.value=!1}),e.chart.indicators.macd&&v.value&&v.value.processData()},Fa=()=>{n&&(H=n.addLineSeries({color:"#f6483e33",lineWidth:2,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:2}),J=n.addLineSeries({color:"#f6483e33",lineWidth:7,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),K=n.addLineSeries({color:"#f0f8ff8f",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:2}),ne=n.addLineSeries({color:"#00ffa521",lineWidth:7,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),ca=n.addLineSeries({color:"yellow",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:3}),n.addLineSeries({color:"yellow",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:2}),ae=n.addLineSeries({color:"#84ff3d8a",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),te=n.addLineSeries({color:"orange",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),re=n.addLineSeries({color:"#f70776",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),ce=n.addLineSeries({color:"#00bbf0",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),Y=n.addLineSeries({color:"#bae8e8",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),ie=n.addLineSeries({color:je,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),Z=n.addLineSeries({color:Ne,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),le=n.addLineSeries({color:Ue,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),C=n.addLineSeries({color:qe,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),X=n.addLineSeries({color:Ye,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),Ve=n.addLineSeries({color:Ze,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),de=n.addLineSeries({color:$e,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),pe=n.addLineSeries({color:We,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),ve=n.addLineSeries({color:ze,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),ge=n.addLineSeries({color:Re,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),be=n.addLineSeries({color:Te,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),_e=n.addLineSeries({color:Pe,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),ke=n.addLineSeries({color:He,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),he=n.addLineSeries({color:Oe,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),f=n.addLineSeries({color:"yellow",lineWidth:4,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:1}),W=n.addLineSeries({color:"#c1c1c1",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:1}),S=n.addLineSeries({color:"#c1c1c1",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:1}))},pa=()=>{if(J.setData([]),ne.setData([]),K.setData([]),!e.chart.indicators.bb)return;const r=e.chart.data.flatMap(M=>{let I={value:M.bb.upper,time:M.time};return M.high>M.bb.upper&&(I.color="#f443369e"),I}),c=e.chart.data.flatMap(M=>{let I={value:M.bb.lower,time:M.time};return M.low<M.bb.lower&&(I.color="#00ffa58a"),I}),d=e.chart.data.flatMap(M=>({value:M.bb.middle,time:M.time}));function k(M,I){return M.time<I.time?-1:M.time>I.time?1:0}const z=r.sort(k),R=c.sort(k),ee=d.sort(k);J.setData(z),ne.setData(R),K.setData(ee)},me=()=>{if(e.chart.data=e.chart.data.sort((r,c)=>r.time<c.time?-1:r.time>c.time?1:0),e.chart.indicators.hma10){const r=e.chart.data.flatMap(c=>({value:c.hma10,time:c.time}));ae.setData(r)}if(e.chart.indicators.hma20){const r=e.chart.data.flatMap(c=>({value:c.hma20,time:c.time}));te.setData(r)}if(e.chart.indicators.hma55){const r=l.calculateHMA(e.chart.data,55,"#f70776");re.setData(r)}if(e.chart.indicators.hma89){const r=l.calculateHMA(e.chart.data,89,"#9896f1");ce.setData(r)}if(e.chart.indicators.hma233){const r=l.calculateHMA(e.chart.data,233,"#00bbf0");Y.setData(r)}},va=()=>{if(!e.chart.indicators.psar){H.setData([]);return}const r=e.chart.data.flatMap(z=>z.high),c=e.chart.data.flatMap(z=>z.low),k=l.calculoPSAR(c,r).flatMap((z,R)=>({value:z,time:e.chart.data[R].time,color:e.chart.data[R].close>z?"aqua":"red"}));H.setData(k)},Ia=()=>{pe.setData([]),ve.setData([]),ge.setData([]),be.setData([]),_e.setData([]),ke.setData([]),he.setData([]),e.chart.indicators.sma10&&pe.setData(l.calculateEMA(e.chart.data,10,We)),e.chart.indicators.sma20&&ve.setData(l.calculateEMA(e.chart.data,20,ze)),e.chart.indicators.sma55&&ge.setData(l.calculateEMA(e.chart.data,55,Re)),e.chart.indicators.sma89&&be.setData(l.calculateEMA(e.chart.data,89,Te)),e.chart.indicators.sma100&&_e.setData(l.calculateEMA(e.chart.data,100,Pe)),e.chart.indicators.sma200&&he.setData(l.calculateEMA(e.chart.data,200,He)),e.chart.indicators.sma233&&he.setData(l.calculateEMA(e.chart.data,233,Oe))},Wa=()=>{ie.setData([]),Z.setData([]),le.setData([]),C.setData([]),X.setData([]),Ve.setData([]),de.setData([]),e.chart.indicators.ema10&&ie.setData(l.calculateEMA(e.chart.data,10,je)),e.chart.indicators.ema20&&Z.setData(l.calculateEMA(e.chart.data,20,Ne)),e.chart.indicators.ema55&&le.setData(l.calculateEMA(e.chart.data,55,Ue)),e.chart.indicators.ema89&&C.setData(l.calculateEMA(e.chart.data,89,qe)),e.chart.indicators.ema100&&X.setData(l.calculateEMA(e.chart.data,100,Ye)),e.chart.indicators.ema200&&de.setData(l.calculateEMA(e.chart.data,200,Ze)),e.chart.indicators.ema233&&de.setData(l.calculateEMA(e.chart.data,233,$e))},ga=()=>{const r=new Qa(e.chart.data);return new Promise((c,d)=>{r.agregarCallback(k=>{oe.alcista=k.alcista,oe.bajista=k.bajista}),c(r.iniciarProceso())})},ba=()=>{setTimeout(function(){new Promise((r,c)=>{oe.bajista.length>0&&oe.bajista.forEach(d=>{let k=n.addLineSeries({color:"#fff",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,crosshairMarkerVisible:!1,lineStyle:0});k.setData(d),ue.bajistas.push(k)}),oe.alcista.length>0&&oe.alcista.forEach(d=>{let k=n.addLineSeries({color:"#fff",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,crosshairMarkerVisible:!1,lineStyle:0});k.setData(d),ue.alcistas.push(k)}),r(!0)})},0)},za=()=>{let r=l.calculateEMA(e.chart.data,200,"#a8dadc");ca.setData(r)},_a=async()=>{const r=await l.calculoVelasHeikinAshi(e.chart.data);E.setData(r)},aa=()=>{var r,c;pa(),me(),za(),Wa(),Ia(),va(),(r=e==null?void 0:e.getIndicators)!=null&&r.heikinAshi&&e.getIndicators.heikinAshi==!0&&_a(),(c=e==null?void 0:e.getIndicators)!=null&&c.divergences&&setTimeout(function(){Promise.resolve(ga()).then(ba())},0),e.chart.indicators.kernelChannel&&ma(),Ta()},Ra=()=>{const r=new Date().toLocaleString();g&&g.value&&g.value!=null&&g.value>0&&!isNaN(g.value)&&""+parseFloat(g.value).toFixed(4),n.applyOptions({watermark:{color:"#00ff11",visible:!0,text:`Topacio ${String(e.getSymbol).toUpperCase()}  ${e.getTemporality}  ${r}`,fontSize:14,horzAlign:"left",vertAlign:"top"}})},Ta=()=>{const r=e.chart.data.flatMap(c=>({time:c.time,value:c.volume,color:"#d1e1e159"}));Ke.setData(r)};return ye(async()=>{b.loading=!0,b.openMenuMobile=!1;const r=document.querySelector(ia),c=parseInt(b.w/1.005),d=parseInt(r.offsetHeight),k=l.getConfigChart(c,d),z=l.getConfigVelasTransparentes();e.chart.data=await l.searchData({exchange:e.getExchange,interval:e.getTemporality,symbolsPairs:e.getSymbol,limit:500});const R=document.querySelector(ia);n=ra(R,k),E=n.addCandlestickSeries(z),E.setData(e.chart.data),Ke=n.addHistogramSeries({lastValueVisible:!1,priceLineVisible:!1,priceFormat:{type:"volume"},priceScaleId:"volumen"}),Ke.priceScale().applyOptions({priceFormat:{type:"volume"},scaleMargins:{top:.85,bottom:0}});const M=(await e.searchSymbolsFutures()).flatMap(o=>e.chart.symbols!=o.symbol?{label:o.symbol,value:o.symbol}:{label:o.symbol,value:o.symbol,selected:!0});Je.value=M.filter(o=>o.value.includes("USDT")),Fa(),aa(),Ra();let I=n.timeScale().getVisibleLogicalRange(),we=I&&(I!=null&&I.from)?parseInt(I.from):null;function j(o){var De,Ae;const U=document.querySelector("div#chart-rsi>div.vertical-cursor");if(o!=null&&o.time&&n){const Pa=n.timeScale().getVisibleLogicalRange(),Q=parseInt(o.logical);(De=o==null?void 0:o.point)!=null&&De.x&&U&&(_.value.chart.timeScale().setVisibleLogicalRange(Pa),U.style=`transform:translateX(${o.point.x}px)`),e.chart.data[Q]&&(V.rsi=e.chart.data[Q].rsi,V.low=e.chart.data[Q].low,V.high=e.chart.data[Q].high,V.close=e.chart.data[Q].close,V.move=l.calculatePercentageBetweenValues(V.high,V.low),V.ps=null,e.chart.data[Q].bb&&V.high>e.chart.data[Q].bb.upper&&(V.ps=l.calculatePercentageBetweenValues(V.high,e.chart.data[Q].bb.upper)),e.chart.data[Q].bb&&V.low<e.chart.data[Q].bb.lower&&(V.ps=l.calculatePercentageBetweenValues(e.chart.data[Q].bb.lower,V.low))),I=n.timeScale().getVisibleLogicalRange(),we=I!=null&&I.from?parseInt(I.from):null,we&&we<250&&!h.value&&Ma(aa)}else U&&(U.style="display:none"),V.rsi=null,V.ps=null,V.move=null,V.low=null,V.high=null,V.close=null;(Ae=o==null?void 0:o.point)!=null&&Ae.y&&(da=E.coordinateToPrice(o.point.y))}n.subscribeCrosshairMove(j),document.addEventListener("keydown",o=>{if(xe[o.key]=!0,xe.Alt&&o.key=="h"){const U=E.createPriceLine({price:da,color:"#FFF"});Xe.push(U)}(xe.Alt&&o.key=="r"||o.key=="c")&&(console.log("* Cleaning Lines"),Xe.map(U=>E.removePriceLine(U)),Xe=[])}),document.addEventListener("keyup",o=>{delete xe[o.key]}),setTimeout(function(){Ce(),console.log("resizeChart end")},1e3),Aa(),b.loading=!1,A(()=>e.chart.indicators.psar,o=>{o?va():H.setData([])}),A(()=>e.chart.indicators.kernelChannel,o=>{o?ma():(f.setData([]),W.setData([]),S.setData([]))}),A(()=>e.chart.indicators.bb,o=>{o?pa():(J.setData([]),ne.setData([]),K.setData([]))}),A(()=>e.chart.indicators.hma10,o=>{o?me():ae.setData([])}),A(()=>e.chart.indicators.hma20,o=>{o?me():te.setData([])}),A(()=>e.chart.indicators.hma55,o=>{o?me():re.setData([])}),A(()=>e.chart.indicators.hma89,o=>{o?me():ce.setData([])}),A(()=>e.chart.indicators.hma233,o=>{o?me():Y.setData([])}),A(()=>e.chart.indicators.heikinAshi,o=>{o?_a():E.setData(e.chart.data)}),A(()=>e.chart.indicators.ema10,o=>{o?ie.setData(l.calculateEMA(e.chart.data,10,je)):ie.setData([])}),A(()=>e.chart.indicators.ema20,o=>{o?Z.setData(l.calculateEMA(e.chart.data,20,Ne)):Z.setData([])}),A(()=>e.chart.indicators.ema55,o=>{o?le.setData(l.calculateEMA(e.chart.data,55,Ue)):le.setData([])}),A(()=>e.chart.indicators.ema89,o=>{o?C.setData(l.calculateEMA(e.chart.data,89,qe)):C.setData([])}),A(()=>e.chart.indicators.ema100,o=>{o?X.setData(l.calculateEMA(e.chart.data,100,Ye)):X.setData([])}),A(()=>e.chart.indicators.ema200,o=>{o?Ve.setData(l.calculateEMA(e.chart.data,200,Ze)):Ve.setData([])}),A(()=>e.chart.indicators.ema233,o=>{o?de.setData(l.calculateEMA(e.chart.data,233,$e)):de.setData([])}),A(()=>e.chart.indicators.sma10,o=>{o?pe.setData(l.calcularSMA(e.chart.data,10,We)):pe.setData([])}),A(()=>e.chart.indicators.sma20,o=>{o?ve.setData(l.calcularSMA(e.chart.data,20,ze)):ve.setData([])}),A(()=>e.chart.indicators.sma55,o=>{o?ge.setData(l.calcularSMA(e.chart.data,55,Re)):ge.setData([])}),A(()=>e.chart.indicators.sma89,o=>{o?be.setData(l.calcularSMA(e.chart.data,89,Te)):be.setData([])}),A(()=>e.chart.indicators.sma100,o=>{o?_e.setData(l.calcularSMA(e.chart.data,100,Pe)):_e.setData([])}),A(()=>e.chart.indicators.sma200,o=>{o?ke.setData(l.calcularSMA(e.chart.data,200,He)):ke.setData([])}),A(()=>e.chart.indicators.sma233,o=>{o?he.setData(l.calcularSMA(e.chart.data,233,Oe)):he.setData([])}),A(()=>e.chart.indicators.divergences,o=>{o?Promise.resolve(ga()).then(ba()):(ue.alcistas.forEach(function(U){U.setData([])}),ue.bajistas.forEach(function(U){U.setData([])}),ue.alcistas=[],ue.bajistas=[],oe.alcista=[],oe.bajista=[])});function Me(o){const U=n.timeScale().getVisibleLogicalRange(),De=n.timeScale().getVisibleRange(),Ae=parseInt(n.timeScale().scrollPosition());w.value={visibleLogicalRange:U,visibleRange:De,scrollPosition:Ae,t:Date.now()}}n.timeScale().subscribeVisibleLogicalRangeChange(Me)}),i({mainStore:b,chartStore:e,lastPrice:g,details:V,leftTime:Ge,getSegundsLeft:ha,getMinLeft:ua,getDaysLeft:Ca,Selector:ta,ChartRsi:Va,ChartMacd:ka,chartMacd:v,lastRSI:B}),(r,c)=>(T(),N("div",{class:D({"container-chart":!0,"graphic-macd":$(e).chart.indicators.macd})},[a("div",yl,[a("div",Vl,[a("p",null,"[ FUTURES: "+q($(e).getExchange)+" "+q(Je.value.length)+"]",1),a("div",kl,[a("div",xl,[Ee(ta,{opciones:Je.value,onlyLabel:!1,lblPorDefecto:$(e).chart.symbols,onActionChange:fa},null,8,["opciones","lblPorDefecto"])]),a("div",Sl,[Ee(ta,{opciones:xa.value,onlyLabel:!1,lblPorDefecto:"",modelValue:P.value,"onUpdate:modelValue":c[0]||(c[0]=d=>P.value=d),onActionChange:Ba},null,8,["opciones","modelValue"])])])])]),Za(a("div",{id:"chart-main",ref_key:"chartElement",ref:L},[Cl,a("div",Ml,[V.price?(T(),N("span",Dl,[Al,a("b",null,q(V.price),1),a("b",null,"RSI "+q(B.value),1)])):G("",!0),V.high?(T(),N("span",Bl,[El,a("p",null,q(V.high),1)])):G("",!0),V.low?(T(),N("span",Fl,[Il,a("p",null,q(V.low),1)])):G("",!0),V.close?(T(),N("span",Wl,[zl,a("p",null,q(V.close),1)])):G("",!0),V.rsi?(T(),N("span",Rl,[Tl,a("p",null,q(V.rsi),1)])):G("",!0),V.move?(T(),N("span",Pl,[Hl,a("p",null,q(V.move)+"%",1)])):G("",!0),V.ps?(T(),N("span",Ol,[jl,a("p",null,q(V.ps)+"%",1)])):G("",!0)]),a("div",Nl,[Ul,Ka(" "+q(Sa.value)+":"+q(ua.value)+":"+q(ha.value),1)]),$(e).chart.symbols=="BTCUSDT"?(T(),Fe(Ll,{key:0})):G("",!0)],512),[[$a,!$(b).loading]]),$(e).chart.data.length>0&&!$(b).loading&&$(e).chart.indicators.rsi?(T(),Fe(Va,{key:0,ref_key:"chartRsi",ref:_},null,512)):G("",!0),!$(b).loading&&$(e).chart.data.length>0&&$(e).chart.indicators.macd?(T(),Fe(ka,{key:1,chartInfoVisible:w.value,onResizeChart:Ce,ref_key:"chartMacd",ref:v},null,8,["chartInfoVisible"])):G("",!0),Ee(gl)],2))}},Yl=Ie(ql,[["__scopeId","data-v-f7baa370"]]);const Zl={class:"charts"},$l={__name:"ChartView",setup(F,{expose:i}){oa();const y=O(!1),t=()=>{y.value=!0,console.log("reloadChart"),setTimeout(function(){y.value=!1},100)};return i({isRefresh:y}),(p,x)=>(T(),N("main",Zl,[y.value?G("",!0):(T(),Fe(Yl,{key:0,onRefresh:t}))]))}},Ql=Ie($l,[["__scopeId","data-v-6123f56f"]]);export{Ql as default};
