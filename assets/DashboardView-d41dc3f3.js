import{_ as O,i as U,j as c,u as q,r as h,f as K,o as L,k as z,a as r,g as m,l as t,d as a,e as i,t as l,m as p,c as V,n as f,w as D,p as Q,b as X,q as Y,h as Z}from"./index-80e1e04d.js";import{_ as ee}from"./Tmine2-25d51798.js";import{C as E}from"./ContainerGallery-a73d6252.js";import{_ as k,a as x,b as $}from"./ScrollAreaComponent.vue_vue_type_style_index_0_lang-2c57ea89.js";import"./Paginator.vue_vue_type_style_index_0_lang-e16a8273.js";import"./Paginator.vue_vue_type_script_setup_true_lang-5797c2d4.js";import"./iconify-16be829f.js";import"./index-69961880.js";const A="/img/Tmine2-w.svg";const _=u=>(Q("data-v-e6493419"),u=u(),X(),u),te={class:"subscription"},ae={key:0,class:"title"},se={class:"title-left-section"},oe=_(()=>a("img",{src:A,alt:"tmine logo",class:"img-logo-tmine"},null,-1)),ne={key:0,class:"text-rate"},ie={class:"halving-container"},ce={class:"sidebar"},re={key:0,id:"list-options"},le={class:"lbl-left"},pe=_(()=>a("span",null,[a("img",{src:Y,alt:"matic-logo-banance",class:"matic-logo-banance"}),i(" MATIC ")],-1)),de={class:"lbl-left"},me=_(()=>a("span",null,[a("img",{src:A,alt:"tmine-logo-banance",class:"tmine-logo-banance"}),i(" TMINE ")],-1)),_e=_(()=>a("label",{class:"lbl-left"},[a("span",{class:"add-to-metamask"},[a("img",{src:ee,class:"tmine-logo-banance"}),i(" Add TMine ")])],-1)),ue=[_e],ge={key:0,class:"in-col p-1 li-sort"},be=_(()=>a("span",null,"Proximo Sorteo",-1)),he={class:"p-1-lr"},fe={__name:"DashboardView",setup(u,{expose:H}){const w=U.useToast(),T=c("syncTmineTotalSupply"),y=c("addTmineToMetamask");c("executeSelectWinner"),c("resetTimeEventDaily"),c("selectWinnerSorteo");const R=c("addMeToSorteo"),v=c("searchTmineRewardPerBlock"),S=c("searchHalving"),F=new Z,e=q(),g=h(1),I=h(null),W=h(10),j=()=>{var o=1,s=confetti.shapeFromText({text:"ðŸ’Ž",scalar:o});confetti({particleCount:100,spread:180,shapes:[s]})},P=async()=>{var o,s,b,B,N;try{const n=await R();w.open({message:"Registro procesado satisfactoriamente.",type:"success",position:"top-right"})}catch(n){console.log({e:n}),n!=null&&n.reason?w.open({message:n.reason,type:"error",position:"top-right"}):(b=(s=(o=n==null?void 0:n.info)==null?void 0:o.error)==null?void 0:s.data)!=null&&b.message&&((N=(B=n==null?void 0:n.info)==null?void 0:B.error)==null?void 0:N.code)==-32603&&w.open({message:"Gas insuficiente",type:"error",position:"top-right"})}},d=()=>{if(e.web3.nftTokensIds.length==0)return{elementosPagina:[],totalPaginas:1,paginaActual:1};const o=JSON.parse(JSON.stringify(e.web3.nftTokensIds)),s=F.arrayPaginator(o,W.value,g.value);return I.value=s.totalPaginas,console.log({dataFormat:s}),s},G=()=>{g.value<I.value&&(g.value++,C.value=d()),console.log("nextPage",g.value)},C=h(d()),M=()=>{var o;return(o=e==null?void 0:e.web3)!=null&&o.participantsInSorteo&&e.web3.participantsInSorteo.length==0?[]:e.web3.participantsInSorteo?e.web3.participantsInSorteo.flatMap(s=>s.substring(0,7)+"    ......    "+s.slice(-7)):[]};K(()=>e.web3.nftTokensIds,o=>{o&&(d(),T(),v(),S())});const J=[];return L(async()=>{await v(),await S(),T(),d(),console.log("onMounted",e.connected&&e.web3,e.connected,e.web3)}),z(()=>{v(),S(),T(),d()}),H({data:J,mainStore:e,currentPage:C,nextPage:G,ContainerGallery:E,addTmineToMetamask:y,shooterConfetti:j,CountdownComponent:k,ButtomComponent:x,registerInSorteo:P,ScrollAreaComponent:$,formatWallets:M}),(o,s)=>(r(),m("main",te,[t(e).connected&&t(e).web3?(r(),m("h1",ae,[a("span",se,[i(" Tmine "),oe,i(" Existencia Total: "+l(t(e).web3.tmineTotalSupply),1)]),t(e).web3.rewardTmineBase?(r(),m("span",ne,"Rate: "+l(t(e).web3.rewardTmineBase),1)):p("",!0),a("div",ie,[i(" Halving: "),t(e).web3.halving?(r(),V(k,{key:0,dateTarget:parseInt(t(e).web3.halving)},null,8,["dateTarget"])):p("",!0)]),i(" Topacio Nft's assets "+l(t(e).web3.nftBalance)+" ðŸ’Ž / Holders: "+l(t(e).web3.holdersCount),1)])):p("",!0),a("section",ce,[t(e).connected?(r(),m("ul",re,[a("li",null,[a("label",le,[i(l(t(e).web3.balanceFormat)+" ",1),pe])]),a("li",null,[a("label",de,[i(l(t(e).web3.tmineBalance)+" ",1),me])]),a("li",{onClick:s[0]||(s[0]=(...b)=>t(y)&&t(y)(...b))},ue),t(e).web3.dateNextSorteo>999?(r(),m("li",ge,[be,f(k,{dateTarget:t(e).web3.dateNextSorteo},null,8,["dateTarget"]),f(x,{class:"bnt1",onClick:P},{default:D(()=>[i("Participar")]),_:1}),f(x,{class:"btn3 p-1 no-cursor"},{default:D(()=>[i("Participantes en dia: "+l(t(e).web3.participantsInSorteo.length),1)]),_:1})])):p("",!0),a("li",he,[f($,{title:"Participando para sorteo",items:M(),showKey:!0},null,8,["items"])])])):p("",!0)]),t(e).connected?(r(),V(E,{key:1})):p("",!0)]))}},Pe=O(fe,[["__scopeId","data-v-e6493419"]]);export{Pe as default};
