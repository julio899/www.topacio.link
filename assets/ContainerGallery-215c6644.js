import{l as x,r as _,u as G,m as T,f as N,o as F,a as o,g as c,d as i,i as z,e as S,t as b,n as m,j as y,q as R,_ as V,s as j,F as I,v as $,c as E,x as J,h as O}from"./index-8317f7f8.js";const q="/img/polygon-matic-logo.svg",U="/img/update-meta.svg",X="/img/Tmine2.svg",Y="/img/claim_.svg";const H={class:"header-card"},K={class:"nft-number"},Q=["href"],W=i("img",{src:q,alt:"logo matic"},null,-1),Z={key:0,class:"footer-card"},ee={class:"nft-number nft-reward-tmine"},ae=i("img",{src:X,alt:"tmine logo",class:"img-logo-tmine"},null,-1),te={key:1,class:"snippet","data-title":"dot-flashing"},ne=i("div",{class:"stage"},[i("div",{class:"dot-flashing"})],-1),se=[ne],M={__name:"nftItemGallery",props:["nftId"],setup(B,{expose:L}){const P=B,f=x("getDataNFT"),r=x("getLinkNftScan"),d=x("syncBalance"),h=x("syncTmineBalance"),k=x("claimReward"),l=_(P.nftId),u=_(!1),s=_(null),e=G(),w=async()=>{u.value=!0;const a=parseInt(l.value),n=await f(a);n.id&&n.id===l.value&&(s.value=n,e.web3.nftLoad[a]=n),await d(),await h(),setTimeout(()=>{u.value=!1},2e3)},v=T(()=>{const a=parseInt(l.value);return e.web3.nftLoad[a]!==void 0}),C=async()=>{const a=parseInt(l.value);if(await k(a)===!0){await d(),await h(),console.log("* toClaim ok");const t=await f(a);t.id&&t.id===l.value&&(s.value=t,e.web3.nftLoad[a]=t)}},A=T(()=>{var n,t;const a=parseInt(l.value);return e.web3.nftLoad[a]!==void 0&&((t=(n=s==null?void 0:s.value)==null?void 0:n.metadata)!=null&&t.image)?`
	--crt:#fff;
    background-image: url(${s.value.metadata.image});
    background-position: center;
    background-repeat: no-repeat;
    background-size: 130% 100%;`:""}),g=a=>{const n=a.target,t=a.pageX-n.offsetLeft,p=a.pageY-n.offsetTop;n.style.setProperty("--x",t+"px"),n.style.setProperty("--y",p+"px")};return N(v,async a=>{if(a&&(console.log(a,"*existInLoad",e.web3.nftLoad[l.value]!==void 0,l.value,s.value),a&&!s.value)){const n=parseInt(l.value),t=await f(n);t.id&&t.id===l.value&&(s.value=t),console.log({resp:t})}}),N(()=>P.nftId,async function(a){if(l.value=a,s.value=null,console.log("w",a,v.value,e.web3.nftLoad[a]),!v.value&&!e.web3.nftLoad[a]){const n=parseInt(l.value);console.log("*startSearch");const t=await f(n);t.id&&t.id===l.value&&(s.value=t,e.web3.nftLoad[n]=t),console.log("* meta",s.value,{data:t})}e.web3.nftLoad[a],e.web3.nftLoad[a].id===a&&(s.value=e.web3.nftLoad[a])}),F(async()=>{const a=parseInt(l.value),n=await f(a);n.id&&n.id===l.value&&(s.value=n,e.web3.nftLoad[a]=n),n&&!e.web3.nftLoad[l.value]&&(s.value=n,e.web3.nftLoad[l.value]=n)}),L({nftId:l,existInLoad:v,mainStore:e,getBgNft:A,getLinkNftScan:r,moseMoveInCard:g,toClaim:C,loadRedresh:u,toRefresh:w}),(a,n)=>{var t;return o(),c("div",{class:m({"nft-item":!0,"loader-bg":!v.value}),style:R(A.value),onMousemove:g},[i("div",H,[i("label",K,[i("a",{href:z(r)(l.value),target:"_blank"},[S("# "+b(l.value)+" ",1),W],8,Q)]),i("img",{src:U,class:m({"icon-update-meta":!0,"loading-refresh":u.value}),onClick:w},null,2)]),(t=s.value)!=null&&t.reward&&v.value&&!u.value?(o(),c("div",Z,[i("label",ee,[ae,S(" "+b(s.value.reward)+" TMINE ",1)]),i("img",{src:Y,onClick:C,class:"icon-reward-claim"})])):y("",!0),!v.value||u.value?(o(),c("div",te,se)):y("",!0)],38)}}};const le={key:0,class:"paginator"},oe={key:0,class:"slot-btn"},ie={key:1,class:"slot-btn"},ce={class:"lbl-page"},ue={key:0},re=["onClick"],de={class:"txt-pages"},ve={key:1},ge=["onClick"],fe={key:2,class:"slot-btn _left"},_e={key:3,class:"slot-btn empty"},pe={key:1,class:"paginator"},me={__name:"ContainerGallery",setup(B,{expose:L}){const P=new O,f=G(),r=_(1),d=_(!1),h=_(null),k=_(5),l=()=>{d.value=!d.value,d.value?k.value=14:k.value=5,e.value=s()},u=T(()=>s().elementosPagina),s=()=>{const g=JSON.parse(JSON.stringify(f.web3.nftTokensIds)),a=P.arrayPaginator(g,k.value,r.value);return h.value=a.totalPaginas,a},e=_(s()),w=g=>{r.value=parseInt(g),e.value=s(),console.log("toPage",r.value)},v=()=>{r.value<h.value&&(r.value++,e.value=s()),console.log("nextPage",r.value)},C=()=>{r.value>1&&(r.value--,e.value=s()),console.log("previusPage",r.value)};return N(()=>f.web3.nftTokensIds,g=>{g&&(e.value=s())}),L({data:[],mainStore:f,currentPage:e,nextPage:v,nftItemGallery:M,getCurrentTarget:u,multiGrid14:d,changeToMultigrid:l}),(g,a)=>{const n=j("key");return o(),c(I,null,[i("section",{class:m({content:!0,"multi-grid-14":d.value,lessMinimal:u.value&&u.value.length&&u.value.length<=4,"minimal-size":d.value&&u.value.length<=3})},[(o(!0),c(I,null,$(u.value,(t,p)=>(o(),E(M,{"nft-id":t,"v-key":p},null,8,["nft-id","v-key"]))),256))],2),e.value&&e.value.paginaActual?(o(),c("section",le,[e.value.paginaActual>1?(o(),c("span",oe,[i("i",{class:m({"fas fa-th icon-grid":!0,active:d.value}),style:{color:"#ffffff"},onClick:l},null,2),i("button",{class:"btn btn-secundary",onClick:C},"previus")])):y("",!0),e.value.paginaActual==1?(o(),c("span",ie,[i("i",{class:m({"fas fa-th icon-grid":!0,active:d.value}),style:{color:"#ffffff"},onClick:l},null,2)])):y("",!0),i("label",ce,[e.value.totalPaginas>2?(o(),c("div",ue,[(o(),c(I,null,$(3,(t,p)=>J(i("button",{class:m({"btn-pag":!0,active:e.value.paginaActual===t}),onClick:D=>w(t)},[S(b(t),1)],10,re),[[n,p]])),64))])):y("",!0),i("div",de," page "+b(e.value.paginaActual)+" de "+b(e.value.totalPaginas),1),e.value.totalPaginas>=10?(o(),c("div",ve,[(o(!0),c(I,null,$(e.value.totalPaginas,(t,p)=>(o(),c(I,null,[e.value.totalPaginas>3&&p>=e.value.totalPaginas-3?(o(),c("button",{key:0,class:m({"btn-pag":!0,active:e.value.paginaActual===t}),onClick:D=>w(t)},b(t),11,ge)):y("",!0)],64))),256))])):y("",!0)]),e.value.totalPaginas!==e.value.paginaActual?(o(),c("span",fe,[i("button",{class:"btn btn-primary",onClick:v},"next")])):(o(),c("span",_e))])):(o(),c("section",pe))],64)}}},be=V(me,[["__scopeId","data-v-eb00f3a9"]]);export{be as C};
