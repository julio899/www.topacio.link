import{k as x,r as _,u as M,l as T,f as N,o as F,a as o,g as i,d as c,i as z,e as G,t as b,n as m,j as y,m as R,_ as V,q as j,F as I,s as $,c as E,v as J,h as O}from"./index-cb8913ad.js";const q="/img/polygon-matic-logo.svg",U="/img/update-meta.svg",X="/img/claim_.svg";const Y={class:"header-card"},H={class:"nft-number"},K=["href"],Q=c("img",{src:q,alt:"logo matic"},null,-1),W={key:0,class:"footer-card"},Z={class:"nft-number nft-reward-tmine"},aa={key:1,class:"snippet","data-title":"dot-flashing"},ea=c("div",{class:"stage"},[c("div",{class:"dot-flashing"})],-1),ta=[ea],B={__name:"nftItemGallery",props:["nftId"],setup(S,{expose:L}){const P=S,f=x("getDataNFT"),r=x("getLinkNftScan"),d=x("syncBalance"),h=x("syncTmineBalance"),k=x("claimReward"),l=_(P.nftId),u=_(!1),s=_(null),a=M(),w=async()=>{u.value=!0;const e=parseInt(l.value),n=await f(e);n.id&&n.id===l.value&&(s.value=n,a.web3.nftLoad[e]=n),await d(),await h(),setTimeout(()=>{u.value=!1},2e3)},v=T(()=>{const e=parseInt(l.value);return a.web3.nftLoad[e]!==void 0}),C=async()=>{const e=parseInt(l.value);if(await k(e)===!0){await d(),await h(),console.log("* toClaim ok");const t=await f(e);t.id&&t.id===l.value&&(s.value=t,a.web3.nftLoad[e]=t)}},A=T(()=>{var n,t;const e=parseInt(l.value);return a.web3.nftLoad[e]!==void 0&&((t=(n=s==null?void 0:s.value)==null?void 0:n.metadata)!=null&&t.image)?`
	--crt:#fff;
    background-image: url(${s.value.metadata.image});
    background-position: center;
    background-repeat: no-repeat;
    background-size: 130% 100%;`:""}),g=e=>{const n=e.target,t=e.pageX-n.offsetLeft,p=e.pageY-n.offsetTop;n.style.setProperty("--x",t+"px"),n.style.setProperty("--y",p+"px")};return N(v,async e=>{if(e&&(console.log(e,"*existInLoad",a.web3.nftLoad[l.value]!==void 0,l.value,s.value),e&&!s.value)){const n=parseInt(l.value),t=await f(n);t.id&&t.id===l.value&&(s.value=t),console.log({resp:t})}}),N(()=>P.nftId,async function(e){if(l.value=e,s.value=null,console.log("w",e,v.value,a.web3.nftLoad[e]),!v.value&&!a.web3.nftLoad[e]){const n=parseInt(l.value);console.log("*startSearch");const t=await f(n);t.id&&t.id===l.value&&(s.value=t,a.web3.nftLoad[n]=t),console.log("* meta",s.value,{data:t})}a.web3.nftLoad[e],a.web3.nftLoad[e].id===e&&(s.value=a.web3.nftLoad[e])}),F(async()=>{const e=parseInt(l.value),n=await f(e);n.id&&n.id===l.value&&(s.value=n,a.web3.nftLoad[e]=n),n&&!a.web3.nftLoad[l.value]&&(s.value=n,a.web3.nftLoad[l.value]=n)}),L({nftId:l,existInLoad:v,mainStore:a,getBgNft:A,getLinkNftScan:r,moseMoveInCard:g,toClaim:C,loadRedresh:u,toRefresh:w}),(e,n)=>{var t;return o(),i("div",{class:m({"nft-item":!0,"loader-bg":!v.value}),style:R(A.value),onMousemove:g},[c("div",Y,[c("label",H,[c("a",{href:z(r)(l.value),target:"_blank"},[G("# "+b(l.value)+" ",1),Q],8,K)]),c("img",{src:U,class:m({"icon-update-meta":!0,"loading-refresh":u.value}),onClick:w},null,2)]),(t=s.value)!=null&&t.reward&&v.value&&!u.value?(o(),i("div",W,[c("label",Z,b(s.value.reward)+" TMINE ",1),c("img",{src:X,onClick:C,class:"icon-reward-claim"})])):y("",!0),!v.value||u.value?(o(),i("div",aa,ta)):y("",!0)],38)}}};const na={key:0,class:"paginator"},sa={key:0,class:"slot-btn"},la={key:1,class:"slot-btn"},oa={class:"lbl-page"},ia={key:0},ca=["onClick"],ua={class:"txt-pages"},ra={key:1},da=["onClick"],va={key:2,class:"slot-btn _left"},ga={key:3,class:"slot-btn empty"},fa={key:1,class:"paginator"},_a={__name:"ContainerGallery",setup(S,{expose:L}){const P=new O,f=M(),r=_(1),d=_(!1),h=_(null),k=_(5),l=()=>{d.value=!d.value,d.value?k.value=14:k.value=5,a.value=s()},u=T(()=>s().elementosPagina),s=()=>{const g=JSON.parse(JSON.stringify(f.web3.nftTokensIds)),e=P.arrayPaginator(g,k.value,r.value);return h.value=e.totalPaginas,e},a=_(s()),w=g=>{r.value=parseInt(g),a.value=s(),console.log("toPage",r.value)},v=()=>{r.value<h.value&&(r.value++,a.value=s()),console.log("nextPage",r.value)},C=()=>{r.value>1&&(r.value--,a.value=s()),console.log("previusPage",r.value)};return N(()=>f.web3.nftTokensIds,g=>{g&&(a.value=s())}),L({data:[],mainStore:f,currentPage:a,nextPage:v,nftItemGallery:B,getCurrentTarget:u,multiGrid14:d,changeToMultigrid:l}),(g,e)=>{const n=j("key");return o(),i(I,null,[c("section",{class:m({content:!0,"multi-grid-14":d.value,lessMinimal:u.value&&u.value.length&&u.value.length<=4,"minimal-size":d.value&&u.value.length<=3})},[(o(!0),i(I,null,$(u.value,(t,p)=>(o(),E(B,{"nft-id":t,"v-key":p},null,8,["nft-id","v-key"]))),256))],2),a.value&&a.value.paginaActual?(o(),i("section",na,[a.value.paginaActual>1?(o(),i("span",sa,[c("i",{class:m({"fas fa-th icon-grid":!0,active:d.value}),style:{color:"#ffffff"},onClick:l},null,2),c("button",{class:"btn btn-secundary",onClick:C},"previus")])):y("",!0),a.value.paginaActual==1?(o(),i("span",la,[c("i",{class:m({"fas fa-th icon-grid":!0,active:d.value}),style:{color:"#ffffff"},onClick:l},null,2)])):y("",!0),c("label",oa,[a.value.totalPaginas>2?(o(),i("div",ia,[(o(),i(I,null,$(3,(t,p)=>J(c("button",{class:m({"btn-pag":!0,active:a.value.paginaActual===t}),onClick:D=>w(t)},[G(b(t),1)],10,ca),[[n,p]])),64))])):y("",!0),c("div",ua," page "+b(a.value.paginaActual)+" de "+b(a.value.totalPaginas),1),a.value.totalPaginas>=10?(o(),i("div",ra,[(o(!0),i(I,null,$(a.value.totalPaginas,(t,p)=>(o(),i(I,null,[a.value.totalPaginas>3&&p>=a.value.totalPaginas-3?(o(),i("button",{key:0,class:m({"btn-pag":!0,active:a.value.paginaActual===t}),onClick:D=>w(t)},b(t),11,da)):y("",!0)],64))),256))])):y("",!0)]),a.value.totalPaginas!==a.value.paginaActual?(o(),i("span",va,[c("button",{class:"btn btn-primary",onClick:v},"next")])):(o(),i("span",ga))])):(o(),i("section",fa))],64)}}},ma=V(_a,[["__scopeId","data-v-8ea43d64"]]);export{ma as C};
