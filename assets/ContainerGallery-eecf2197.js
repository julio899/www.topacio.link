import{i as S,_ as j,m as W,r as p,u as V,n as X,o as q,a as c,g as r,d as n,e as G,t as I,k,q as J,v as Y,s as C,S as z,x as H,p as K,b as Q,y as R,f as E,j as Z,z as ee,A as ae,F,B as te,C as D,c as se,h as ne}from"./index-cac13612.js";const oe="/img/polygon-matic-logo.svg",le="/img/update-meta.svg",ie="/img/fly-svgrepo-com.svg",ce="/img/Tmine2.svg",re="/img/claim_.svg";const ue=S("transferNFT"),de={name:"SendNFT",props:["show","idtarget"],emits:["closeModalSend"],setup(T,{emit:f}){const{show:h,idtarget:l}=W(T),u=p(!1),d=p(""),g=V();X(()=>{d.value="",u.value=!1}),q(()=>{u.value=!1,d.value="",console.log({transferNFT:ue})});const x=()=>{d.value="",u.value=!1,f("closeModalSend",!0)};return{store:g,show:h,closeModal:x,confirmSend:async()=>{u.value=!0;const _=d.value.toString().trim().replaceAll("	",""),t=z.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:i=>{i.addEventListener("mouseenter",z.stopTimer),i.addEventListener("mouseleave",z.resumeTimer)}});if(!H(_))return u.value=!1,x(),t.fire({icon:"error",title:"Wallet is no valid"});const s=l.value;f("transferNFT",{w:_,id:s})},loading:u,wallet:d}}},O=T=>(K("data-v-a5a1214e"),T=T(),Q(),T),ve={class:"modal-container"},ge={class:"Cabecera"},fe={class:"Contenido"},_e={key:0,class:"loader-interno"},me={key:1,class:"group"},pe=O(()=>n("span",{class:"highlight"},null,-1)),he=O(()=>n("span",{class:"bar"},null,-1)),ye=O(()=>n("label",null,"Wallet destine",-1)),we={class:"Bootonera"};function be(T,f,h,l,u,d){return c(),r("section",{class:C({"modal-t":!0,"show-modal":l.show,"hide-modal":!l.show})},[n("div",ve,[n("div",ge,[G(" SEND NFT ðŸ”– "+I(h.idtarget)+" ",1),n("button",{class:"close",onClick:f[0]||(f[0]=(...g)=>l.closeModal&&l.closeModal(...g))},"âœ–")]),n("div",fe,[l.loading?(c(),r("div",_e)):k("",!0),l.loading?k("",!0):(c(),r("div",me,[J(n("input",{type:"text","onUpdate:modelValue":f[1]||(f[1]=g=>l.wallet=g),required:""},null,512),[[Y,l.wallet]]),pe,he,ye]))]),n("div",we,[l.loading?k("",!0):(c(),r("span",{key:0,class:"btn-send",onClick:f[2]||(f[2]=(...g)=>l.confirmSend&&l.confirmSend(...g))},"CONFIRM"))])])],2)}const ke=j(de,[["render",be],["__scopeId","data-v-a5a1214e"]]);const Te={class:"header-card"},xe={class:"nft-number"},Se=["href"],Ce=n("img",{src:oe,alt:"logo matic"},null,-1),Ne={key:0,class:"footer-card"},Ie={class:"nft-number nft-reward-tmine"},Le=n("img",{src:ce,alt:"tmine logo",class:"img-logo-tmine"},null,-1),Pe={key:1,class:"snippet","data-title":"dot-flashing"},$e=n("div",{class:"stage"},[n("div",{class:"dot-flashing"})],-1),Fe=[$e],U={__name:"nftItemGallery",props:["nftId","grid","target"],setup(T,{expose:f}){const h=T,l=S("getDataNFT"),u=S("getLinkNftScan"),d=S("syncBalance"),g=S("syncTmineBalance"),x=S("claimReward"),L=S("transferNFT"),_=S("refreshTokens"),t=p(h.nftId),s=p(!1),i=p(null),P=p(null),N=p(!1),v=V(),w=()=>{N.value=!0},$=async({w:e,id:a})=>{console.log("toTransferNFT",{w:e,id:a});const o=await L(e,a);await d(),await g(),await _(),console.log({modalSend:P,resp:o}),!(o!=null&&o.blockNumber)||o===null?P.value.loading=!1:N.value=!1},B=async()=>{s.value=!0;const e=parseInt(t.value),a=await l(e);a.id&&a.id===t.value&&(i.value=a,v.web3.nftLoad[e]=a),await d(),await g(),setTimeout(()=>{s.value=!1},2e3)},b=R(()=>{const e=parseInt(t.value);return v.web3.nftLoad[e]!==void 0}),M=async()=>{const e=parseInt(t.value);if(await x(e)===!0){await d(),await g(),console.log("* toClaim ok");const o=await l(e);o.id&&o.id===t.value&&(i.value=o,v.web3.nftLoad[e]=o)}},A=R(()=>{var o,y;const e=parseInt(t.value),a=h.grid&&h.grid&&h.target.length>7?"cover":"150% 100%";return v.web3.nftLoad[e]!==void 0&&((y=(o=i==null?void 0:i.value)==null?void 0:o.metadata)!=null&&y.image)?`
	--crt:#fff;
    background-image: url(${i.value.metadata.image});
    background-position: center;
    background-repeat: no-repeat;
    background-size: ${a};`:""}),m=e=>{const a=e.target,o=e.pageX-a.offsetLeft,y=e.pageY-a.offsetTop;a.style.setProperty("--x",o+"px"),a.style.setProperty("--y",y+"px")};return E(b,async e=>{if(e&&(console.log(e,"*existInLoad",v.web3.nftLoad[t.value]!==void 0,t.value,i.value),e&&!i.value)){const a=parseInt(t.value),o=await l(a);o.id&&o.id===t.value&&(i.value=o),console.log({resp:o})}}),E(()=>h.nftId,async function(e){var a;if(t.value=e,i.value=null,console.log("w",e,b.value,v.web3.nftLoad[e]),!b.value&&!v.web3.nftLoad[e]){const o=parseInt(t.value);console.log("*startSearch");const y=await l(o);y.id&&y.id===t.value&&(i.value=y,v.web3.nftLoad[o]=y),console.log("* meta",i.value,{data:y})}v.web3.nftLoad[e],((a=v.web3.nftLoad[e])==null?void 0:a.id)===e&&(i.value=v.web3.nftLoad[e])}),q(async()=>{const e=parseInt(t.value),a=await l(e);a.id&&a.id===t.value&&(i.value=a,v.web3.nftLoad[e]=a),a&&!v.web3.nftLoad[t.value]&&(i.value=a,v.web3.nftLoad[t.value]=a)}),f({nftId:t,existInLoad:b,mainStore:v,getBgNft:A,getLinkNftScan:u,moseMoveInCard:m,toClaim:M,loadRedresh:s,toRefresh:B,showModalSedNft:N,toSend:w,toTransferNFT:$}),(e,a)=>{var o;return c(),r(F,null,[n("div",{class:C({"nft-item":!0,"loader-bg":!b.value}),style:ee(A.value),onMousemove:m},[n("div",Te,[n("label",xe,[n("a",{href:Z(u)(t.value),target:"_blank"},[G("# "+I(t.value)+" ",1),Ce],8,Se)]),n("img",{src:le,class:C({"icon-update-meta":!0,"loading-refresh":s.value}),onClick:B},null,2)]),n("div",{class:"content-card"},[n("img",{src:ie,onClick:w})]),(o=i.value)!=null&&o.reward&&b.value&&!s.value?(c(),r("div",Ne,[n("label",Ie,[Le,G(" "+I(i.value.reward)+" TMINE ",1)]),n("img",{src:re,onClick:M,class:"icon-reward-claim"})])):k("",!0),!b.value||s.value?(c(),r("div",Pe,Fe)):k("",!0)],38),ae(ke,{show:N.value,idtarget:t.value,onCloseModalSend:a[0]||(a[0]=y=>N.value=!1),onTransferNFT:$,ref_key:"modalSend",ref:P},null,8,["show","idtarget"])],64)}}};const Me={key:0,class:"paginator"},Ae={key:0,class:"slot-btn"},Be={key:1,class:"slot-btn"},Ge={class:"lbl-page"},ze={key:0},De=["onClick"],Re={class:"txt-pages"},Ee={key:1},Ve=["onClick"],Oe={key:2,class:"slot-btn _left"},Ue={key:3,class:"slot-btn empty"},je={key:1,class:"paginator"},qe={__name:"ContainerGallery",setup(T,{expose:f}){const h=new ne,l=V(),u=p(1),d=p(!1),g=p(null),x=p(5),L=()=>{d.value=!d.value,d.value?x.value=12:x.value=5,s.value=t()},_=R(()=>t().elementosPagina),t=()=>{const w=JSON.parse(JSON.stringify(l.web3.nftTokensIds)),$=h.arrayPaginator(w,x.value,u.value);return g.value=$.totalPaginas,$},s=p(t()),i=w=>{u.value=parseInt(w),s.value=t(),console.log("toPage",u.value)},P=()=>{u.value<g.value&&(u.value++,s.value=t()),console.log("nextPage",u.value)},N=()=>{u.value>1&&(u.value--,s.value=t()),console.log("previusPage",u.value)};return E(()=>l.web3.nftTokensIds,w=>{w&&(s.value=t())}),f({data:[],mainStore:l,currentPage:s,nextPage:P,nftItemGallery:U,getCurrentTarget:_,multiGrid14:d,changeToMultigrid:L}),(w,$)=>{var b,M,A;const B=te("key");return c(),r(F,null,[n("section",{class:C({content:!0,"multi-grid-14":d.value,lessMinimal:_.value&&((b=_.value)==null?void 0:b.length)&&((M=_.value)==null?void 0:M.length)<=4,"minimal-size":d.value&&((A=_.value)==null?void 0:A.length)<=3})},[(c(!0),r(F,null,D(_.value,(m,e)=>(c(),se(U,{grid:d.value,target:_.value,"nft-id":m,"v-key":e},null,8,["grid","target","nft-id","v-key"]))),256))],2),s.value&&s.value.paginaActual?(c(),r("section",Me,[s.value.paginaActual>1?(c(),r("span",Ae,[n("i",{class:C({"fas fa-th icon-grid":!0,active:d.value}),style:{color:"#ffffff"},onClick:L},null,2),n("button",{class:"btn btn-secundary",onClick:N},"previus")])):k("",!0),s.value.paginaActual==1?(c(),r("span",Be,[n("i",{class:C({"fas fa-th icon-grid":!0,active:d.value}),style:{color:"#ffffff"},onClick:L},null,2)])):k("",!0),n("label",Ge,[s.value.totalPaginas>2?(c(),r("div",ze,[(c(),r(F,null,D(3,(m,e)=>J(n("button",{class:C({"btn-pag":!0,active:s.value.paginaActual===m}),onClick:a=>i(m)},[G(I(m),1)],10,De),[[B,e]])),64))])):k("",!0),n("div",Re," page "+I(s.value.paginaActual)+" de "+I(s.value.totalPaginas),1),s.value.totalPaginas>=10?(c(),r("div",Ee,[(c(!0),r(F,null,D(s.value.totalPaginas,(m,e)=>(c(),r(F,null,[e&&s.value.totalPaginas>3&&e>=s.value.totalPaginas-3?(c(),r("button",{key:0,class:C({"btn-pag":!0,active:s.value.paginaActual===m}),onClick:a=>i(m)},I(m),11,Ve)):k("",!0)],64))),256))])):k("",!0)]),s.value.totalPaginas!==s.value.paginaActual?(c(),r("span",Oe,[n("button",{class:"btn btn-primary",onClick:P},"next")])):(c(),r("span",Ue))])):(c(),r("section",je))],64)}}},We=j(qe,[["__scopeId","data-v-13a4c6e6"]]);export{We as C,ce as _};
