import{_ as E,j as l,r as v,u as P,A as T,f as S,o as j,a as g,g as h,d as i,k as p,e as C,t as F,m as V,w as M,l as A,B as $,y as R,p as W,b as G,F as H,C as X,c as Y}from"./index-6e1b0807.js";import{e as k,_ as q}from"./Paginator.vue_vue_type_style_index_0_lang-fe3eacb3.js";import{_ as J}from"./Tmine2-25d51798.js";const D=_=>(W("data-v-ea47d9c9"),_=_(),G(),_),K={class:"header-card"},O=["href"],Q=D(()=>i("img",{class:"img-link-polygon",src:q,alt:"logo matic"},null,-1)),U={key:0,class:"footer-card"},Z={class:"nft-number nft-reward-tmine"},ee={key:0,class:"snippet","data-title":"dot-flashing"},te=D(()=>i("div",{class:"stage"},[i("div",{class:"dot-flashing"})],-1)),ae=[te],oe={__name:"nftItemBoveda",props:["nftId","grid","target","h"],setup(_,{expose:x}){const d=_,f=l("getDataNFT"),w=l("getLinkNftScan"),I=l("toVault"),y=l("claimVault");l("syncBalance"),l("syncTmineBalance"),l("claimReward"),l("transferNFT"),l("refreshTokens");const b=l("getNFTVault");l("tmineAddAllowance");const t=v(d.nftId),r=v(!1),o=v(null);v(null);const m=v(null),s=P(),u=T(()=>{const e=parseInt(t.value);return s.web3.nftLoad[e]!==void 0}),L=T(()=>{var a,n,c,N;const e=parseInt(t.value);return(n=(a=o==null?void 0:o.value)==null?void 0:a.metadata)!=null&&n.image&&console.log("* img",o.value.metadata.image),s.web3.nftLoad[e]!==void 0&&((N=(c=o==null?void 0:o.value)==null?void 0:c.metadata)!=null&&N.image)?`
	--crt:#fff;
    background-image: url(${o.value.metadata.image});
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
    display: flex;
    flex-flow: column;
    justify-content: space-between;
    `:""}),B=e=>{const a=e.target,n=e.pageX-a.offsetLeft,c=e.pageY-a.offsetTop;a.style.setProperty("--x",n+"px"),a.style.setProperty("--y",c+"px")};return S(u,async e=>{if(e&&(console.log(e,"*existInLoad",s.web3.nftLoad[t.value]!==void 0,t.value,o.value),e&&!o.value)){const a=parseInt(t.value),n=await f(a);n.id&&n.id===t.value&&(o.value=n),console.log({resp:n})}}),S(()=>d.nftId,async function(e){var a;if(t.value=e,o.value=null,console.log("w",e,u.value,s.web3.nftLoad[e]),!u.value&&!s.web3.nftLoad[e]){const n=parseInt(t.value);console.log("*startSearch");const c=await f(n);c.id&&c.id===t.value&&(o.value=c,s.web3.nftLoad[n]=c),console.log("* meta",o.value,{data:c})}s.web3.nftLoad[e],((a=s.web3.nftLoad[e])==null?void 0:a.id)===e&&(o.value=s.web3.nftLoad[e])}),j(async()=>{const e=parseInt(t.value),a=await f(e);m.value=await b(e),a.id&&a.id===t.value&&s.web3.nftLoad[e]&&(o.value=a,s.web3.nftLoad[e]=a),a&&!s.web3.nftLoad[t.value]&&(o.value=a,s.web3.nftLoad[t.value]=a)}),x({nftId:t,existInLoad:u,mainStore:s,getBgNft:L,getLinkNftScan:w,moseMoveInCard:B,loadRedresh:r,Popper:k,toVault:I,dataItem:m,claimVault:y}),(e,a)=>(g(),h("div",{class:R({"nft-item":!0,"loader-bg":!u.value}),style:$(`height: ${d.h}px;`),onMousemove:B},[i("div",{class:"content-card",style:$(L.value)},[i("div",K,[i("a",{href:p(w)(t.value),target:"_blank"},[C("# "+F(t.value)+" ",1),V(p(k),{content:"Examinar en Polygonscan",arrow:!0,hover:!0},{default:M(()=>[Q]),_:1})],8,O)]),V(p(k),{content:"Exatraer Fragmento",arrow:!1,hover:!0,zIndex:"10000"},{default:M(()=>{var n;return[(n=m.value)!=null&&n.priceW&&u.value&&!r.value?(g(),h("div",U,[i("label",Z,[i("img",{class:"img-logo-tmine",src:J,alt:"tmine logo",onClick:a[0]||(a[0]=c=>p(y)(t.value,m.value.priceW))}),C(" "+F(m.value.price)+" TMINE ",1)])])):A("",!0)]}),_:1})],4),!u.value||r.value?(g(),h("div",ee,ae)):A("",!0)],38))}},z=E(oe,[["__scopeId","data-v-ea47d9c9"]]);const ne={class:"content container-items"},se={__name:"ContainerBoveda",setup(_,{expose:x}){const d=P(),f=v(!1),w=l("getNFTsBoveda"),I=[];function y(t,r){return t=Math.ceil(t),r=Math.floor(r),Math.floor(Math.random()*(r-t+1))+t}const b=()=>y(280,500);return j(async()=>{await w(),console.log("tokens",d.web3.bovedaTokens)}),x({data:I,getHeight:b,nftItemBoveda:z,multiGrid14:f}),(t,r)=>(g(),h("main",ne,[(g(!0),h(H,null,X(p(d).web3.bovedaTokens,o=>(g(),Y(z,{grid:f.value,target:p(d).web3.bovedaTokens,"nft-id":o,h:b()},null,8,["grid","target","nft-id","h"]))),256))]))}},ie=E(se,[["__scopeId","data-v-65224e95"]]);export{ie as default};
