import{_ as O,i as U,j as c,u as q,r as w,f as K,o as L,k as z,a as r,g as d,l as t,d as a,e as i,t as l,m as p,c as V,n as T,w as D,p as Q,b as X,q as Y,h as Z}from"./index-5ffa76a8.js";import{_ as ee}from"./Tmine2-25d51798.js";import{C as E}from"./ContainerGallery-3f51dc0b.js";import{_ as I,a as P,b as $}from"./ScrollAreaComponent.vue_vue_type_style_index_0_lang-5af2a295.js";import"./Paginator.vue_vue_type_style_index_0_lang-b41817a9.js";import"./Paginator.vue_vue_type_script_setup_true_lang-370d0410.js";import"./iconify-034b95b4.js";import"./index-4923bae4.js";const A="/img/Tmine2-w.svg";const g=b=>(Q("data-v-09194fc5"),b=b(),X(),b),te={class:"subscription"},ae={key:0,class:"title"},se={class:"title-left-section"},oe=g(()=>a("img",{src:A,alt:"tmine logo",class:"img-logo-tmine"},null,-1)),ne={key:0},ie={key:0,class:"text-rate"},ce={class:"halving-container"},re={class:"sidebar"},le={key:0,id:"list-options"},pe={class:"lbl-left"},de=g(()=>a("span",null,[a("img",{src:Y,alt:"matic-logo-banance",class:"matic-logo-banance"}),i(" MATIC ")],-1)),me={class:"lbl-left"},_e=g(()=>a("span",null,[a("img",{src:A,alt:"tmine-logo-banance",class:"tmine-logo-banance"}),i(" TMINE ")],-1)),ue=g(()=>a("label",{class:"lbl-left"},[a("span",{class:"add-to-metamask"},[a("img",{src:ee,class:"tmine-logo-banance"}),i(" Add TMine ")])],-1)),ge=[ue],be={key:0,class:"in-col p-1 li-sort"},he=g(()=>a("span",null,"Proximo Sorteo",-1)),fe={class:"p-1-lr"},we={__name:"DashboardView",setup(b,{expose:H}){const y=U.useToast(),k=c("syncTmineTotalSupply"),v=c("addTmineToMetamask");c("executeSelectWinner"),c("resetTimeEventDaily"),c("selectWinnerSorteo");const R=c("addMeToSorteo"),S=c("searchTmineRewardPerBlock"),x=c("searchHalving"),F=new Z,e=q(),h=w(1),C=w(null),W=w(10),j=()=>{var o=1,s=confetti.shapeFromText({text:"ðŸ’Ž",scalar:o});confetti({particleCount:100,spread:180,shapes:[s]})},M=async()=>{var o,s,_,u,f;try{const n=await R();y.open({message:"Registro procesado satisfactoriamente.",type:"success",position:"top-right"})}catch(n){console.log({e:n}),n!=null&&n.reason?y.open({message:n.reason,type:"error",position:"top-right"}):(_=(s=(o=n==null?void 0:n.info)==null?void 0:o.error)==null?void 0:s.data)!=null&&_.message&&((f=(u=n==null?void 0:n.info)==null?void 0:u.error)==null?void 0:f.code)==-32603&&y.open({message:"Gas insuficiente",type:"error",position:"top-right"})}},m=()=>{if(e.web3.nftTokensIds.length==0)return{elementosPagina:[],totalPaginas:1,paginaActual:1};const o=JSON.parse(JSON.stringify(e.web3.nftTokensIds)),s=F.arrayPaginator(o,W.value,h.value);return C.value=s.totalPaginas,console.log({dataFormat:s}),s},G=()=>{h.value<C.value&&(h.value++,N.value=m()),console.log("nextPage",h.value)},N=w(m()),B=()=>{var o;return(o=e==null?void 0:e.web3)!=null&&o.participantsInSorteo&&e.web3.participantsInSorteo.length==0?[]:e.web3.participantsInSorteo?e.web3.participantsInSorteo.flatMap(s=>s.substring(0,7)+"    ......    "+s.slice(-7)):[]};K(()=>e.web3.nftTokensIds,o=>{o&&(m(),k(),S(),x())});const J=[];return L(async()=>{await S(),await x(),k(),m(),console.log("onMounted",e.connected&&e.web3,e.connected,e.web3)}),z(()=>{S(),x(),k(),m()}),H({data:J,mainStore:e,currentPage:N,nextPage:G,ContainerGallery:E,addTmineToMetamask:v,shooterConfetti:j,CountdownComponent:I,ButtomComponent:P,registerInSorteo:M,ScrollAreaComponent:$,formatWallets:B}),(o,s)=>{var _,u;return r(),d("main",te,[t(e).connected&&t(e).web3?(r(),d("h1",ae,[a("span",se,[i(" Tmine "),oe,i(" Existencia Total: "+l(t(e).web3.tmineTotalSupply)+" ",1),(u=(_=t(e))==null?void 0:_.web3)!=null&&u.blockNumber?(r(),d("span",ne,"block: "+l(t(e).web3.blockNumber),1)):p("",!0)]),t(e).web3.rewardTmineBase?(r(),d("span",ie,"Rate: "+l(t(e).web3.rewardTmineBase),1)):p("",!0),a("div",ce,[i(" Halving: "),t(e).web3.halving?(r(),V(I,{key:0,dateTarget:parseInt(t(e).web3.halving)},null,8,["dateTarget"])):p("",!0)]),i(" Topacio Nft's assets "+l(t(e).web3.nftBalance)+" ðŸ’Ž / Holders: "+l(t(e).web3.holdersCount),1)])):p("",!0),a("section",re,[t(e).connected?(r(),d("ul",le,[a("li",null,[a("label",pe,[i(l(t(e).web3.balanceFormat)+" ",1),de])]),a("li",null,[a("label",me,[i(l(t(e).web3.tmineBalance)+" ",1),_e])]),a("li",{onClick:s[0]||(s[0]=(...f)=>t(v)&&t(v)(...f))},ge),t(e).web3.dateNextSorteo>999?(r(),d("li",be,[he,T(I,{dateTarget:t(e).web3.dateNextSorteo},null,8,["dateTarget"]),T(P,{class:"bnt1",onClick:M},{default:D(()=>[i("Participar")]),_:1}),T(P,{class:"btn3 p-1 no-cursor"},{default:D(()=>[i("Participantes en dia: "+l(t(e).web3.participantsInSorteo.length),1)]),_:1})])):p("",!0),a("li",fe,[T($,{title:"Participando para sorteo",items:B(),showKey:!0},null,8,["items"])])])):p("",!0)]),t(e).connected?(r(),V(E,{key:1})):p("",!0)])}}},Ce=O(we,[["__scopeId","data-v-09194fc5"]]);export{Ce as default};
