import{_ as z,a as E}from"./CountdownComponent-w6xEld1c.js";import{_ as N,j as F,a as r,b as c,k as p,l as L,u as A,m as M,r as B,p as $,q as a,d as t,t as v,f as m,e as _,w as T,s as V,v as I,S as D,x as G,y as U,h as W,o as Z,z as j,B as q,C as K,A as R}from"./index-Dx1DjroG.js";import{_ as H}from"./Tmine2-DhPnLw4a.js";import{C as J}from"./ContainerGallery-DQkIQfoS.js";import"./index-wEVP1Oqd.js";import"./Paginator.vue_vue_type_style_index_0_lang-BkGk3hl3.js";import"./Paginator.vue_vue_type_script_setup_true_lang-B4MR9YT6.js";import"./iconify-Dj5oKKNa.js";const O="/img/Tmine2-w.svg",Q="/img/icons/airdrop.png",X={},Y={id:"animation-pick",viewBox:"0 0 346.609 346.609","shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","project-id":"ae6668dd2d304dd384210d2898c2f18f","export-id":"5d0b83196efe401197225ebeb2ad45bb",cached:"false",version:"1.1","sodipodi:docname":"animation-pick.svg","inkscape:version":"1.3.2 (091e20e, 2023-11-25, custom)","xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape","xmlns:sodipodi":"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd",xmlns:"http://www.w3.org/2000/svg","xmlns:svg":"http://www.w3.org/2000/svg"};function ee(P,n){const f=F("sodipodi:namedview");return r(),c("svg",Y,[p(f,{id:"namedview1",pagecolor:"#505050",bordercolor:"#eeeeee",borderopacity:"1","inkscape:showpageshadow":"0","inkscape:pageopacity":"0","inkscape:pagecheckerboard":"0","inkscape:deskcolor":"#505050","inkscape:zoom":"1.8262653","inkscape:cx":"158.52023","inkscape:cy":"238.46481","inkscape:window-width":"1600","inkscape:window-height":"829","inkscape:window-x":"-8","inkscape:window-y":"-8","inkscape:window-maximized":"1","inkscape:current-layer":"animation-pick"}),n[0]||(n[0]=L('<defs id="defs1" data-v-d61fcdc2><linearGradient id="animation-pick-s-rect1-fill" x1="0.5" y1="0" x2="0.5" y2="1" spreadMethod="pad" gradientUnits="objectBoundingBox" gradientTransform="translate(0 0)" data-v-d61fcdc2><stop id="animation-pick-s-rect1-fill-0" offset="0%" stop-color="rgba(255,255,255,0)" data-v-d61fcdc2></stop><stop id="animation-pick-s-rect1-fill-1" offset="100%" stop-color="#010022" data-v-d61fcdc2></stop></linearGradient></defs><g id="animation-pick-s-g1_tr" transform="translate(80.118165,315.709748) rotate(-32.650812)" data-v-d61fcdc2><g id="animation-pick-s-g1" transform="translate(-70.935944,-256.668968)" data-v-d61fcdc2><path id="animation-pick-s-path1" d="M32.974,340.098c-.091.078-.173.156-.251.236l-1.845,1.847c-.381.143-.753.319-1.097.551-7.401,4.882-17.855,3.832-24.168-2.478-6.401-6.399-7.454-16.535-2.499-24.1.221-.341.383-.699.496-1.081L228.05,90.635l13.654,13.653l13.224,13.217C162.42,210.332,37.001,336.06,32.974,340.098Z" transform="matrix(.735873 0 0 0.722708 60.476257 15.982034)" data-v-d61fcdc2></path><path id="animation-pick-s-path2" d="M343.942,222.405l-77.04-108.028c-.174-.241-.369-.467-.579-.677L231.856,79.232c-.384-.38-.818-.703-1.291-.95l-50.39-26.581-10.431-15.068L180.837,0.816l12.892,2.575l98.727,83.688l54.153,134.255-2.667,1.071Z" transform="translate(-15.469981-12.213137)" data-v-d61fcdc2></path></g></g><g id="animation-pick-u-stone-pile-svgrepo-com_to" transform="translate(280.35358,284.7341)" data-v-d61fcdc2><path id="animation-pick-u-stone-pile-svgrepo-com" d="m 317.727,108.904 -95.192,96.592 -26.93,86.815 17.54,36.723 20.417,9.287 33.182,-55.082 11.297,-3.61 61.75,26.85 20.26,-12.998 4.47,-43.7 11.42,53.634 -10.622,14.162 3.772,1.64 5.238,6.5 6.832,34.343 55.977,-66.775 13.98,0.23 22.397,28.575 -9.453,-52.244 L 434.01,166.81 317.73,108.904 Z M 123.61,120.896 94.08,173 l -4.603,27.62 25.98,-8.442 11.704,7.377 0.084,0.634 28.295,59.865 13.773,-4.543 10.94,4.668 3.922,8.21 19.517,-62.917 -1.074,-33.336 -40.15,-0.522 -29.732,-23.78 34.06,10.888 42.49,-7.727 26.034,15.88 36.282,-36.815 c -2.777,-1.18 -5.615,-2.356 -8.58,-3.52 l -79.58,10.126 -3.528,-0.25 -56.307,-15.52 z m 249.33,36.422 47.058,66.02 2.107,62.51 L 396.822,226.15 331.5,165.746 Z m -262.2,55.32 -64.234,20.876 -16.71,78.552 50.794,5.582 0.596,-7.14 37.662,-36.707 -8.108,-61.16 z m 56.688,62.45 -36.44,12.016 -31.644,30.84 22.588,30.867 57.326,1.74 16.5,-16.16 -28.33,-59.302 z m 110.666,24.19 -44.307,73.546 -0.033,57.14 97.264,12.216 44.242,-19.528 -17.666,-88.806 -79.5,-34.567 z m 165.706,14.082 -46.843,55.876 0.287,1.774 65.147,13.887 25.78,-14.926 -44.37,-56.613 z m -138.382,15.89 39.23,22.842 13.41,50.658 -26.82,23.838 -45.015,-2.553 38.562,-28.242 2.483,-39.23 -21.85,-27.312 z m -238.37,53.838 -8.77,28.51 13.152,48.498 91.037,-11.91 1.32,-26.418 -62.582,-31.995 -34.156,-6.684 z" transform="matrix(0.279254,0,0,0.279254,220,220)" data-v-d61fcdc2></path></g>',3))])}const S=N(X,[["render",ee],["__scopeId","data-v-d61fcdc2"]]),te={key:0,id:"list-options"},oe={class:"balance-option"},se={class:"balance-option"},ae={class:"lbl-left"},ne=["src"],ie={key:0},re=["src"],ce={class:"balance-option"},le={class:"lbl-left"},de={class:"balance-option btn-tmine-container",style:{padding:"0 1em"}},pe={key:0,class:"in-col p-1 li-sort"},me={class:"box-vertical-flex"},fe={key:1,style:{padding:"0 1em"}},ue={key:0,class:"button-hat",src:"https://assets.codepen.io/4175254/santa-hat-test-9.png",alt:""},ge={key:1,class:"button-hat airdrop-move",src:Q,alt:""},we={key:2},_e={class:"p-1-lr"},be={__name:"SidebarPanel",setup(P,{expose:n}){const f=I(),e=A(),b=M.useToast(),u=B(!1),g=B(!0),l=$(()=>!!(e.web3&&(e.web3.nftBalance==0||e.web3.nftBalance=="0"))),d=$(()=>new Date().getUTCMonth()===11),k=async()=>{u.value||(await e.requestAirdrop(),b.open({message:"Airdrop testnet procesado satisfactoriamente.",type:"success",position:"top-right",timeout:7e3}),D.fire({position:"bottom-end",icon:"success",title:"The Airdrop mint may take a few seconds.⏱️",timerProgressBar:!0,showConfirmButton:!1,timer:2e4}),setTimeout(()=>{g.value=!1},21e3)),u.value=!0},h=()=>{var s;return(s=e==null?void 0:e.web3)!=null&&s.participantsInSorteo&&e.web3.participantsInSorteo.length==0?[]:e.web3.participantsInSorteo?e.web3.participantsInSorteo.flatMap(o=>o.substring(0,7)+"    ......    "+o.slice(-7)):[]},x=async()=>{var s,o,w,y,C;try{const i=await f.proxy.$w3AddMeToSorteo();console.log({r:i}),b.open({message:"Registro procesado satisfactoriamente.",type:"success",position:"top-right"})}catch(i){console.log({e:i}),i!=null&&i.reason?b.open({message:i.reason,type:"error",position:"top-right"}):(w=(o=(s=i==null?void 0:i.info)==null?void 0:s.error)==null?void 0:o.data)!=null&&w.message&&((C=(y=i==null?void 0:i.info)==null?void 0:y.error)==null?void 0:C.code)==-32603&&b.open({message:$t("general.titles.insufficient_gas"),type:"error",position:"top-right"})}};return n({instance:f,mainStore:e,registerInSorteo:x,airdrop:k,clickedAirdrop:u,enabledAirdrop:l,PickAnimation:S,isDiciembre:d}),(s,o)=>{const w=G,y=z,C=E;return a(e).connected?(r(),c("ul",te,[t("li",null,[t("div",oe,[o[0]||(o[0]=t("span",{class:"lbl-left"}," Total Supply TMINE ",-1)),t("label",null,v(a(e).web3.tmineTotalSupply),1)])]),t("li",null,[t("div",se,[t("span",ae,[s.$getConnectedState()&&s.$getImgBlockchain()?(r(),c("img",{key:0,src:s.$getImgBlockchain(),alt:"logo blockchain",width:"25px",height:"25px",class:"icon-blockchain"},null,8,ne)):m("",!0),o[1]||(o[1]=_(" BALANCE "))]),t("label",null,v(a(e).web3.balanceFormat),1),a(e).web3.Network?(r(),c("span",ie,[a(e).web3.Network.caipNetwork.assets.imageUrl?(r(),c("img",{key:0,src:a(e).web3.Network.caipNetwork.assets.imageUrl,alt:"matic-logo-banance",class:"matic-logo-banance"},null,8,re)):m("",!0),_(" "+v(a(e).web3.Network.caipNetwork.name),1)])):m("",!0)])]),t("li",null,[t("div",ce,[t("label",le,v(a(e).web3.tmaineBalanceFormat),1),o[2]||(o[2]=t("span",null,[t("img",{src:O,alt:"tmine-logo-banance",class:"tmine-logo-banance"}),_(" BALANCE TMINE ")],-1))])]),t("li",null,[t("div",de,[p(w,{class:"bnt1",onClick:a(f).proxy.$MultiWalletWeb3.addTmineToWallet},{default:T(()=>[o[3]||(o[3]=t("img",{src:H,class:"tmine-logo-banance"},null,-1)),_(" "+v(s.$t("general.titles.add_tmine")),1)]),_:1},8,["onClick"])])]),a(e).web3.dateNextSorteo&&a(e).web3.dateNextSorteo>999?(r(),c("li",pe,[t("div",me,[o[5]||(o[5]=t("span",null,"Proximo Sorteo",-1)),p(y,{dateTarget:a(e).web3.dateNextSorteo},null,8,["dateTarget"]),p(w,{class:"bnt1",onClick:x},{default:T(()=>o[4]||(o[4]=[_("Participar")])),_:1}),p(w,{class:"btn3 p-1 no-cursor"},{default:T(()=>[_("Participantes en dia: "+v(a(e).web3.participantsInSorteo.length),1)]),_:1})])])):m("",!0),g.value&&l.value?(r(),c("li",fe,[p(w,{class:V({airdroptBtn:!0,bnt1:!0,clicked:u.value}),onClick:k},{default:T(()=>[o[6]||(o[6]=_(" Get Airdrop ")),d.value?(r(),c("img",ue)):m("",!0),d.value?m("",!0):(r(),c("img",ge))]),_:1},8,["class"])])):m("",!0),u.value&&!a(e).web3.airdorpProccesed?(r(),c("li",we,[p(S)])):m("",!0),t("li",_e,[p(C,{title:"Participando para sorteo",items:h(),showKey:!0},null,8,["items"])])])):m("",!0)}}},ke=N(be,[["__scopeId","data-v-a664be46"]]),he={key:0,class:"panel-container"},ve={key:1},xe={__name:"PanelView",setup(P){const n=A(),f="0x7E375Febac53d9B854e24019d7bc3bA6dFFCBc3E",e=I(),{t:b}=U(),u=M.useToast();return W(()=>n.web3.signer,function(g){var l,d;(d=(l=e==null?void 0:e.appContext)==null?void 0:l.config)!=null&&d.globalProperties&&(e.appContext.config.globalProperties.$refreshTokens(),e.appContext.config.globalProperties.$getFragments())}),Z(async()=>{var g,l;if((g=n==null?void 0:n.web3)!=null&&g.nftContract){const{walletProvider:d}=j("eip155"),h=await new q(d).getSigner(),x=new K(f,R,h);((l=n==null?void 0:n.web3)==null?void 0:l.walletName)==="MetaMask"&&(x.on("NewMint",s=>{console.log("NewMint",{w:s}),e.appContext.config.globalProperties.$refreshTokens(),(h==null?void 0:h.address)==s&&(n.proccesedAirdrop(),confetti({particleCount:100,spread:180,scalar:.8}),setTimeout(function(){confetti({particleCount:150,spread:180,scalar:.5,shapes:[confetti.shapeFromText({text:"💎",scalar:1.25})]})},350),setTimeout(function(){confetti({particleCount:150,spread:180,scalar:.5})},500),u.open({message:b("general.success.airdrop_completed"),type:"success",position:"top-left"}))}),x.on("Transfer",s=>{console.log("Transfer",{e:s}),e.appContext.config.globalProperties.$refreshTokens()}))}}),(g,l)=>{var d,k;return((k=(d=a(n))==null?void 0:d.web3)==null?void 0:k.connected)===!0?(r(),c("section",he,[t("aside",null,[p(ke)]),t("article",null,[p(J)])])):(r(),c("section",ve,l[0]||(l[0]=[t("h1",null,"Necesitas conexion web3",-1)])))}}},Ae=N(xe,[["__scopeId","data-v-fe465e5b"]]);export{Ae as default};
